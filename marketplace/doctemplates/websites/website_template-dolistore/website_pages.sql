-- File generated by Dolibarr 22.0.0-alpha --;

-- Page ID 1__+MAX_llx_website_page__ - Aliases 404 --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(1__+MAX_llx_website_page__, null, __WEBSITE_ID__, '404', '', '404', '', 'en', '', '', '1', '2024-08-19 11:40:14', '2025-01-15 23:11:36', null, '', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOSTINT(\'cat\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php __N__            includeContainer(\'header\');__N__            $__PAGE__TITLE__ = $weblangs->trans(\"notFoundPageTitle\");__N__        ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__            __N__            <section id=\"e404_section\" contenteditable=\"true\">__N__    			<div class=\"rte e404\">__N__    				<h1>404</h1>__N__                    <h2><?php print $weblangs->trans(\"pageNotFound\"); ?></h2>__N__                    <p><?php print $weblangs->trans(\"pageNotFoundDesc\"); ?></p>__N__    			</div>__N__			</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 2__+MAX_llx_website_page__ - Aliases about-payments --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(2__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'about-payments', '', 'About payments', 'About payments', 'en', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-02-02 16:48:47', '2025-01-14 02:26:28', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N____N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N__            __N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"about_payement_section\" contenteditable=\"true\">__N__				<div class=\"rte\">__N__					<h2>About payments</h2>__N__					<p>&nbsp;</p>__N__					<h3>When and why a payment if software has an Opensource Licence (GPL, ...) ?</h3>__N__					<p>Most products available on this market place are free of charge and can be downloaded directly from this market place. No payment in required in this case.</p>__N__					<p>However, some authors decide to charge something to distribute their works. There is no problem to conciliate both approaches (Price to distribute code versus OpenSource licence): The<strong> Free Software Foundation</strong>, that has created the GNU GPL Licence, one of the most used licence for OpenSource software, allow and encourage this, and provides some explanations on this page :<br><a href=\"http://www.gnu.org/philosophy/selling.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.html</a></p>__N__					<p>&nbsp;</p>__N__					<h3>Secure payment</h3>__N__					<p>All payments are securised with SSL.</p>__N__					<p>&nbsp;</p>__N__					<h3>Using Visa/Mastercard/Paypal</h3>__N__					<p>Payments using a credit card are provided by Stripe.</p>__N__					<p>Payment using Paypal are provided by the Paypal online payment service.</p>__N__				</div>__N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 3__+MAX_llx_website_page__ - Aliases about-us --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(3__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'about-us', '', 'Legal notice - About us', 'About us', 'en', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-02-02 16:48:47', '2025-01-14 00:22:32', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N__		__N__		<!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__        <!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Legal_notice_section\" contenteditable=\"true\">__N__                    __N__                    __N____N__<div class=\"rte\">__N__		<h3>Presentation</h3>__N__<p>The Dolibarr Association offers the DoliStore.com platform to help buyers and sellers connect. Only the product visibility service is provided by the foundation. The foundation does not guarantee the quality of the products purchased by the client.</p>__N__<p>The Dolibarr Association, via DoliStore, collects payments for the authors/publishers of the sold goods and manages the distribution of the funds owed to them. In this capacity, the association acts under the payment institution exemption as provided by Article L521-3 I 2° of the Monetary and Financial Code.</p>__N__<p>The Dolibarr Association is a French association (Law 1901) created to promote and develop the Open Source ERP and CRM software Dolibarr.</p>__N__<p><strong>Legal information about the foundation:</strong></p>__N__<ul>__N__<li>WALDEC: W452006878</li>__N__<li>SIRÈNE: 52033993800018</li>__N__<li>NAF: 9499Z</li>__N__</ul>__N__<p>More information on the page <a href=\"https://asso.dolibarr.org/index.php/Dolibarr_foundation\">https://asso.dolibarr.org/index.php/Dolibarr_foundation</a>.</p>__N__<h3>Data Protection Principles</h3>__N__<p>By using the DoliStore.com website, you agree to the processing of your personal data as described in this privacy policy.</p>__N__<p><strong>Our commitments to data protection principles are as follows:</strong></p>__N__<ul>__N__<li><strong>Lawful, fair, transparent processing:</strong> Our data processing activities have legitimate grounds. We always consider your rights before processing personal data.</li>__N__<li><strong>Purpose limitation:</strong> Data processing is limited to the purpose for which the personal data was collected.</li>__N__<li><strong>Data minimization:</strong> We collect and process only the minimal amount of personal data required for any purpose.</li>__N__<li><strong>Storage period:</strong> Data processing is limited to a specific period. We will not retain your personal data longer than necessary.</li>__N__<li><strong>Integrity:</strong> We do our best to ensure the accuracy, integrity, and confidentiality of the data.</li>__N__</ul>__N__<h3>Definition of Personal Data Rights</h3>__N__<ul>__N__<li><strong>Right to information:</strong> You must be informed if your personal data is being processed; what data is collected, where it comes from, and why and by whom it is processed.</li>__N__<li><strong>Right of access:</strong> You have the right to access the data collected from/about you. This includes your right to request and obtain a copy of your collected personal data.</li>__N__<li><strong>Right to rectification:</strong> You have the right to request the correction or erasure of your inaccurate or incomplete personal data.</li>__N__<li><strong>Right to erasure:</strong> In certain circumstances, you can request that your personal data be erased from our records.</li>__N__<li><strong>Right to restriction or objection to processing:</strong> You have the right to restrict or object to the processing of your personal data under certain conditions.</li>__N__<li><strong>Right to data portability:</strong> You have the right to obtain your personal data in a machine-readable format.</li>__N__<li><strong>Right to withdraw consent:</strong> You have the right to withdraw any given consent for the processing of your personal data.</li>__N__</ul>__N__<h3>Data We Collect</h3>__N__<p><strong>Information provided by sellers:</strong></p>__N__<ul>__N__<li>Email address, first and last name, company name, company or tax number (VAT number), billing information.</li>__N__</ul>__N__<p><strong>Information provided by buyers:</strong></p>__N__<ul>__N__<li>Email address, first and last name, company name, company or tax number (VAT number), billing information, membership status in the association.</li>__N__</ul>__N__<p><strong>Note:</strong> Payment information (credit card or payment partner ID) is not collected or known by DoliStore, as it is provided directly to the payment provider.</p>__N__<p><strong>Automatically collected information:</strong></p>__N__<ul>__N__<li>Includes information stored automatically by session or analytical cookies (based on Google and Matomo).</li>__N__<li>Also includes purchase history.</li>__N__</ul>__N__<p><strong>Information from partners:</strong></p>__N__<ul>__N__<li>We do not collect information from partners.</li>__N__</ul>__N__<p><strong>Links to other sites:</strong></p>__N__<ul>__N__<li>Site pages may include embedded content (e.g., videos, images, articles, links). Embedded content from other sites behaves as if the visitor were on that other site. These sites may collect data about you (IP address, use cookies, embed third-party tracking tools) or track your interactions with embedded content if you have an account and are logged in to their site.</li>__N__</ul>__N__<h3>Use of Your Personal Data</h3>__N__<p>We use your personal data for the following purposes:</p>__N__<ul>__N__<li>To identify you (login email and hashed password)</li>__N__<li>To communicate with you regarding sold products for sellers or purchased products for buyers (email)</li>__N__<li>To improve your seller or customer experience and respond to your inquiries (purchase or sales history)</li>__N__<li>To fulfill a legal or contractual obligation (billing data)</li>__N__<li>To conduct analysis and research to improve our services (anonymized browsing and consultation statistics on the website).</li>__N__</ul>__N__<p>We process your personal data to fulfill legal obligations and/or use your personal data as provided by law. We reserve the right to anonymize collected personal data and use such anonymized data long-term. We will only use data outside the scope of this policy if it is anonymized.</p>__N__<p>We may process your personal data for other purposes not mentioned here. In that case, this document will be updated.</p>__N__<h3>Data Retention Periods</h3>__N__<p>For users who register on our site, we store the personal data indicated in their profile. All users can view, modify, or delete their personal information at any time.</p>__N__<p>We also retain billing information as long as necessary for accounting or other legal obligations, until your request for data deletion, or the legal time for billing data.</p>__N__<h3>Sharing Your Personal Data</h3>__N__<p><strong>Sellers:</strong> The following buyer personal data is provided to sellers to facilitate service provision or improve the customer experience: email, first and last name, name of the purchased module, its price, and purchase date.</p>__N__<p><strong>Buyers:</strong> The following seller personal data is provided to buyers to facilitate service provision or improve the customer experience: email or contact URL for module support (if the seller provides support).</p>__N__<p><strong>Payment entities:</strong> To ensure third-party payment, we use the services of Stripe and Paypal. We provide them with the buyer\'s email and address. Payment method information is not stored by DoliStore but collected and stored directly by Stripe or Paypal, which informs us of the payment success or failure.</p>__N__<p><strong>Legal entities:</strong> We disclose your personal data to third parties or officials when legally required.</p>__N__<p><strong>Other Third Parties outside the European Economic Area:</strong> We do not transmit data to other third parties than those mentioned previously. When transferring personal information to non-EEA countries (cited previously for non-European sellers or payment entities), we ensure these transfers comply with this Notice and applicable data protection laws. We rely on European Commission adequacy decisions or use contracts with standard guarantees published by the European Commission.</p>__N__<p><strong>Administrators and Moderators:</strong> The DoliStore platform is administered and moderated by members of the Dolibarr Association\'s Board of Directors. Each board member has access and modification rights to seller and buyer profile information and the sales/purchase list.</p>__N__<p>The Dolibarr Association cannot be held responsible for the use that may be made of this data by sellers or any other third party with authorized access.</p>__N__<h3>How We Secure Your Data</h3>__N__<p>We do our best to protect your personal data.</p>__N__<p><strong>Hosting: </strong>The service is hosted under the OVH SAS Public Cloud offering. RCS Lille: 537 407 926, 2, rue Kellermann, 59100 Roubaix</p>__N__<p><strong>Communication encryption:</strong> We use secure protocols for data communication and transfer (e.g., HTTPS). We use anonymization and pseudonymization where appropriate.</p>__N__<p><strong>Monitoring:</strong> We monitor our systems for potential vulnerabilities and attacks.</p>__N__<p><strong>Backups:</strong> Regular backups are automated.</p>__N__<p>Although we do our best, we cannot guarantee total information security. However, we commit to informing the competent authorities of data breaches. We will also notify you if there is a threat to your rights or interests. We will do everything reasonably possible to prevent security breaches and assist authorities in case of a breach.</p>__N__<p><strong>Password:</strong> Your password is stored in an encrypted, non-reversible form (hash). If you have an account with us, you must keep your username and password confidential.</p>__N__<h3>Cookies and Other Technologies We Use</h3>__N__<p>We use cookies and/or similar technologies to enable user session functionality and obtain anonymous site browsing statistics.</p>__N__<p>A cookie is a small text file stored on your computer (in memory or on the disk). Cookies store information used to help operate sites. We can only access cookies created by our site. You can control your cookies at the browser level. Disabling cookies may prevent you from using certain features.</p>__N__<p><strong>We use cookies for the following purposes:</strong></p>__N__<ul>__N__<li><strong>Necessary cookies:</strong> These cookies are required to use essential features on our site, such as login and session persistence. These cookies do not collect any personal information.</li>__N__<li><strong>Functionality cookies:</strong> These cookies provide functionalities that make our service more convenient and allow for more personalized features. For example, they can remember your name and email address in comment forms, so you don\'t need to re-enter this information next time.</li>__N__<li><strong>Analytical cookies:</strong> These cookies are used to track the anonymous usage and performance of our website and services.</li>__N__</ul>__N__<p>You can delete cookies stored on your computer through your browser settings. You can also control some third-party cookies using a privacy enhancement platform such as optout.aboutads.info or youronlinechoices.com. For more information about cookies, visit allaboutcookies.org.</p>__N__<h3>Contact Information - DPO</h3>__N__<p>The Data Protection Officer (DPO) is the President of the Dolibarr Association. Their name is indicated on this page: <a href=\"https://wiki.dolibarr.org/index.php/Office_and_Board_Members\">https://wiki.dolibarr.org/index.php/Office_and_Board_Members</a>.</p>__N__<p>Any request regarding your personal data can be made by email to <a>dolistore@dolibarr.org</a>.</p>__N__<h3>Modifications to This Privacy Policy</h3>__N__<p>We reserve the right to make changes to this privacy policy. Last modification made on 14/05/2024.</p>__N__	</div>__N__	__N____N____N____N__				</section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 4__+MAX_llx_website_page__ - Aliases account-information --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(4__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'account-information', '', 'account info', '', '', '', '', '1', '2024-04-26 13:19:51', '2025-01-14 10:51:36', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/class/html.formcompany.class.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/lib/admin.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/modules/security/generate/modGeneratePassStandard.class.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N____N__// If not login redirect to login.__N__if(empty($_SESSION[\'user\'][\'id_user\'])){__N__    redirectToContainer(\'login-register\');__N__}__N____N__if (!empty(GETPOST(\'email\'))) {__N__    $customer_firstname = GETPOST(\'firstname\');__N__    $customer_lastname = GETPOST(\'lastname\');__N__    $customer_email = GETPOST(\'email\');__N__    __N__    $customer_address = GETPOST(\'address\');__N__    $customer_city = GETPOST(\'city\');__N__    $customer_postalcode = GETPOST(\'postalcode\');__N__    $customer_country = GETPOSTINT(\'country_id\');__N____N__    $customer_company = GETPOST(\'company\');__N__    $customer_siret = GETPOST(\'siret\');__N__    $customer_tin = GETPOST(\'tin\');__N____N__    $customer_passwd = GETPOST(\'passwd\');__N__    $customer_new_passwd = GETPOST(\'new_passwd\');__N____N__    // From logged session    __N__    $customer_id = $_SESSION[\'user\'][\'socid\'];__N__    $contact_id = GETPOST(\'contact\');   // TODO This should come from the session__N____N__    $error = 0;__N__    $error_messages = array();__N__	__N__	if (empty($customer_firstname)) {__N__		$error++;__N__		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->trans(\"firstname\"));__N__	}__N__	__N__	//if (ctype_alpha(str_replace(array(\"\\n\", \"\\t\", \' \'), \'\', $customer_firstname)) === false) {__N__	if (!preg_match(\'/^[a-zA-ZÀ-ÖØ-öø-ÿ\\- ]+$/u\', $customer_firstname)) {__N__	    $error++;__N__        $error_messages[] = $weblangs->trans(\"firstnameContainsLettersOnly\");__N__    }__N__	__N__	if (empty($customer_lastname)) {__N__		$error++;__N__		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->trans(\"lastname\"));__N__	}__N__	__N__	//if (ctype_alpha(str_replace(array(\"\\n\", \"\\t\", \' \'), \'\', $customer_lastname)) === false) {__N__	if (!preg_match(\'/^[a-zA-ZÀ-ÖØ-öø-ÿ\\- ]+$/u\', $customer_lastname)) {__N__	    $error++;__N__        $error_messages[] = $weblangs->trans(\"lastnameContainsLettersOnly\");__N__    }__N__	__N__	if (!empty($customer_passwd) && !empty($customer_new_passwd)) {__N__	    $id_website = $website->id;__N__        __N__        $sql  = \"select lsa.rowid, lsa.pass_encoding, lsa.pass_crypted, ls.nom, fk_soc \";__N__        $sql .= \"from \".MAIN_DB_PREFIX.\"societe_account lsa \";__N__        $sql .= \"left join \".MAIN_DB_PREFIX.\"societe ls on ls.rowid = lsa.fk_soc \";__N__        $sql .= \"where lsa.login = \'\". $customer_email .\"\' \";__N__        $sql .= \"and lsa.fk_website = \". $id_website . \" \";__N__        // TODO The where must be WHERE lsa.rowid = ((int) $_SESSION[\'user\'][\'id\'])__N__        $sql .= \"limit 1\";__N__        __N__        $result = $db->query($sql);__N__		$objsql = $db->fetch_object($result);__N__        if (!empty($objsql)) {__N__    		if ($objsql->pass_encoding == \'dolibarr\') {__N__    			$correct_password = dol_verifyHash ($customer_passwd, $objsql->pass_crypted);__N__    		}__N__    		if ($objsql->pass_encoding == \'dolistore\') {__N__    		    $dolistore_key = getDolGlobalString(\"MARKETPLACE_SECRET_KEY\");__N__    		    $to_check = md5($dolistore_key.$customer_passwd);__N__    		    if ($objsql->pass_crypted === $to_check){__N__    		        $correct_password = 1;__N__    		    }__N__    		}__N__        }else{__N__            $error++;__N__    		$error_messages[] = $weblangs->trans(\"noValidAccount\");__N__        }__N__        __N__        if ($correct_password) {__N__        	$check_pass = new modGeneratePassStandard($db, $conf, $langs, $user);__N__        	$is_valid = $check_pass->validatePassword($customer_passwd);__N__        	if(!$is_valid){__N__        	    $error++;__N__        	    $weblangs->load(\"other\");__N__        		$error_messages[] = $weblangs->trans(\"YourPasswordMustHaveAtLeastXChars\", (string) $check_pass->length2);__N__        	}            __N__        } else {__N__            $error++;__N__		    $error_messages[] = $weblangs->trans(\"currentPasswordIncorrect\");__N__        }__N__	} else {__N__	    if (empty($customer_passwd) && !empty($customer_new_passwd)) {__N__            $error++;__N__		    $error_messages[] = $weblangs->trans(\"bothCurrentNewPassRequired\");__N__    	}__N__	}__N__	__N__	if (empty($customer_address)) {__N__		$error++;__N__		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->trans(\"address\"));__N__	}__N__	__N__	if (!preg_match(\'/^[a-zA-ZÀ-ÖØ-öø-ÿ\\- ]+$/u\', $customer_city)) {__N__        $error++;__N__        $error_messages[] = $weblangs->trans(\"cityContainsLettersOnly\");__N__    }__N__    __N__    if (!preg_match(\'/^[a-z0-9\\.\\- ]+$/i\', $customer_postalcode)) {__N__        $error++;__N__        $error_messages[] = $weblangs->trans(\"postalCodeContainsDigitsOnly\");__N__    }__N__	__N__	if (empty($customer_country)) {__N__		$error++;__N__		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->trans(\"country\"));__N__	}__N__    __N__    if($error == 0){__N__        // Start of transaction__N__        $db->begin();__N__        __N__        $customer = new Societe($db);__N__        $result = $customer->fetch($customer_id);__N__        if ($result <= 0) {__N__            print \"Third party not found using _SESSION[\'user\'][\'socid\']\";__N__            exit;__N__        }__N__    __N__    	if (!empty($customer_company)) {__N__    		$customer->name = $customer_company;__N__    	} elseif (empty($customer->name)) {__N__    		$customer->name = dolGetFirstLastname($customer_firstname, $customer_lastname);__N__    	}__N____N__        if ($customer_email) {__N__    	    $customer->email = $customer_email;__N__        }__N____N__    	$customer->address = $customer_address;__N__    	$customer->town = $customer_city;__N__        $customer->zip = $customer_postalcode;__N__    	$customer->country_id = $customer_country;__N__    __N__        if (GETPOSTISSET(\'siret\')) {__N__    	    $customer->idprof2 = $customer_siret;__N__        }__N__    	if (GETPOSTISSET(\'tin\')) {__N__    	    $customer->tva_intra = $customer_tin;__N__    	}__N____N__        /*    __N__    	$customer->client = \'2\';__N__    	$customer->code_client = \'auto\';__N__    __N__    	$customer->fournisseur = \'0\';__N__    	$customer->code_fournisseur = \'auto\';__N__        */__N__    	//$customer->default_lang = $obj->dol_lang_code;__N__    	__N__    	$result = $customer->update($customer_id, $user);__N__    	if ($result < 0) {__N__			$error++;__N__			$error_messages[] = $weblangs->trans(\"errorOccurred\");__N__		}__N__    __N__        if ($error == 0) {__N__			// Add  groups__N__			/*$ret_cat = $customer->setCategories($marketplace_third_parties_category, \'customer\');__N__			if ($ret_cat < 0) {__N__				$error++;__N__			}*/__N____N____N__			// Add default contact__N__			$contact = new Contact($db);__N__			$result = $contact->fetch($contact_id);__N__			if ($result <= 0) {__N__			    print \"Contact not found using contact_id\";__N__                exit;__N__			}__N__			__N__			//$contact->name_bis = $customer_lastname;__N__			$contact->email = $customer_email;__N__			$contact->firstname = $customer_firstname;__N__			$contact->lastname = $customer_lastname;__N__			$contact->address = $customer_address;__N__			$contact->town = $customer_city;__N__			$contact->zip = $customer_postalcode;__N__			$contact->country_id = $customer_country;__N____N__			$ret_contact = $contact->update($contact_id, $user);__N__			if ($ret_contact < 0) {__N__				$error++;__N__			} else {__N__			}__N____N____N__			// Now update the login account to login on the website__N__			if (!empty($id_website)) {__N__			    // Load user and its permissions__N__                $result = $user->fetch(\'\', \'admin\');	// Load user for login \'admin\'. Comment line to run as anonymous user.__N__                if (!$result > 0) {__N__                	$error++;__N__			        $error_messages[] = $weblangs->trans(\"errorOccurred\");__N__                }__N__                $user->getrights();__N__    __N__				$societeaccount = new SocieteAccount($db);__N__				$societeaccount->fetch($_SESSION[\'user\'][\'id_user\']);__N__				__N__				$societeaccount->login = $customer_email;__N__				$societeaccount->pass_encoding = \"dolibarr\";__N__				$societeaccount->id = $_SESSION[\'user\'][\'id_user\'];__N__				$societeaccount->pass_crypted = dol_hash($customer_new_passwd);__N__				$societeaccount->fk_soc = $customer_id;__N__				$societeaccount->fk_website = $id_website;__N__				$societeaccount->site = \"dolibarr_website\";__N__				$societeaccount->status = \"1\";__N__				__N__				$ret_account = $societeaccount->update($user);__N__				if ($ret_account < 0) {__N__					$error++;__N__				} else {__N__					$id_user = $ret_account;__N__				}__N__			}__N__		}__N__		__N__		if ($error == 0) {__N__        	$db->commit();__N__        } else {__N__        	$db->rollback();__N__        }__N__    }__N__		__N__}__N____N____N__// Get customer ID.__N__$user_id = $_SESSION[\'user\'][\'id_user\'];__N__$customer_account = new SocieteAccount($db);__N__$result = $customer_account->fetch($user_id);__N__$customer_id = $customer_account->fk_soc;__N____N__// Get customer object.__N__$customer = new Societe($db);__N__$result = $customer->fetch($customer_id);__N____N__if($result > 0) {__N__    __N__    $id_website = $website->id;__N__    $marketplace_third_parties_category = getDolGlobalInt(\"MARKETPLACE_PROSPECTCUSTOMER_ID\");__N__    __N__    // Get account info__N__    $cContacts = $customer->contact_array_objects();__N__    foreach ($cContacts as $cContact) {__N__        if ($cContact->email == $customer_account->login) {__N__            $customer_firstname = $cContact->firstname;__N__            $customer_lastname = $cContact->lastname;__N__            $customer_email = $cContact->email;__N__            $customer_address = $cContact->address;__N__            $customer_city = $cContact->town;__N__            $customer_postalcode = $cContact->zip;__N__            $customer_country = $cContact->country_id;__N__            $contact_id = $cContact->id;__N__        }__N__    }__N__    $customer_company = $customer->name;__N__    $customer_siret = $customer->idprof2;__N__    $customer_tin = $customer->tva_intra;__N____N__}__N____N__$form = new Form($db);__N__$weblangs->loadLangs(array(\"main\", \"companies\"));__N____N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php __N__        includeContainer(\'header\');__N__        $__PAGE__TITLE__ = $weblangs->trans(\"accountInformationPageTitle\");__N__    ?>__N__  </div>__N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <a href=\"myaccount.php\" title=\"<?php print $weblangs->trans(\"myAccount\"); ?>\" data-gg=\"\"><?php print $weblangs->trans(\"myAccount\"); ?></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"yourPersonalInfo\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__          <div class=\"clearfix\">__N__                <div class=\"row\">__N__                    <div class=\"col-xs-12\">__N__                    	<form action=\"\" method=\"post\" id=\"account-creation_form\" class=\"std box\">__N__                    		<div class=\"account_creation\">__N__                    			<h3 class=\"page-subheading\"><?php print $weblangs->trans(\"yourPersonalInfo\"); ?></h3>__N__                    			<p class=\"info-title\">__N__                                    <?php print $weblangs->trans(\"beSureToUpdateProfil\"); ?>__N__                                </p>__N__                                __N__                                <br>__N__                                __N__                    			<?php if (isset($error) && $error != 0): ?>__N__                            		<div class=\'alert alert-danger\'>__N__                                		<?php $add_s = ($error > 1) ? \"s\" : \"\"; ?>__N__            		                    <p><?php print $weblangs->trans(\"errorsOccurred\", $error, $add_s); ?></p>__N__                                		<ol>__N__                                		    <?php foreach ($error_messages as $key => $value): ?>__N__                                        		<li><?php print $weblangs->trans($value); ?></li>__N__                                        	<?php endforeach ?>__N__                                		</ol>__N__                                	</div>__N__                            	<?php endif ?>__N__                            	__N__                    			<div class=\"required form-group\">__N__                    				<label for=\"customer_firstname\"><?php print $weblangs->trans(\"Firstname\"); ?> <sup>*</sup></label>__N__                    				<input type=\"text\" class=\"is_required validate form-control\"id=\"firstname\" name=\"firstname\" value=\"<?php if (isset($customer_firstname)){print $customer_firstname;} ?>\">__N__                    			</div>__N__                    			<div class=\"required form-group\">__N__                    				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Lastname\"); ?> <sup>*</sup></label>__N__                    				<input type=\"text\" class=\"is_required validate form-control\" id=\"lastname\" name=\"lastname\" value=\"<?php if (isset($customer_lastname)){print $customer_lastname;} ?>\">__N__                    			</div>__N__                    			<div class=\"required form-group\">__N__                    				<label for=\"email\"><?php print $weblangs->trans(\"Email\"); ?> <sup>*</sup></label>__N__                    				<input type=\"text\" class=\"is_required validate form-control\" id=\"email\" name=\"email\" value=\"<?php if (isset($customer_email)){print $customer_email;} ?>\">__N__                    			</div>__N__                    			<div class=\"required form-group\">__N__                    				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Address\"); ?> <sup>*</sup></label>__N__                    				<input type=\"text\" class=\"is_required validate form-control\" id=\"Address\" name=\"address\" value=\"<?php if (isset($customer_address)){print $customer_address;} ?>\">__N__                    			</div>__N__                    			<div class=\"required form-group\">__N__                    				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Town\"); ?> <sup>*</sup></label>__N__                    				<input type=\"text\" class=\"validate form-control\" id=\"City\" name=\"city\" value=\"<?php if (isset($customer_city)){print $customer_city;} ?>\">__N__                    			</div>__N__                    			<div class=\"required form-group\">__N__                    				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Zip\"); ?> <sup>*</sup></label>__N__                    				<input type=\"text\" class=\"validate form-control\" id=\"PostalCode\" name=\"postalcode\" value=\"<?php if (isset($customer_postalcode)){print $customer_postalcode;} ?>\">__N__                    			</div>__N__                    			<div class=\"required form-group\">__N__                        			<label for=\"email\"><?php print $weblangs->trans(\"Country\"); ?> <sup>*</sup></label>__N__                    			    <?php print $form->select_country($customer_country ? $customer_country : \'\', \'country_id\', \'\', 0, \'form-control\'); ?>__N__                    			</div>__N__                    		</div>__N__                    		__N__                    		<br>__N__                    		__N__                    		<div class=\"account_creation\">__N__                    			<h3 class=\"page-subheading page-subheading-login\"><?php print $weblangs->trans(\"yourCompanyInformation\"); ?></h3>__N__                    			<p class=\"form-group\">__N__                    				<label for=\"\"><?php print $weblangs->trans(\"Company\"); ?></label>__N__                    				<input type=\"text\" class=\"form-control\" id=\"company\" name=\"company\" value=\"<?php if (isset($customer_company)){print $customer_company;} ?>\">__N__                    			</p>__N__                    			<p class=\"form-group\">__N__                    				<label for=\"siret\"><?php print $weblangs->trans(\"MarketPlaceBusinessNumber\"); ?></label>__N__                    				<input type=\"text\" class=\"form-control\" id=\"siret\" name=\"siret\" value=\"<?php if (isset($customer_siret)){print $customer_siret;} ?>\">__N__                    			</p>__N__                    			<p class=\"form-group\">__N__                    				<label for=\"tin\"><?php print $weblangs->trans(\"MarketPlaceTIN\"); ?></label>__N__                    				<input type=\"text\" class=\"form-control\" id=\"tin\" name=\"tin\" value=\"<?php if (isset($customer_tin)){print $customer_tin;} ?>\">__N__                    			</p>__N__                    		</div>__N__                    		__N__                    		<br>__N__                    		__N__                    		<div class=\"account_creation\">__N__                    			<h3 class=\"page-subheading page-subheading-login\"><?php print $weblangs->trans(\"Password\"); ?></h3>__N__                    		__N__                    			<div class=\"required password form-group\">__N__                    				<label for=\"passwd\"><?php print $weblangs->trans(\"currentPasswd\"); ?><sup></sup></label>__N__                    				<input type=\"password\" class=\"is_required validate form-control\" name=\"passwd\" id=\"passwd\" value=\"\" autocomplete=\"new-password\">__N__                    			</div>__N__                    			<div class=\"required password form-group\">__N__                    				<label for=\"passwd\"><?php print $weblangs->trans(\"newPasswd\"); ?><sup></sup></label>__N__                    				<input type=\"password\" class=\"is_required validate form-control\" name=\"new_passwd\" id=\"passwd\" value=\"\" autocomplete=\"new-password\">__N__                    			</div>__N__                            </div>__N__                    		__N__                    		<input type=\"hidden\" name=\"action\" value=\"register\">__N__                    		<input type=\"hidden\" name=\"back\" value=\"<?php print $back; ?>\">__N__                    		<input type=\"hidden\" name=\"contact\" value=\"<?php print $contact_id; ?>\">__N__                    		<input type=\"hidden\" name=\"customer\" value=\"<?php print $customer_id; ?>\">__N__                    		<div class=\"submit clearfix\">__N__                    			<hr>__N__                    			<button type=\"submit\" name=\"submitAccount\" id=\"submitAccount\" class=\"btn btn-default button button-medium\">__N__                    				<span><?php print $weblangs->trans(\"Save\"); ?> <i class=\"icon-chevron-right right\"></i></span>__N__                    			</button>__N__                    			<p class=\"pull-right\"><span><sup>*</sup> <?php print $weblangs->trans(\"requiredField\"); ?></span></p>__N__                    		</div>__N__                    	</form>__N__                    </div>__N__                </div>__N__                <ul class=\"footer_links clearfix\">__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"myaccount.php\">__N__                			<span>__N__                				<i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"backToYourAccount\"); ?>__N__                			</span>__N__                		</a>__N__                	</li>__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"index.php\">__N__                			<span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"Home\"); ?></span>__N__                		</a>__N__                	</li>__N__                </ul>__N__          </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 5__+MAX_llx_website_page__ - Aliases acerca-de-los-pagos --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(5__+MAX_llx_website_page__, 2__+MAX_llx_website_page__, __WEBSITE_ID__, 'acerca-de-los-pagos', '', 'Acerca de los pagos', 'Acerca de los pagos', 'es', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 22:12:03', '2025-01-14 02:26:42', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N____N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N__            __N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"about_payement_section\" contenteditable=\"true\">__N__				<div class=\"rte\">__N__                  <h2>Acerca de los pagos</h2>__N__                  <p>&nbsp;</p>__N__                  <h3>¿Cuándo y por qué se realiza un pago si un software tiene una licencia de código abierto (GPL, ...)?</h3>__N__                  <p>La mayoría de los productos disponibles en este mercado son gratuitos y se pueden descargar directamente desde él. En este caso, no se requiere ningún pago.</p>__N__                  <p>Sin embargo, algunos autores deciden cobrar algo por distribuir sus obras. No hay problema en conciliar ambos enfoques (precio para distribuir el código versus licencia de código abierto): <strong>la Fundación para el Software Libre</strong>, que ha creado la Licencia GPL de GNU, una de las licencias más utilizadas para el software de código abierto, lo permite y lo fomenta, y proporciona algunas explicaciones en esta página: </p>__N__                  <p>__N__                    <a href=\"http://www.gnu.org/philosophy/selling.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.html</a>__N__                  </p>__N__                  <p>&nbsp;</p>__N__                  <h3>Pago seguro</h3>__N__                  <p>Todos los pagos están asegurados con SSL.</p>__N__                  <p>&nbsp;</p>__N__                  <h3>Usando Visa/Mastercard/Paypal</h3>__N__                  <p>Los pagos con tarjeta de crédito son proporcionados por Stripe.</p>__N__                  <p>Los pagos utilizando Paypal son proporcionados por el servicio de pago en línea de Paypal.</p>__N__                </div>__N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 6__+MAX_llx_website_page__ - Aliases acerca-de-nosotros --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(6__+MAX_llx_website_page__, 13__+MAX_llx_website_page__, __WEBSITE_ID__, 'acerca-de-nosotros', '', 'Acerca de nosotros', 'Acerca de nosotros', 'es', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '0', '2024-05-06 22:07:09', '2024-05-17 16:01:11', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__            __N__            <section id=\"contact_us_section\" contenteditable=\"true\">__N__			<div class=\"rte\">__N__				<h2>Contact us</h2>__N__				<p>The foundation offers the DoliStore platform to help seller and buyer of <a href=\"https://www.dolibarr.org\">Dolibarr ERP CRM addons </a>to meet each others. Only the service to provide visibility of product on sale is offered by the foundation. The foundation does not guarantee the quality of products the customer buy.</p>__N__				<p></p>__N__				<p>If you experience troubles with a module, please go on the module page to see how you can contact the support provided by the author of the module.</p>__N__				<p>Only authors of module can help you. You must always contact them first for any questions and any troubles.</p>__N__				<p>If after contacting the author, your problem is not solved, then, please inform the Dolibarr foundation (email: dolistore@dolibarr.org) with information about:</p>__N__				<p>- description of trouble (name of module, version, version of your dolibarr)</p>__N__				<p>- a summary of echange you did with the author (cust-paste of emails sent/received)</p>__N__				<p>- if you got non answer, date of last contact you tried (must be higher than 7 days)</p>__N__				<p>So we will be able to process your case (disable the module, refund you if necessary, ...)</p>__N__				<p></p>__N__				<h2></h2>__N__			</div>__N__			</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 7__+MAX_llx_website_page__ - Aliases breadcrumb --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(7__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'breadcrumb', '', 'breadcrumb', 'breadcrumb', '', '', '', '1', '2024-02-02 16:48:47', '2025-01-15 23:12:05', null, '', 'banner', '', '<?php // BEGIN PHP__N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOSTINT(\'cat\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP __N__?>__N__<?php if (!empty($cat_id)) : ?>__N__  <?php__N__  $current_cat = new Categorie($db);__N__  $result = $current_cat->fetch($cat_id, \"\");__N__  if ($result <= 0) {__N__    redirectToContainer(\'404\');__N__  }__N__  $current_cat_label = $current_cat->label;__N__  $current_cat_id = $current_cat->id;__N__  $parent_current_cat = new Categorie($db);__N__  $parent_current_cat->fetch($current_cat->fk_parent);__N__  $parent_current_cat_label = $parent_current_cat->label;__N__  $parent_current_cat_id = $parent_current_cat->id;__N__  ?>__N__  <section id=\"breadcrumb_section\" contenteditable=\"true\">__N__    <div class=\"breadcrumb clearfix\">__N__      <a class=\"home\" href=\"index.php\" title=\"<?php print $weblangs->trans(\"backHome\"); ?>\"><i class=\"icon-home\"></i></a>__N__      <span class=\"navigation-pipe\">&gt;</span>__N__      <?php if (!empty($current_cat->fk_parent) && $parent_current_cat_id != getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\")) : ?>__N__        <a href=\"index.php?cat=<?php print $current_cat->fk_parent; ?>\" title=\"<?php print $parent_current_cat_label; ?>\" data-gg=\"\"><?php print $parent_current_cat_label; ?></a>__N__        <span class=\"navigation-pipe\">&gt;</span>__N__      <?php endif ?>__N____N__      <?php if ($current_cat_id == getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\")) : ?>__N__        <?php print $weblangs->trans(\"newProducts\"); ?>__N__      <?php else : ?>__N__        <?php print $current_cat_label; ?>__N__      <?php endif ?>__N__    </div>__N__  </section>__N__<?php else : ?>__N__  <?php if (!empty($search) || !empty($tag)) : ?>__N__    <section id=\"breadcrumb_section\" contenteditable=\"true\">__N__      <div class=\"breadcrumb clearfix\">__N__        <a class=\"home\" href=\"index.php\" title=\"<?php print $weblangs->trans(\"backHome\"); ?>\"><i class=\"icon-home\"></i></a>__N__        <?php if (!empty($tag) && $tag == \"Specials\") : ?>__N__          <span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"priceDrop\"); ?>__N__        <?php else : ?>__N__          <span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"search\"); ?>__N__        <?php endif ?>__N__      </div>__N__    </section>__N__  <?php endif ?>__N__<?php endif ?>__N__<!--  Breadcrumb  -->', '', 0);

-- Page ID 8__+MAX_llx_website_page__ - Aliases conditions-generales-dutilisation --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(8__+MAX_llx_website_page__, 49__+MAX_llx_website_page__, __WEBSITE_ID__, 'conditions-generales-dutilisation', '', 'Conditions générales d\'utilisation', 'Conditions générales d\'utilisation', 'fr', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 21:16:07', '2024-05-06 23:17:38', null, 'https://www.dolistore.com/en/', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                    	<h2>Conditions générale d\'utilisation et de ventes</h2>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Règle n°1</h3>__N__                    	<p>Les produits ou modules sont soumis par n\'importe quel fournisseur possédant un compte sur la plateforme, sans__N__                    		avoir de lien nécessairement avec l\'association Dolibarr (ceci est susceptible de changer). L\'acheteur s\'engage__N__                    		donc dans une relation de confiance client-fournisseur vis à vis de ce vendeur.</p>__N__                    	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Seuls__N__                    			les modules/extensions diffusés sous une <a href=\"https://opensource.org/licenses/alphabetical\"__N__                    				target=\"_blank\">licence approuvée par l\'OSI</a>&nbsp;peuvent être publiés. De plus, si&nbsp;<span__N__                    				style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">le__N__                    				module est une oeuvre dérivée (utilise des composants ou API) de Dolibarr (cas de 99% des modules), il__N__                    				doit être dans une licence<span__N__                    					style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">&nbsp;compatible__N__                    					avec la license GPL v3+ de Dolibarr. Si aucune licence n\'est précisé, en le publiant sur DoliStore,__N__                    					vous accepter que votre module soit publié sous licence GPL v3+.</span></span></span></p>__N__                    	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\"><span__N__                    				style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\"><span__N__                    					style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">L’association__N__                    					DOLIBARR, via le DOLISTORE, collecte pour le compte des&nbsp;auteurs / éditeurs les paiements des__N__                    					biens vendus et gère le reversement des&nbsp;fonds leur revenant. A ce titre, l’association agit__N__                    					sous le couvert de l’exemption&nbsp;d’agrément d’établissement de paiement prévu à l’article L521-3__N__                    					I 2° du code&nbsp;monétaire et financier.</span></span></span></p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Règle n°2</h3>__N__                    	<p>Le prix de vente de référence est fixé par le vendeur. La vente (et sa commission) ne sont toutefois validées__N__                    		réellement que passé un délai de 1 mois après l\'achat (ceci afin de permettre à l\'acheteur d\'échanger avec__N__                    		l\'éditeur du module en cas de difficulté). Durant ce délai, l\'association peut annuler toute vente pour toute__N__                    		raison et sans nécessairement prévenir le vendeur (si tel était le cas, ceci apparaîtrait dans les statistiques__N__                    		de la console d\'administration du vendeur).</p>__N__                    	<p>Le prix de vente est un prix de référence Hors Taxe et non le prix définitif de vente. En effet, à ce prix est__N__                    		ajouté une TVA que l\'association reverse au trésor publique. De plus, en vendant sur DoliStore, les vendeurs__N__                    		acceptent que les ventes faites aux adhérents de l\'association se fassent moyennant une réduction définie par__N__                    		l\'association (20%). Le prix réel d\'achat HT apparaîtra dans le détail des statistiques de ventes (Note: La__N__                    		plupart des acheteurs de modules n\'étant pas adhérent, ce type de réduction est appliqué rarement).</p>__N__                    	<p>L\'association Dolibarr conserve de plus 20% du montant de la vente pour assurer les frais de gestion, bancaires,__N__                    		les frais d\'annulation et pour financer la promotion de Dolibarr ERP/CRM.</p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Règle n°3</h3>__N__                    	<p>Une fois le paiement reçu, l\'acheteur pourra télécharger les modules/produits commandés, soit depuis son espace__N__                    		comptes \"Mes commandes\", soit depuis un lien reçu par mail suite à validation de son paiement.</p>__N__                    	<p>Le fichier mis à disposition pour téléchargement doit avoir un packaging soumis aux règles définies sur la__N__                    		page&nbsp;<a__N__                    			href=\"http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles\">http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles</a>__N__                    	</p>__N__                    	<p>Le produit est téléchargeable sur la plateforme DoliStore pour une durée de <strong>1</strong> an après la date__N__                    		de paiement.</p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Règle n°4</h3>__N__                    	<p>L\'acheteur ne peut en aucun cas tenir pour responsable l\'association Dolibarr quant au bon fonctionnement ou non__N__                    		du produit acquis, à la qualité de la documentation qui l\'accompagne ou non, ni à l\'exigence des prérequis__N__                    		nécessaires pour utiliser le produit. L\'association n\'assure pas de contrôle qualité des modules (si ce n\'est__N__                    		sur la forme du package).&nbsp;L\'association se réserve le droit de dé-valider un module, ou alerter dans sa__N__                    		description, si celui-ci occasionne trop de réclamations.</p>__N__                    	<p>En cas de problème d\'installation ou d\'utilisation du module acheté, toute aide doit être sollicitée par__N__                    		l\'acheteur auprès de l\'éditeur du module directement, via le canal d\'assistance décrit dans la description du__N__                    		produit, si le fournisseur en fournit, information obligatoire dans la description du produit (si cette__N__                    		information n\'est pas disponible, merci d\'alerter l\'association).</p>__N__                    	<p>L\'acheteur pourra éventuellement obtenir un remboursement dans les conditions suivantes:</p>__N__                    	<p>- L\'acheteur doit avoir dans un premier temps tenté de résoudre le problème via des échanges avec l\'éditeur du__N__                    		module. Les mails échangés (ou simplement envoyé en cas de non réponse) avec ce denier&nbsp;devront être__N__                    		transmis à l\'association pour preuve (à dolistore@dolibarr.org). Un délai&nbsp;nécessaire pour permettre ces__N__                    		échanges entre l\'acheteur et l\'éditeur sera&nbsp;exigé par l\'association afin de maximiser les chances de__N__                    		résolutions à l\'amiable avant le déclenchement de l\'annulation de la vente et du remboursement.</p>__N__                    	<p>- L\'acheteur doit s\'être manifester pour la première fois auprès de l\'éditeur (ou de l\'association si celui ci ne__N__                    		répond pas) dans un délai de 1 mois maximum après la date d\'achat (Pour info, le délai minimum de la directive__N__                    		européenne 2011/83 est de 14j). Il n\'est plus possible de demander le remboursement au tiers de confiance assuré__N__                    		par l\'association, le paiement ayant alors été reversé à l\'éditeur. Seule une action en direct envers l\'éditeur__N__                    		est alors possible). Si les échanges n\'aboutissent pas de manière satisfaisante, l\'acheteur pourra demander un__N__                    		arbitrage à l\'association. Cet arbitrage ira à l\'avantage de l\'acheteur en cas d\'impossibilité de__N__                    		trancher.&nbsp;</p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Quand et pourquoi un paiement si le logiciel est en Open Source (GPL, ...) ?</h3>__N__                    	<p>De nombreux produits disponibles sur cette place de marché sont gratuits et peuvent être téléchargés directement__N__                    		depuis leur fiche. Aucun paiement dans ce cas n\'est requis.</p>__N__                    	<p>Toutefois, certains auteurs décident de faire payer quelque chose en échange de la distribution de leur travail.__N__                    		Il n\'y a aucun problème à concilier les 2 approches (Prix pour distribuer du code face à licence Open Source):__N__                    		La <strong>Free Software Foundation</strong>, qui a créé la licence GNU GPL, une des licences pour les logiciels__N__                    		libre les plus utilisées, autorise et même encourage cela en y donnant les explications, sur cette page :<br><a__N__                    			href=\"http://www.gnu.org/philosophy/selling.fr.html\"__N__                    			target=\"_blank\">http://www.gnu.org/philosophy/selling.fr.html</a></p>__N__                    </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 9__+MAX_llx_website_page__ - Aliases conditions-generales-dutilisation_vendeurs-de-modules --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(9__+MAX_llx_website_page__, 50__+MAX_llx_website_page__, __WEBSITE_ID__, 'conditions-generales-dutilisation_vendeurs-de-modules', '', 'Conditions générales d\'utilisation - vendeurs de modules', 'Conditions générales d\'utilisation - vendeurs de modules', 'fr', '', '', '1', '2024-05-06 21:53:50', '2024-05-06 23:54:39', null, '', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                    	<h2>Conditions générale d\'utilisation pour les&nbsp;vendeurs de modules</h2>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Règle S1</h3>__N__                    	<p>Les produits ou modules sont soumis par n\'importe quel fournisseur possédant un compte sur la plateforme, sans__N__                    		avoir de lien nécessairement avec l\'association Dolibarr (ceci est susceptible de changer). L\'acheteur s\'engage__N__                    		donc dans une relation de confiance client-fournisseur vis à vis de ce vendeur.</p>__N__                    	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Seuls__N__                    			les modules/extensions diffusés sous une <a href=\"https://opensource.org/licenses/alphabetical\"__N__                    				target=\"_blank\">licence approuvée par l\'OSI</a>&nbsp;peuvent être publiés. De plus, si&nbsp;<span__N__                    				style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">le__N__                    				module est une oeuvre dérivée (utilise des composants ou API) de Dolibarr (cas de 99% des modules), il__N__                    				doit être dans une licence<span__N__                    					style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">&nbsp;compatible__N__                    					avec la license GPL v3+ de Dolibarr. Si aucune licence n\'est précisé, en le publiant sur DoliStore,__N__                    					vous accepter que votre module soit publié sous licence GPL v3+.</span></span></span></p>__N__                    	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\"><span__N__                    				style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\"><span__N__                    					style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">L’association__N__                    					DOLIBARR, via le DOLISTORE, collecte pour le compte des&nbsp;auteurs / éditeurs les paiements des__N__                    					biens vendus et gère le reversement des&nbsp;fonds leur revenant. A ce titre, l’association agit__N__                    					sous le couvert de l’exemption&nbsp;d’agrément d’établissement de paiement prévu à l’article L521-3__N__                    					I 2° du code&nbsp;monétaire et financier.</span></span></span></p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Règle S2</h3>__N__                    	<p>Le vendeur, sur soumission d\'une facture, libellé en EURO, et à destination de l\'Association Dolibarr, obtiendra__N__                    		le reversement des paiements reçus de la vente de ses modules par l\'association sur la base de__N__                    		<strong>80%</strong> des gains reçus. La réclamation des gains ne peut toutefois se faire que<strong> 1</strong>__N__                    		mois après les ventes, si le total dépasse <strong>50</strong> euros (pour les pays utilisant l\'euro),__N__                    		<strong>100 </strong>euros pour les autres devises et est limitée à<strong> 1</strong> demande par mois. Le__N__                    		versement peut se faire:</p>__N__                    	<p>- Soit par virement SEPA sur un compte bancaire en EURO.</p>__N__                    	<p>- Soit via un paiement par carte (le vendeur doit alors fournir l\'interface pour permettre le paiement)</p>__N__                    	<p>- Soit par un paiement via Paypal (le vendeur doit alors fournir son compte paypal).</p>__N__                    	<p>Dans tous les cas, une adresse postale valide doit être renseigné au niveau de son compte revendeur Dolistore.__N__                    	</p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Règle S3</h3>__N__                    	<p>A) Le vendeur doit renseigner dans la description de son produit toutes les informations obligatoires, à savoir:__N__                    	</p>__N__                    	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">* une__N__                    			description courte significative de l\'apport du module.</span></p>__N__                    	<p>* la version du module</p>__N__                    	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">* le nom__N__                    			de l\'auteur, la licence.</span></p>__N__                    	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">* une__N__                    			photo (une photo minimum requise, plusieurs photos juste recommandées)</span></p>__N__                    	<p>* si un support est disponible et si oui, par quel canal. <span__N__                    			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Si aucun__N__                    			support n\'est fourni, cela doit être indiqué, par exemple par la mention \"Pas de support disponible\"__N__                    			(possible uniquement pour les modules gratuits)</span></p>__N__                    	<p>* Si le module est payant, le vendeur doit obligatoirement mettre les informations de contact de support via un__N__                    		canal valide (mail fonctionnel, page de support sur le site du vendeur,...) ainsi qu\'une description dans les__N__                    		langues disponibles (même si c\'est un copier-coller de la description anglaise pour les langues non supportées__N__                    		par exemple). Il est possible de préciser que le support n\'est valable que dans une seule langue. Un lien vers__N__                    		un site de démonstration n\'est pas obligatoire mais vivement conseillé.</p>__N__                    	<p>* la version de Dolibarr pour lequel il est compatible (Et la version minimale et maximale doivent être fournies.__N__                    		Les valeurs doivent être du type \"x.y.z\". La valeur \"dev\" n\'est pas autorisé car ce n\'est pas une version figée,__N__                    		le caractère générique * n\'est autorisé que sur la 3eme partie de la version, par exemple x.y.*).</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">B) Règle sur__N__                    		les liens ou mention à d\'autres sites</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">* Des liens ou__N__                    		mention d\'autres sites peuvent être intégrées dans la description, mais uniquement dans le champ description__N__                    		longue. Le nombre de liens externes est limité à 10. Les liens peuvent renvoyer à un site Web externe proposant__N__                    		l\'un des services suivants (et EXCLUSIVEMENT des services de cette liste): <strong>site de démo, page de__N__                    			documentation, page de contact, page accueil d\'une société, forum, page de suivi des problèmes, liens vers__N__                    			un réseau social, ou site hébergeant le code sources.</strong>&nbsp;Donc les liens externes pointant vers un__N__                    		autre fichier téléchargeable à l\'extérieur de DoliStore, <strong>ou vers une autre boutique ou une page externe__N__                    			proposant le module, ou d\'autres, à la vente directement depuis la page sur la page d\'arrivée ne sont pas__N__                    			permis</strong>. Un lien vers une page non trouvée ou une page d\'erreur 404 ne sont également pas__N__                    		permis<span>.&nbsp;</span>Si il y a un lien vers une fiche d\'un autre produit ou service, cela doit être sur la__N__                    		fiche produit de DoliStore même si possible (En résumé, le lien vers un produit ou service complémentaire est__N__                    		accepté uniquement si ce produit ou service n\'est pas&nbsp;vendable sur DoliStore).</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">De plus ces__N__                    		liens ne doivent pas pointer sur une&nbsp;URL (ou une URL après redirection) amenant sur un site dont le nom de__N__                    		domaine ne respecte pas les règles d\'utilisation du nom \"Dolibarr\" ou \"DoliStore\" définies sur&nbsp;<a__N__                    			href=\"https://wiki.dolibarr.org/index.php/R%C3%A8gles_d%27utilisation_du_nom_ou_de_la_marque_%22Dolibarr%22_(ou_%22DoliStore%22)\">cette__N__                    			page</a>. Si le site ou page vers lequel pointe le lien contient lui même d\'autres lien menant indirectement__N__                    		à un espace où le même module est aussi en vente, le tarif ne doit pas être inférieur à celui sur DoliStore.</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"><span__N__                    			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">C) Règle__N__                    			sur le packaging</span></p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">Le fichier__N__                    		package du module doit respecter certaines règles. Si les conditions décrites ici :&nbsp;<a__N__                    			href=\"http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles\">http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles</a>&nbsp;ne__N__                    		sont pas valides le module ne sera pas validé ou sera désactivé (dans ce cas le motif sera affiché sur la fiche__N__                    		du module).</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">D)__N__                    		Désactivation du module</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"><span__N__                    			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Si un de__N__                    			ces points n\'est pas respecté, ou si la version de Dolibarr est trop ancienne (par exemple supporté au mieux__N__                    			par une version de Dolibarr qui a plus de 10 versions majeures de retards), l\'association se réserve le__N__                    			droit de supprimer la fiche produit (désactivation jusqu\'à mise en conformité), sans autre justification. Le__N__                    			motif de désactivation est normalement affiché sur la fiche du module. Si un même module se retrouve à 3__N__                    			reprises désactivés suite à une violation des règles précédentes, le module sera soit désactivé de manière__N__                    			définitive, soit conserver mais avec un tarif forcé à zéro (en conformité avec le droit de distribuer le__N__                    			module gratuitement, attribué par sa licence GPL).&nbsp;De même si l\'auteur d\'un module ne respecte pas les__N__                    			règles d\'usage de la marque Dolibarr ou DoliStore (Voir <a__N__                    				href=\"https://wiki.dolibarr.org/index.php?title=R%C3%A8gles_d%27utilisation_du_nom_ou_de_la_marque_%22Dolibarr%22_(ou_%22DoliStore%22)\">ici</a>),__N__                    			ses modules pourront également être retirés de la vente ou conservés mais avec un tarif forcé à zéro (en__N__                    			conformité avec le droit de distribuer le module gratuitement, attribué par sa licence GPL).</span></p>__N__                    	<p>E) Dans le but de préserver l\'intégrité de notre place de marché en ligne et de maintenir la confiance de nos__N__                    		consommateurs, nous imposons aussi des directives strictes concernant l\'utilisation de logos, labels, et__N__                    		affirmations de qualité ou de quantité sur les fiches produits, via ces règles:</p>__N__                    	<p>## Définition</p>__N__                    	<p>*Logo de Qualité* : Tout symbole ou marque visuelle utilisé pour indiquer un niveau de qualité ou une__N__                    		certification obtenue par le produit ou le vendeur.<br>*Affirmation de Qualité* : Toute déclaration écrite__N__                    		affirmant des qualités spécifiques, des certifications, ou des standards de qualité relatifs au__N__                    		produit.<br>*Affirmation de Quantité* : Toute déclaration écrite concernant la quantité, le volume, ou le nombre__N__                    		d\'unités d\'un produit.</p>__N__                    	<p>## Exigences Générales</p>__N__                    	<p>Les vendeurs qui bénéficient du label Preferred Partner sont autorisé à intégré ce logo dans leur description.__N__                    		Des logos de certification gérés ou obtenus par des organismes officiels tiers (organisme de normalisation, ou__N__                    		de contrôle qualité d\'organisme gouvernementaux ou ONG reconnus) peuvent être autorisés au cas par cas (ex:__N__                    		Certification Qualiopi, NF). Tout autre Logo ne sera pas autorisé. De plus, l\'association se réserve le droit__N__                    		(au cas par cas) ne demander le retrait d\'un logo ou affirmation, de manière définitive à un éditeur. En cas de__N__                    		refus ou de réapparition régulière des logos ou phrases concernées, le module sera désactivé.</p>__N__                    	<p></p>__N__                    	<h3>Règle S4</h3>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">Lorsque__N__                    		plusieurs modules compatibles avec une même version de Dolibarr, sont trop identiques, l\'association se réserve__N__                    		le droit de ne pas valider les modules soumis après le premier, ceci afin d\'éviter le copier-coller de modules__N__                    		(possible par la licence GPL) qui génère des doublons dégradant l\'expérience utilisateur dans sa recherche de__N__                    		solutions complémentaires sur Dolibarr.</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"><span__N__                    			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Si un__N__                    			module n\'est pas mis à jour dans un délai de <strong>4</strong> mois après la sortie d\'une nouvelle version__N__                    			de Dolibarr, l\'association acceptera que le module soit publié par un autre vendeur (que l\'auteur original)__N__                    			qui aura porté le module dans la version récente de Dolibarr, ceci afin d\'éviter que certains modules se__N__                    			trouvent abandonnés. De plus, l\'association peut sans avertissement désactiver les modules portant sur des__N__                    			versions trop anciennes de Dolibarr.</span></p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">&nbsp;</p>__N__                    	<h3>Règle S5 - Comment apparaître sur la Home page</h3>__N__                    	<p>Il y a des conditions pour qu\'un module apparaisse sur la page d\'accueil. Le module doit respecter des règles:__N__                    	</p>__N__                    	<p>- avoir un lien vers une documentation</p>__N__                    	<p>- l\'éditeur du module doit être un Dolibarr Preferred Partner</p>__N__                    	<p>- maximum 10 modules par éditeur</p>__N__                    	<p>- seul les modules compatibles avec la dernière version de Dolibarr sont éligibles</p>__N__                    	<p>- une seule version de module par périmètre fonctionnel couvert (the premier qui a couvert la fonctionnalité en__N__                    		cas de doublon de module, même si le premier est moins complet)</p>__N__                    	<p>- une exception peut être faite pour les modules gratuits s\'ils sont réellement intéressant (soumis à vote du CA__N__                    		de l\'association)</p>__N__                    	<p>Note: ces règles seront modifiées dans le futur pour être plus strictes afin de réduire le nombre de modules en__N__                    		page d\'accueil. Si vos modules respectent ces conditions, vous pouvez envoyer la liste des noms et id à__N__                    		dolistore@dolibarr.org pour demander à les avoir en page d\'accueil.</p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Quand et pourquoi un paiement si le logiciel est en OpenSource (GPL, ...) ?</h3>__N__                    	<p>De nombreux produits disponibles sur cette place de marché sont gratuits et peuvent être téléchargés directement__N__                    		depuis leur fiche. Aucun paiement dans ce cas n\'est requis.</p>__N__                    	<p>Toutefois, certains auteurs décident de faire payer quelque chose en échange de la distribution de leur travail.__N__                    		Il n\'y a aucun problème à concilier les 2 approches (Prix pour distribuer du code face à licence Open Source):__N__                    		La <strong>Free Software Foundation</strong>, qui a créé la licence GNU GPL, une des licences pour les logiciels__N__                    		libre les plus utilisées, autorise et même encourage cela en y donnant les explications, sur cette page :<br><a__N__                    			href=\"http://www.gnu.org/philosophy/selling.fr.html\"__N__                    			target=\"_blank\">http://www.gnu.org/philosophy/selling.fr.html</a></p>__N__                    </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 10__+MAX_llx_website_page__ - Aliases condizioni-duso --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(10__+MAX_llx_website_page__, 49__+MAX_llx_website_page__, __WEBSITE_ID__, 'condizioni-duso', '', 'Condizioni d\'uso', 'Condizioni d\'uso', 'it', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 21:47:29', '2024-05-06 23:48:43', null, 'https://www.dolistore.com/en/', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                    	<h2>Condizioni d\'uso</h2>__N__                    <p>&nbsp;</p>__N__                    <h3>Regola 1</h3>__N__                    <p>I prodotti e i moduli offerti su DoliStore sono pubblicati dai fornitori accreditati sulla piattaforma che non sono necessariamente affiliati alla Dolibarr Foundation (questa regola potrebbe cambiare in futuro).</p>__N__                    <p>Vengono offerti solo moduli pubblicati sotto&nbsp;<a href=\"https://opensource.org/licenses/alphabetical\">una licenza approvata dalla OSI</a> e compatibile con GPL v3 nel caso di lavori derivati (utilizzo di altri componenti o API) da Dolibarr.</p>__N__                    <h3>Regola 2</h3>__N__                    <p>Il prezzo di vendita è fissato dal venditore. La convalida della vendita viene effettuata dopo un mese dall\'acquisto. During this delay, durante tale periodo la Fondazione può cancellare la transazione per un qualunque motivo senza inviare notifiche al venditore (se ciò dovesse mai accadere, il venditore vedrà questo dato nella pagina delle statistiche all\'interno della propria area riservata).</p>__N__                    <p>Il prezzo di vendita è da intendersi indicativo e al netto dell\'IVA e non rappresenta il prezzo finale da pagare. I venditori, inoltre, acconsentono a che i soci della Fondazione ricevano uno sconto predefinito (20%) su tutti gli acquisti. L\'effettivo prezzo di vendita, IVA esclusa, appare nelle statistiche dettagliate.</p>__N__                    <p>La Fondazione trattiene il 20% della somma per pagare i costi bancari e di gestione. Qualsiasi guadagno verrà usato per promuovere Dolibarr ERP/CRM.</p>__N__                    <h3>Regola 3</h3>__N__                    <p>L\'acquirente rinuncia a qualsiasi pretesa rispetto al funzionamento dei prodotti. La Dolibarr Foundation non esegue alcun test di funzionalità o qualità sui moduli offerti (fatta eccezione per la struttura dei pacchetti). Qualsiasi richiesta o reclamo deve essere inviato ai contatti specificati nella descrizione del prodotto, ammesso che il produttore offra tale servizio (è una informazione obbligatoria per la pubblicazione della descrizione). La fondazione si riserva di ritirare dalla vendita i prodotti nel caso pervengano troppe lamentele.</p>__N__                    <h3>Regola 4</h3>__N__                    <p>Una volta ricevuto il pagamento, l\'acquirente può scaricare i file dei prodotti acquistati all\'interno della sezione \"Miei ordini\" della propria area riservata o dal link contenuto nell\'email di conferma dell\'acquisto.</p>__N__                    <p>Il download del prodotto è disponibile su Dolistore per un anno dal pagamento.</p>__N__                    <h3>Perché dovrei pagare se il software è rilasciato sotto licenza Open Source &nbsp;(GPL, ...) ?</h3>__N__                    <p>La maggior parte dei prodotti disponibili sulla piattaforma sono gratuiti e possono essere scaricati liberamente. In tali casi non è previsto alcun pagamento.</p>__N__                    <p>In alcuni casi gli autori decidono di richiedere un pagamento a fronte del loro lavoro. I due approcci non sono in conflitto (Vendita e distribuzione libera sotto licenza OpenSource): La Free Software Foundationche ha creato la celebre licenza GPL, una delle licenze più usate per il software OpenSource, permette ed incoraggia questa ciò e fornisce qualche spiegazione sulla seguente pagina:&nbsp;<a href=\"http://www.gnu.org/philosophy/selling.it.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.it.html</a></p>__N__                    </div>__N____N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 11__+MAX_llx_website_page__ - Aliases condizioni-duso_venditori-di-moduli --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(11__+MAX_llx_website_page__, 50__+MAX_llx_website_page__, __WEBSITE_ID__, 'condizioni-duso_venditori-di-moduli', '', 'Condizioni d\'uso - Venditori di moduli', 'Condizioni d\'uso - Venditori di moduli', 'it', '', '', '1', '2024-05-06 21:56:58', '2024-05-06 23:57:36', null, '', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                        	<h2>Condizioni d\'uso - Venditori di moduli</h2>__N__                        <p>&nbsp;</p>__N__                        <h3>Regola S1</h3>__N__                        <p>I prodotti e i moduli offerti su DoliStore sono pubblicati dai fornitori accreditati sulla piattaforma che non sono necessariamente affiliati alla Dolibarr Foundation (questa regola potrebbe cambiare in futuro).</p>__N__                        <p>Vengono offerti solo moduli pubblicati sotto&nbsp;<a href=\"https://opensource.org/licenses/alphabetical\">una licenza approvata dalla OSI</a> e compatibile con GPL v3 nel caso di lavori derivati (utilizzo di altri componenti o API) da Dolibarr.</p>__N__                        <h3></h3>__N__                        <h3>Regola S2</h3>__N__                        <p>Il venditore riceverà l\'80% del valore netto di vendita. Per ricevere il pagamento dei prodotti venduti, il venditore può inviare una fattura alla Dolibarr Foundation a partire da un mese dopo l\'acquisto dei prodotti (tale lasso di tempo serve ad assicurarsi che non vi siano resi in corso).</p>__N__                        <p>Per richiedere un pagamento il venditore deve avere raggiunto una somma di almeno 50€ (100€ nel caso di venditori di paesi extraeuropei). È previsto un limite di una richiesta di pagamento al mese.</p>__N__                        <p>Il pagamento può essere effettuato:</p>__N__                        <p>- Oppure tramite bonifico SEPA su un conto bancario in EURO.<br>- O tramite pagamento con carta (il venditore deve quindi fornire l\'interfaccia per consentire il pagamento)<br>- O tramite pagamento tramite Paypal (il venditore deve quindi fornire il suo account paypal).</p>__N__                        <p></p>__N__                        <h3>Regola S3</h3>__N__                        <p>Per ogni prodotto il venditore deve fornire una descrizione che includa tutte le informazioni obbligatorie:</p>__N__                        <p>* Breve descrizione</p>__N__                        <p>* Versione</p>__N__                        <p>* Nome dell\'autore e licenza.</p>__N__                        <p>* Tipo di supporto/assistenza fornito. È obbligatorio specificare se non viene fornito supporto agli utenti.</p>__N__                        <p>* Versione di Dolibarr compatibile con il modulo (È necessario inserire sia una versione che una massima. I valori devono rispettare il formato x.y.z, \"dev\" non è una versione valida e il carattere * è ammesso solo in terza posizione - per esempio x.y.*).</p>__N__                        <p>Si possono aggiungere link a versioni estese della documentazione, ma solo all\'interno della descrizione lunga.</p>__N__                        <p>Se qualcosa va storto o se la versione di Dolibarr indicata è troppo vecchia, la Fondazione è autorizzata a rimuovere l\'inserzione senza alcun preavviso.</p>__N__                        <p>I venditori possono mettere in vendita i prodotti su qualsiasi altra piattaforma a qualunque prezzo, ma non sono ammessi link o alcuna altra forma di pubblicità di altre piattaforme su cui il prodotto venga venduto. Nel caso venga a conoscenza di link o altri riferimenti all\'interno della scheda del prodotto, la Fondazione si riserva di eliminare tali riferimenti o escludere il prodotto dalla piattaforma o bloccare l\'account del venditore a proprio insidacabile giudizio.</p>__N__                        <p></p>__N__                        <p>È obbligatorio fornire un riferimento per il supporto nel caso di moduli non gratuiti. È necessario fornire una descrizione per il prodotto in ogni lingua prevista dalla piattaforma (anche solo un copia/incolla della versione inglese). È anche consigliato di indicare in quali lingue è disponibile il supporto, per esempio solo italiano e inglese. Un link alla demo del prodotto non è obbligatoria, ma caldamente consigliata.</p>__N__                        <p></p>__N__                        <p>Qualsiasi modulo che non rispetti le condizioni previste nella documentazione (vedi&nbsp;<a href=\"http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Rules\">http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Rules</a>&nbsp;non riceveranno la convalida per la pubblicazione su DoliStore.</p>__N__                        <p>&nbsp;</p>__N__                        <h3>Regola S4</h3>__N__                        <p>Nel caso di moduli molto simili e compatibili con la stessa versione di Dolibarr, la Fondazione si riserva di non convalidare la pubblicazione di moduli successivi al primo, al fine di evitare il copia/incolla di moduli esistenti (ammesso dalla licenza GPL). I moduli che non vengono aggiornati entro 4 mesi dal rilascio di una nuova verisone di Dolibarr verranno rimossi per evitare l\'accumularsi di moduli abbandonati. Potrebbero essere eliminate senza preavviso anche le versioni troppo vecchie di moduli attualmente validi.</p>__N__                        <p>&nbsp;</p>__N__                        <h3>Perché dovrei pagare se il software è rilasciato sotto licenza Open Source &nbsp;(GPL, ...) ?</h3>__N__                        <p>La maggior parte dei prodotti disponibili sulla piattaforma sono gratuiti e possono essere scaricati liberamente. In tali casi non è previsto alcun pagamento.</p>__N__                        <p>In alcuni casi gli autori decidono di richiedere un pagamento a fronte del loro lavoro. I due approcci non sono in conflitto (Vendita e distribuzione libera sotto licenza OpenSource): La Free Software Foundationche ha creato la celebre licenza GPL, una delle licenze più usate per il software OpenSource, permette ed incoraggia questa ciò e fornisce qualche spiegazione sulla seguente pagina:&nbsp;<a href=\"http://www.gnu.org/philosophy/selling.it.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.it.html</a></p>__N__                        </div>__N____N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 12__+MAX_llx_website_page__ - Aliases contact --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(12__+MAX_llx_website_page__, 13__+MAX_llx_website_page__, __WEBSITE_ID__, 'contact', '', 'Contact', 'Contact', 'it', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 22:08:05', '2024-08-19 13:41:57', null, 'https://www.dolistore.com/en/', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__            __N__            <section id=\"contact_us_section\" contenteditable=\"true\">__N__			<div class=\"rte\">__N__				<h2>Contact us</h2>__N__				<p>The foundation offers the DoliStore platform to help seller and buyer of <a href=\"https://www.dolibarr.org\">Dolibarr ERP CRM addons </a>to meet each others. Only the service to provide visibility of product on sale is offered by the foundation. The foundation does not guarantee the quality of products the customer buy.</p>__N__				<p></p>__N__				<p>If you experience troubles with a module, please go on the module page to see how you can contact the support provided by the author of the module.</p>__N__				<p>Only authors of module can help you. You must always contact them first for any questions and any troubles.</p>__N__				<p>If after contacting the author, your problem is not solved, then, please inform the Dolibarr foundation (email: dolistore@dolibarr.org) with information about:</p>__N__				<p>- description of trouble (name of module, version, version of your dolibarr)</p>__N__				<p>- a summary of echange you did with the author (cust-paste of emails sent/received)</p>__N__				<p>- if you got non answer, date of last contact you tried (must be higher than 7 days)</p>__N__				<p>So we will be able to process your case (disable the module, refund you if necessary, ...)</p>__N__				<p></p>__N__				<h2></h2>__N__			</div>__N__			</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 13__+MAX_llx_website_page__ - Aliases contact-us --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(13__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'contact-us', '', 'Contact', 'Contact us', 'en', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-02-02 16:48:47', '2024-05-06 23:13:16', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__            __N__            <section id=\"contact_us_section\" contenteditable=\"true\">__N__			<div class=\"rte\">__N__				<h2>Contact us</h2>__N__				<p>The foundation offers the DoliStore platform to help seller and buyer of <a href=\"https://www.dolibarr.org\">Dolibarr ERP CRM addons </a>to meet each others. Only the service to provide visibility of product on sale is offered by the foundation. The foundation does not guarantee the quality of products the customer buy.</p>__N__				<p></p>__N__				<p>If you experience troubles with a module, please go on the module page to see how you can contact the support provided by the author of the module.</p>__N__				<p>Only authors of module can help you. You must always contact them first for any questions and any troubles.</p>__N__				<p>If after contacting the author, your problem is not solved, then, please inform the Dolibarr foundation (email: dolistore@dolibarr.org) with information about:</p>__N__				<p>- description of trouble (name of module, version, version of your dolibarr)</p>__N__				<p>- a summary of echange you did with the author (cust-paste of emails sent/received)</p>__N__				<p>- if you got non answer, date of last contact you tried (must be higher than 7 days)</p>__N__				<p>So we will be able to process your case (disable the module, refund you if necessary, ...)</p>__N__				<p></p>__N__				<h2></h2>__N__			</div>__N__			</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 14__+MAX_llx_website_page__ - Aliases contactez-nous --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(14__+MAX_llx_website_page__, 13__+MAX_llx_website_page__, __WEBSITE_ID__, 'contactez-nous', '', 'Contactez nous', 'Contactez nous', 'fr', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 22:05:39', '2024-05-07 00:06:27', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__            __N__            <section id=\"contact_us_section\" contenteditable=\"true\">__N__			<div class=\"rte\">__N__              <h2>Contactez nous</h2>__N__              <p>L\'association met en place la plateforme DoliStore afin d\'offrir une mise en relation de vendeurs et clients sur des modules ou extensions prêtes à l\'emploi pour l\'application <a href=\"http://www.dolibarr.fr\">Dolibarr ERP/CRM</a>. Seule la mise en relation est assurée et aucune garantie n\'est fournie par l\'association quand au bon fonctionnement des produits fournis par le vendeur. </p>__N__              <p></p>__N__              <p>Si vous avez es problèmes avec un module, merci d\'aller sur la page descriptive du module pour voir comment contacter le support fourni par l\'auteur du module.</p>__N__              <p>Seul les auteurs du module pourront vous aider. Vous devez toujours les contacter en premier dès que vous avez des questions ou problèmes.</p>__N__              <p>Si après les avoir contacter, votre problème n\'est pas résolu, merci d\'informer l\'association Dolibarr&nbsp;(email: dolistore@dolibarr.org) en mentionnant:</p>__N__              <p>- la nature de votre problème (nom du module concerné, sa version, votre version de dolibarr et une description du problème)</p>__N__              <p>- un résumé des échanges que vous avez pu avoir avec l\'auteur (copié-collé des emails envoyés/reçus)</p>__N__              <p>- en cas de non réponse, la date de votre dernière sollicitation (doit être supérieur à 7 jours)</p>__N__              <p>Ainsi nous pourrons prendre les mesures nécessaires (désactivation du module, remboursement si justifié)</p>__N__              <p></p>__N__            </div>__N__			</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 15__+MAX_llx_website_page__ - Aliases edit-module-product --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(15__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'edit-module-product', '', 'edit-module-product', '', '', '', '', '1', '2024-06-10 09:00:09', '2025-01-15 22:26:58', null, '', 'page', '<script>__N__    $(document).ready(function() {__N__        var tableBody = $(\'#table-body-add\');__N__        var rowCount = 0;__N__    __N__        $(\'#addImageBtn\').click(function() {__N__            rowCount++;__N__    __N__            var newRow = `__N__                <tr>__N__                    <td><span class=\"icon-move\"></span></td>__N__                    <td class=\"rowCount\" style=\"display:none;\">${rowCount}</td>__N__                    <td>__N__                        <input type=\"file\" name=\"image_${rowCount}\" class=\"image-input\" accept=\"image/*\" required >__N__                    </td>__N__                    <td>__N__                        <img src=\"#\" style=\"display: none;\" class=\"image-preview\" width=\"100px\">__N__                    </td>__N__                    <td class=\"td-deleteBtn\">__N__                        <button type=\"button\" class=\"btn deleteBtn\"><i class=\"icon-delete\"></i></button>__N__                    </td>__N__                </tr>__N__            `;__N__            tableBody.append(newRow);__N__    __N__            // Attach file input change event__N__            var fileInput = tableBody.find(\'tr:last-child .image-input\');__N__            fileInput.change(function() {__N__                var rowIndex = $(this).closest(\'tr\').index();__N__                var imagePreview = tableBody.find(\'tr\').eq(rowIndex).find(\'.image-preview\');__N__    __N__                if (this.files && this.files[0]) {__N__                    var reader = new FileReader();__N__    __N__                    reader.onload = function(e) {__N__                        imagePreview.attr(\'src\', e.target.result).css(\'display\', \'block\');__N__                    };__N__    __N__                    reader.readAsDataURL(this.files[0]);__N__                } else {__N__                    imagePreview.attr(\'src\', \'\').css(\'display\', \'none\');__N__                }__N__            });__N__        });__N__    __N__        // Delete row functionality__N__        tableBody.on(\'click\', \'.deleteBtn\', function() {__N__            $(this).closest(\'tr\').remove();__N__            updateRowNumbers();__N__        });__N__    __N__        // Function to update row numbers and input names__N__        function updateRowNumbers() {__N__            tableBody.find(\'tr\').each(function(index) {__N__                var rowNum = index + 1;__N__                $(this).find(\'.rowCount\').text(rowNum);__N__                $(this).find(\'.image-input\').attr(\'name\', `image_${rowNum}`);__N__            });__N__        }__N__    __N__        // Make table rows sortable add__N__        $(\'#table-body-add\').sortable({__N__            handle: \'td:first-child\', // Restrict drag start to the first cell (Position)__N__            update: function(event, ui) {__N__                updateRowNumbers(); // Update row numbers and input names after reordering__N__            },__N__            start: function(event, ui) {__N__              ui.item.addClass(\'dragging\');__N__            },__N__            stop: function(event, ui) {__N__              ui.item.removeClass(\'dragging\');__N__            },__N__        });__N__        __N__        document.getElementById(\'image_cover\').addEventListener(\'change\', function(event) {__N__            const file = event.target.files[0];__N__            if (file) {__N__                const reader = new FileReader();__N__                reader.onload = function(e) {__N__                    const img = document.getElementById(\'image_preview\');__N__                    img.src = e.target.result;__N__                    img.style.display = \'block\';__N__                }__N__                reader.readAsDataURL(file);__N__            }__N__        });__N__        __N__        document.getElementById(\'virtual_product_file\').addEventListener(\'change\', function(event) {__N__            var fileInfoDiv = document.getElementById(\'field-info-virtual_product_file\');__N__            var fileName = event.target.files[0] ? event.target.files[0].name : \"Aucun fichier sélectionné\";__N__            fileInfoDiv.textContent = fileName;__N__        });__N__        document.getElementById(\'image_cover\').addEventListener(\'change\', function(event) {__N__            var fileInfoDiv = document.getElementById(\'field-info-image-cover\');__N__            var fileName = event.target.files[0] ? event.target.files[0].name : \"Aucun fichier sélectionné\";__N__            fileInfoDiv.textContent = fileName;__N__        });__N__    __N__        // Make table rows sortable edit__N__        $(\'#table-body-edit\').sortable({__N__            handle: \'td:first-child\',__N__            update: function(event, ui) {__N__                updateEditRowNumbers();__N__        __N__                var order = getOrder();__N__                $.ajax({__N__                    url: edit_product_url,__N__                    type: \'POST\',__N__                    dataType: \'json\',__N__                    data: { action: \'update_order\', order: order },__N__                    success: function(response) {__N__                        showNotification(response.message);__N__                        if (response.success) {__N__                            // Optionnel : mettre à jour l\'interface utilisateur__N__                        }__N__                    },__N__                    fail: function(response) {__N__                        alert(response.message);__N__                    }__N__                });__N__            },__N__            start: function(event, ui) {__N__                ui.item.addClass(\'dragging\');__N__            },__N__            stop: function(event, ui) {__N__                ui.item.removeClass(\'dragging\');__N__            },__N__        });__N__    __N__        function getOrder() {__N__            var order = {};__N__            $(\'#table-body-edit tr\').each(function(index, element) {__N__                var id = $(element).find(\'.deleteBtn\').data(\'id\');__N__                var position = index + 1;__N__                order[id] = position;__N__            });__N__            return order;__N__        }__N__    __N__    __N__        $(\'#addImageBtn2\').on(\'click\', function() {__N__            $(\'#fileInput2\').click();__N__        });__N__    __N__        $(\'#fileInput2\').on(\'change\', function(e) {__N__            e.preventDefault();__N__            var formData = new FormData();__N__            var position_for_new_photo = $(\'#table-body-edit tr\').length + 1;__N__            var product_id = $(\'#product_to_edit\').text();__N__    __N__            formData.append(\'product_id\', product_id);__N__            formData.append(\'action\', \'add_product_image\');__N__            formData.append(\'position\', position_for_new_photo);__N__            formData.append(\'file\', this.files[0]);__N__            __N__            $.ajax({__N__                url: edit_product_url,__N__                type: \'POST\',__N__                dataType: \'json\',__N__                data: formData,__N__                processData: false,__N__                contentType: false__N__            }).done(function(response) {__N__                showNotification(response.message);__N__                if (response.success) {__N__                    location.reload(); // Recharge la page__N__                }__N__            }).fail(function(response) {__N__                alert(response.message);__N__            });__N__        });__N__    __N__        __N__        $(\'.deleteBtn\').on(\'click\', function(e) {__N__            e.preventDefault();__N__            var id_image = $(this).data(\'id\');__N__            $.ajax({__N__                url: edit_product_url,__N__                type: \"POST\",__N__                dataType: \"json\", // On attend une réponse JSON du serveur__N__                data: { action: \'delete_image\', \'id_image\': id_image }__N__            }).done(function(response) {__N__                showNotification(response.message);__N__                if (response.success) {__N__                    $(\'tr[data-id=\"\' + id_image + \'\"]\').remove();__N__                    //updateEditRowNumbers();__N__                }__N__            }).fail(function() {__N__                alert(\'error\');__N__            });__N__        });__N__    __N__    __N__        function updateEditRowNumbers() {__N__            $(\'#table-body-edit tr\').each(function(index) {__N__                $(this).find(\'.rowCount\').text(index + 1);__N__            });__N__        }__N__    __N__        function showNotification(message) {__N__            $(\'.notification\').text(message).fadeIn().delay(2000).fadeOut();__N__        }__N__    __N__    __N__        // Get references to the checkboxes and the submit button__N__        const dolibarrTermsCheckbox = document.getElementById(\'dolibarr_terms\');__N__        const moduleWikiCheckbox = document.getElementById(\'module_wiki\');__N__        const submitButton = document.getElementById(\'sub\');__N__    __N__        // Function to check the state of the checkboxes and update the button state__N__        function updateButtonState() {__N__            if (dolibarrTermsCheckbox.checked && moduleWikiCheckbox.checked) {__N__                submitButton.disabled = false;__N__                submitButton.style.opacity = 1.0;__N__                submitButton.classList.remove(\'button_large_disabled\');__N__                submitButton.classList.add(\'button_large\');__N__            } else {__N__                submitButton.disabled = true;__N__                submitButton.style.opacity = 0.5;__N__                submitButton.classList.add(\'button_large_disabled\');__N__                submitButton.classList.remove(\'button_large\');__N__            }__N__        }__N__    __N__        // Add event listeners to the checkboxes to monitor changes__N__        dolibarrTermsCheckbox.addEventListener(\'change\', updateButtonState);__N__        moduleWikiCheckbox.addEventListener(\'change\', updateButtonState);__N__    __N__        // Initial check to set the button state based on the initial checkbox states__N__        updateButtonState();__N__    __N__    __N__    });__N__</script>', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/class/html.formcompany.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/class/doleditor.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/societe/class/societeaccount.class.php\';__N____N__error_reporting(E_ALL);__N__ini_set(\'display_errors\', 1);__N____N__/*print \'<pre>\';__N__print_r($conf);__N__print \'</pre>\';__N__exit;*/__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__$product_id = GETPOST(\'id\', \'alpha\');__N____N__$isAdmin = false;__N____N__$form = new Form($db);__N____N__// If not login redirect to login.__N__if (empty($_SESSION[\'user\'][\'id_user\'])) {__N__    redirectToContainer(\'login-register\');__N__}__N____N__if (!empty($product_id)) {__N__    $product = new Product($db);__N__    $result = $product->fetch($product_id);__N__    if ($result <= 0) {__N__        print \"Product not found from id=\".((int) $product_id);__N__        //redirectToContainer(\'myproducts\');__N__        exit;__N__    } else {__N__        // Get Account ID.__N__        $user_id = $_SESSION[\'user\'][\'id_user\'];__N__        $supplier_account = new SocieteAccount($db);__N__        $result = $supplier_account->fetch($user_id);__N__        $supplier_id = $supplier_account->fk_soc;__N__        __N__        // Get societe ext_ref__N__        $supplier_account_societe = new Societe($db);__N__        $result = $supplier_account_societe->fetch($supplier_id);__N__        $supplier_id_ext = $supplier_account_societe->ref_ext;__N__        //echo $result; exit;__N____N__        // Special check for old products with old syntax c...d...__N__        if (preg_match(\'/c(\\d+)d/\', $product->ref, $matches) && $matches[1] != $supplier_id && $matches[1] != $supplier_id_ext) {__N__            print \"Product not found from c...d... or supplier ref_ext is not matching the id into the product ref c...d...\";__N__            //redirectToContainer(\'myproducts\');__N__            exit;__N__        }__N__    }__N__}__N____N__// END PHP __N__?>__N__<div id=\"page\">__N__    <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__    </div>__N__    <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N__            <!--  Breadcrumb  -->__N__            <div class=\"breadcrumb clearfix\">__N__                <a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__                <span class=\"navigation-pipe\">&gt;</span> <a href=\"myaccount.php\" title=\"<?php print $weblangs->trans(\"myAccount\"); ?>\" data-gg=\"\"><?php print $weblangs->trans(\"myAccount\"); ?></a>__N__                <span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"newModuleProduct\"); ?>__N__            </div>__N__            <!--  Breadcrumb  -->__N__            <div id=\"slider_row\" class=\"row\">__N__                <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__            </div>__N__            <div class=\"row\">__N__                <!-- include left sidebar container -->__N__                <?php includeContainer(\'sidebar\'); ?>__N__                <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__                    <div class=\"clearfix\">__N__                        <script type=\"text/javascript\">__N__                            var edit_product_url = \"_service_page_ajax.php\";__N__                            console.log(edit_product_url);__N__                        </script>__N__                        <h1 class=\"page-heading\"><?php print $weblangs->trans(\"newModuleProduct\"); ?></h1>__N__                        <div class=\"row\">__N__                            <div class=\"col-xs-12\">__N__                                <div class=\"add-product-page\">__N__                                    <?php__N__                                    $website_available_langs = getAvailableLangs();__N__                                    if (!defined(\'ROWS_3\')) {__N__                                        define(\'ROWS_3\', 3);__N__                                    }__N__                                    __N__                                    $mvcid = getDolGlobalInt(\"MARKETPLACE_VERSIONS_CATEGORY_ID\");__N__                                    $full_version_tree = getOrganizedTree($mvcid, \'label\');__N____N__                                    if (!empty($product_id) && $_SERVER[\'REQUEST_METHOD\'] != \'POST\') {__N____N__                                        foreach ($website_available_langs[\'langs_code_shortcode\'] as $lang_key => $code) {__N__                                            ${\'name_\' . $lang_key} = $product->multilangs[$code][\'label\'] ?? \'\';__N__                                            ${\'short_description_\' . $lang_key} = $product->multilangs[$code][\'description\'] ?? \'\';__N__                                            ${\'description_\' . $lang_key} = $product->multilangs[$code][\'other\'] ?? \'\';__N__                                        }__N__                                        $status = $product->status ?? 0;__N__                                        $sale_price = ($product->price ? price($product->price) : \'\');__N____N__                                        $c = new Categorie($db);__N__                                        $cats = $c->containing($product->id, Categorie::TYPE_PRODUCT);__N__                                        $arrayselected = array();__N__                                        if (is_array($cats)) {__N__                                            foreach ($cats as $cat) {__N__                                                $arrayselected[] = $cat->id;__N__                                            }__N__                                        }__N__                                        $categories = array();__N__                                        foreach ($arrayselected as $key => $value) {__N__                                            if (!in_array($value, [\'PRODUCTS_ON_WEBSITE\', \'VERSIONS\']) && strpos($value, \'V\') !== 0) {__N__                                                $categories[$key] = $value;__N__                                            }__N__                                        }__N____N__                                        $version = ($product->array_options[\'options_marketplace_module_version\'] ? $product->array_options[\'options_marketplace_module_version\'] : 0);__N__                                        $keywords = ($product->array_options[\'options_marketplace_module_keywords\'] ? $product->array_options[\'options_marketplace_module_keywords\'] : 0);__N__                                        $dolibarr_core_include = ($product->array_options[\'options_marketplace_allow_source_in_core\'] ? $product->array_options[\'options_marketplace_allow_source_in_core\'] : 0);__N__                                        $version_min = ($product->array_options[\'options_marketplace_min_version\'] ? $product->array_options[\'options_marketplace_min_version\'] : 0);__N__                                        $version_max = ($product->array_options[\'options_marketplace_max_version\'] ? $product->array_options[\'options_marketplace_max_version\'] : 0);__N__                                        $contact_support = ($product->array_options[\'options_marketplace_contact_support\'] ? $product->array_options[\'options_marketplace_contact_support\'] : 0);__N____N__                                        $files_and_images = getPublicFilesOfObject($product);__N__                                        foreach ($files_and_images as $key => $file) {__N__                                            if ($file[\'position\'] == 100) {__N__                                                $virtual_product_file = $file;__N__                                            }__N__                                            if ($file[\'position\'] == 0) {__N__                                                $image_cover = $file;__N__                                            }__N__                                            if (strpos($file[\'filename\'], \'image_\') !== false && strpos($file[\'filename\'], \'image_cover\') === false) {__N__                                                $otherimages[$key] = $file;__N__                                            }__N__                                        }__N__                                    }__N____N____N__                                    if (GETPOST(\'action\') == \"new-module\") {__N__                                        foreach ($website_available_langs[\'langs\'] as $lang_key => $lang_label) {__N__                                            ${\'name_\' . $lang_key} = GETPOST(\'name_\' . $lang_key) ?? \'\';__N__                                            ${\'short_description_\' . $lang_key} = GETPOST(\'short_description_\' . $lang_key) ?? \'\';__N__                                            ${\'description_\' . $lang_key} = GETPOST(\'description_\' . $lang_key, \'restricthtmlallowunvalid\') ?? \'\';__N__                                        }__N____N____N__                                        $error = 0;__N__                                        $error_messages = array();__N____N__                                        foreach ($website_available_langs[\'langs\'] as $lang_key => $lang_label) {__N__                                            $product_name = GETPOST(\'name_\' . $lang_key);__N__                                            $short_description = GETPOST(\'short_description_\' . $lang_key);__N__                                            $description = GETPOST(\'description_\' . $lang_key, \'restricthtmlallowunvalid\');__N____N____N__                                            if ($lang_key == \"en\" && ($product_name == \"\" || $short_description == \"\" || $description == \"\")) {__N__                                                $error++;__N__                                                $error_messages[] = $weblangs->trans(\"englishFieldsRequired\");__N__                                            }__N____N__                                            if ($lang_key != \"en\" && $product_name == \"\") {__N__                                                $product_name = (isset($productlang[\'en\'][\'name\']) ? $productlang[\'en\'][\'name\'] : \'\');__N__                                            }__N____N__                                            if ($lang_key != \"en\" && $short_description == \"\") {__N__                                                $short_description = (isset($productlang[\'en\'][\'short_description\']) ? $productlang[\'en\'][\'short_description\'] : \'\');__N__                                            }__N____N__                                            if ($lang_key != \"en\" && $description == \"\") {__N__                                                $description = (isset($productlang[\'en\'][\'description\']) ? $productlang[\'en\'][\'description\'] : \'\');__N__                                            }__N____N__                                            $productlang[$lang_key][\'name\'] = $product_name;__N__                                            $productlang[$lang_key][\'short_description\'] = $short_description;__N__                                            $productlang[$lang_key][\'description\'] = $description;__N____N__                                            $short_descriptionLength = strlen(strip_tags($short_description));__N__                                            if ($short_descriptionLength > 400) {__N__                                                $error++;__N__                                                $error_messages[\'short_description_\' . $lang_key] = $weblangs->trans(\"fieldTooLong\", $weblangs->trans(\"shortDescription\"), 400, $short_descriptionLength);__N__                                            }__N__                                        }__N____N__                                        $keywords = GETPOST(\'keywords\') ?? \'\';__N____N__                                        $categories = GETPOST(\'categories\') ?? \'\';__N__                                        if (empty($categories)) {__N__                                            $error++;__N__                                            $error_messages[\'categories\'] = $weblangs->trans(\"requiredCategory\");__N__                                        }__N____N__                                        if (empty($_FILES[\'virtual_product_file\'][\'name\']) && empty($product_id)) {__N__                                            $error++;__N__                                            $error_messages[\'virtual_product_file\'] = $weblangs->trans(\"zipProductRequired\");__N__                                        } else {__N__                                            if (!empty($_FILES[\'virtual_product_file\'][\'name\'])) {__N__                                                $checkZipFile = checkZipFile();__N__                                                if ($checkZipFile[\'upload\'] < 0) {__N__                                                    $error++;__N__                                                    $error_messages[\'virtual_product_file\'] = $checkZipFile[\'errormsg\'];__N__                                                }__N__                                            }__N__                                        }__N____N__                                        if (empty($_FILES[\'image_cover\'][\'name\']) && empty($product_id)) {__N__                                            $error++;__N__                                            $error_messages[\'image_cover\'] = $weblangs->trans(\"fieldRequired\", $weblangs->trans(\"coverImage\"));__N__                                        } else {__N__                                            if (!empty($_FILES[\'image_cover\'][\'name\'])) {__N__                                                $checkCoverImage = checkImage($_FILES[\'image_cover\']);__N__                                                if ($checkCoverImage != false) {__N__                                                    $error++;__N__                                                    $error_messages[\'image_cover\'] = $weblangs->trans(\"coverImage\") . \' : \' . $checkCoverImage;__N__                                                }__N__                                            }__N__                                        }__N____N__                                        $other_images = array();__N__                                        if (!empty($_FILES[\'image_1\'][\'name\'])) {__N__                                            $other_images = array();__N__                                            $other_images_errors = array();__N__                                            for ($x = 1; $x <= 10; $x++) {__N__                                                if (!empty($_FILES[\'image_\' . $x][\'name\'])) {__N__                                                    $other_images[\'image_\' . $x] = $_FILES[\'image_\' . $x];__N__                                                    $checkImage = checkImage($_FILES[\'image_\' . $x]);__N__                                                    if ($checkImage != false) {__N__                                                        $other_images_errors[\'image_\' . $x] = $checkImage;__N__                                                    }__N__                                                } else {__N__                                                    break;__N__                                                }__N__                                            }__N__                                        }__N__                                        if (!empty($other_images_errors)) {__N__                                            $error++;__N__                                            foreach ($other_images_errors as $key => $value) {__N__                                                $error_messages[$key] = $key . \' : \' . $value;__N__                                            }__N__                                        }__N____N____N__                                        $sale_price = (GETPOST(\'sale_price\') ? GETPOST(\'sale_price\') : 0);__N__                                        $version = (GETPOST(\'version\') ? GETPOST(\'version\') : \'\');__N__                                        $dolibarr_core_include = (GETPOST(\'dolibarr_core_include\') ? GETPOST(\'dolibarr_core_include\') : 0);__N__                                        $version_min = (GETPOST(\'version_min\') ? GETPOST(\'version_min\') : \'\');__N__                                        $version_max = (GETPOST(\'version_max\') ? GETPOST(\'version_max\') : \'\');__N__                                        $contact_support = (GETPOST(\'contact_support\') ? GETPOST(\'contact_support\') : \'\');__N__                                        $status = (GETPOST(\'status\') ? GETPOST(\'status\') : 0);__N____N__                                        $dateNow = date(\"Y-m-d H:i:s\");__N__                                        $dateRef = date(\"YmdHis\");__N____N__                                        if ($error == 0) {__N__                                            $product = array(__N__                                                \'name\' => $productlang[\'en\'][\'name\'],__N__                                                \'short_description\' => $productlang[\'en\'][\'short_description\'],__N__                                                \'description\' => $productlang[\'en\'][\'description\'],__N__                                                \'multilangs\' => $productlang,__N__                                                \'keywords\' => $keywords,__N__                                                \'categories\' => $categories,__N__                                                \'sale_price\' => $sale_price,__N__                                                \'version\' => $version,__N__                                                \'version_min\' => $version_min,__N__                                                \'version_max\' => $version_max,__N__                                                \'contact_support\' => $contact_support,__N__                                                \'dolibarr_core_include\' => $dolibarr_core_include,__N__                                                \'status\' => $status,__N__                                                \'image_cover\' => $_FILES[\'image_cover\'],__N__                                                \'other_images\' => $other_images,__N__                                                \'virtual_product_file\' => $_FILES[\'virtual_product_file\']__N__                                            );__N____N__                                            if (!empty($product_id)) {__N__                                                $addProduct = addProduct($product, $product_id);__N__                                            } else {__N__                                                $addProduct = addProduct($product);__N__                                            }__N____N__                                            if ($addProduct == 1) {__N__                                                redirectToContainer(\'manage-products\');__N__                                            } else {__N__                                                $error++;__N__                                                $error_messages[] = $weblangs->trans(\"errorOccurred\");__N__                                            }__N__                                        }__N__                                    }__N__                                    ?>__N____N__                                    <?php if (isset($error) && $error != 0) : ?>__N__                                        <div class=\'alert alert-danger\'>__N__                                            <?php $add_s = ($error > 1) ? \"s\" : \"\"; ?>__N__                                            <p><?php print $weblangs->trans(\"errorsOccurred\", $error, $add_s); ?></p>__N__                                            <ol>__N__                                                <?php foreach ($error_messages as $key => $value) : ?>__N__                                                    <li><?php print $value; ?></li>__N__                                                <?php endforeach ?>__N__                                            </ol>__N__                                        </div>__N__                                    <?php endif ?>__N____N__                                    <h5>__N__                                        __N__                                        <!-- To remove later -->__N__                                        <?php if (!empty(getDolGlobalInt(\"MARKETPLACE_IN_MIGRATION\")) && !in_array($_SESSION[\'user\'][\'id_user\'], array_map(\'trim\', explode(\',\', getDolGlobalString(\"MARKETPLACE_ADMIN_USER_IDS\"))))) : ?>__N__                                            <div style=\"color: red; font-weight: bold; font-size: 1.2em;\"><br>__N__                                            [EN] This site is currently under maintenance. Please do not submit, edit or buy modules yet.<br>__N__                                            [FR] Ce site est toujours en maintenance. Merci de ne pas soumettre, éditer ou acheter des modules.<br>__N__                                            <br><br>__N__                                            </div>__N__                                        <?php endif ?>__N__                                        <!-- To remove later -->__N__                                        __N__                                        __N__                                        <?php print $weblangs->trans(\"checkRulesBeforeSubmit\", \"https://wiki.dolibarr.org/index.php?title=Modules_-_Packaging_rules_and_Dolistore_validation_rules\"); ?>__N__                                    </h5>__N____N__                                    <p class=\"form-subheading\"><?php print $weblangs->trans(\"multilingualInformation\"); ?></p>__N____N__                                    <nav>__N__                                        <div class=\"nav\">__N__                                            <?php foreach ($website_available_langs[\'langs\'] as $key => $value) : ?>__N__                                                <button class=\"nav-link <?php if ($key == \'en\') {__N__                                                                            print \'active\';__N__                                                                        } ?>\" id=\"nav-<?php print $key; ?>-tab\" data-target=\"nav-<?php print $key; ?>\"><?php print $value; ?> <?php if ($key == \'en\') {__N__                                                                                                                                                                                                                            print \'<sup>*</sup>\';__N__                                                                                                                                                                                                                        } ?></button>__N__                                            <?php endforeach ?>__N__                                        </div>__N__                                    </nav>__N__                                    __N__                                    <form action=\"\" enctype=\"multipart/form-data\" method=\"post\" id=\"product-creation-form\">__N__                                        <div class=\"tab-content std\">__N__                                            <?php foreach ($website_available_langs[\'langs\'] as $key => $value): ?>__N__                                                <div class=\"tab-pane <?php if ($key == \'en\') {__N__                                                    print \'active\';__N__                                                } ?>\" id=\"nav-<?php print $key; ?>\">__N__                                                    <div class=\"form-group row required\">__N__                                                        <label for=\"name_<?php print $key; ?>\"__N__                                                            class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"moduleProductName\"); ?> <span__N__                                                                class=\"lang_span\">[<?php print $key; ?>]</span>__N__                                                            <?php if ($key == \'en\') {__N__                                                                print \'<sup>*</sup>\';__N__                                                            } ?></label>__N__                                                        <div class=\"col-xs-9\">__N__                                                            <input type=\"text\" class=\"is_required validate form-control\" id=\"name_<?php print $key; ?>\"__N__                                                                name=\"name_<?php print $key; ?>\" <?php if ($key == \'en\') {__N__                                                                       print \'required\';__N__                                                                   } ?> value=\"<?php if (isset(${\'name_\' . $key})) {__N__                                                                         print ${\'name_\' . $key};__N__                                                                     } ?>\">__N__                                                        </div>__N__                                                    </div>__N__                                                    <div class=\"form-group row required\">__N__                                                        <label for=\"short_description_<?php print $key; ?>\"__N__                                                            class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"shortDescription\"); ?> <span__N__                                                                class=\"lang_span\">[<?php print $key; ?>]</span>__N__                                                            <?php if ($key == \'en\') {__N__                                                                print \'<sup>*</sup>\';__N__                                                            } ?></label>__N__                                                        <div class=\"col-xs-9\">__N__                                                            <textarea row=\"5\" class=\"rtenockeditor is_required validate form-control textarea-short-description\"__N__                                                                id=\"short_description_<?php print $key; ?>\" name=\"short_description_<?php print $key; ?>\" <?php if ($key == \'en\') {__N__                                                                          print \'required\';__N__                                                                      } ?>><?php if (isset(${\'short_description_\' . $key})) {__N__                                                                           print ${\'short_description_\' . $key};__N__                                                                       } ?></textarea>__N__                                                        </div>__N__                                                    </div>__N__                                        __N__                                                    <div class=\"form-group row required\">__N__                                                        <label for=\"description_<?php print $key; ?>\"__N__                                                            class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"largeDescription\"); ?> <span__N__                                                                class=\"lang_span\">[<?php print $key; ?>]</span>__N__                                                            <?php if ($key == \'en\') {__N__                                                                print \'<sup>*</sup>\';__N__                                                            } ?></label>__N__                                                        <div class=\"col-xs-9\">__N__                                                            <?php__N__                                                            $description_value = ${\'description_\' . $key} ?? \'\';__N__                                                            $doleditor = new DolEditor(\'description_\' . $key, $description_value, \'\', 160, \'dolibarr_notes\', \'Basic\', false, false, getDolGlobalString(\'FCKEDITOR_ENABLE_DETAILS\'), \'4\', \'90%\');__N__                                                            $doleditor->Create();__N__                                                            ?>__N__                                                        </div>__N__                                                    </div>__N__                                        __N__                                                </div>__N__                                            <?php endforeach ?>__N__                                        </div>__N____N____N__                                        <p class=\"form-subheading\"><?php print $weblangs->trans(\"moduleInformation\"); ?></p>__N__                                        <div class=\"col-xs-12 box-form\">__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"keywords\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"keywords\"); ?></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <input type=\"text\" class=\"is_required validate form-control module-keywords\" id=\"keywords\" name=\"keywords\" value=\"<?php if (isset($keywords)) {__N__                                                                                                                                                                            print $keywords;__N__                                                                                                                                                                        } ?>\">__N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"module-version\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"moduleVersion\"); ?> <sup>*</sup></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <input type=\"text\" class=\"is_required validate form-control module-version\" id=\"module-version\" name=\"version\" required value=\"<?php if (isset($version)) {__N__                                                                                                                                                                                        print $version;__N__                                                                                                                                                                                    } ?>\">__N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <div class=\"form-group row required\">__N__                                                <label class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"compatibility\"); ?> <sup>*</sup></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <div class=\"row\">__N__                                                        <div class=\"col-xs-4\">__N__                                                            Min__N__                                                            <select name=\"version_min\" id=\"version-min\" class=\"flat maxwidth200onsmartphone selectcountry form-control\" required>__N__                                                                <option value=\"\" disabled><?php print $weblangs->trans(\"minVersion\"); ?></option>__N__                                                                <?php foreach (array_reverse($full_version_tree) as $key => $value) : ?>__N__                                                                    <?php if ($value[\'rowid\'] != $mvcid) : ?>__N__                                                                        <option value=\"<?php print $value[\'id\']; ?>\" <?php if (!empty($version_min) && $version_min == $value[\'label\']) {__N__                                                                                                                            print \'selected\';__N__                                                                                                                        } ?>><?php print $value[\'label\']; ?></option>__N__                                                                    <?php endif ?>__N__                                                                <?php endforeach ?>__N__                                                            </select>__N__                                                        </div>__N____N__                                                        <div class=\"col-xs-4\">__N__                                                            Max__N__                                                            <select name=\"version_max\" id=\"version-max\" class=\"flat maxwidth200onsmartphone selectcountry form-control\" required>__N__                                                                <option value=\"\" disabled><?php print $weblangs->trans(\"maxVersion\"); ?></option>__N__                                                                <?php foreach (array_reverse($full_version_tree) as $key => $value) : ?>__N__                                                                    <?php if ($value[\'rowid\'] != $mvcid) : ?>__N__                                                                        <option value=\"<?php print $value[\'id\']; ?>\" <?php if (!empty($version_max) && $version_max == $value[\'label\']) {__N__                                                                                                                            print \'selected\';__N__                                                                                                                        } ?>><?php print $value[\'label\']; ?></option>__N__                                                                    <?php endif ?>__N__                                                                <?php endforeach ?>__N__                                                            </select>__N__                                                        </div>__N__                                                    </div>__N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"status\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"status\"); ?></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <div class=\"form-check\">__N__                                                        <input class=\"form-check-input\" type=\"radio\" name=\"status\" id=\"status-enabled\" value=\"1\" <?php if (isset($status) && $status == 1) {__N__                                                                                                                                                        print \'checked\';__N__                                                                                                                                                    } elseif (empty($isAdmin)) { print \"disabled\"; } ?>>__N__                                                        <label class=\"form-check-label\" for=\"status-enabled\">__N__                                                            Enabled__N__                                                        </label>__N__                                                    </div>__N__                                                    <div class=\"form-check\">__N__                                                        <input class=\"form-check-input\" type=\"radio\" name=\"status\" id=\"status-disabled\" value=\"0\" <?php if (isset($status) && $status == 0) {__N__                                                                                                                                                        print \'checked\';__N__                                                                                                                                                    } ?>>__N__                                                        <label class=\"form-check-label\" for=\"status-disabled\">__N__                                                            Disabled__N__                                                        </label>__N__                                                    </div>__N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"module-sale-price\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"salePriceExlTax\"); ?> <sup>*</sup></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <input type=\"text\" class=\"is_required validate form-control col-xs-8 price-field\" id=\"module-sale-price\" name=\"sale_price\" value=\"<?php if (isset($sale_price)) {__N__                                                                                                                                                                                            print $sale_price;__N__                                                                                                                                                                                        } ?>\" required>__N__                                                    <span class=\"price-currency\">__N__                                                        <?php print $weblangs->trans(\"currencyEuro\"); ?>__N__                                                    </span>__N__                                                    <span class=\"price-free\">__N__                                                        <?php print $weblangs->trans(\"salePriceFree\"); ?>__N__                                                    </span>__N__                                                    <div class=\"field-info info-inline\">__N__                                                        <?php print $weblangs->trans(\"salePriceInfo\"); ?>__N__                                                    </div>__N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"module-how-to-contact\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"contactSupport\"); ?></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <input type=\"text\" class=\"is_required validate form-control how-to-contact\" id=\"module-how-to-contact\" name=\"contact_support\" value=\"<?php if (isset($contact_support)) {__N__                                                                                                                                                                                                print $contact_support;__N__                                                                                                                                                                                            } ?>\">__N__                                                    <div class=\"field-info info-inline\">__N__                                                        <?php print $weblangs->trans(\"contactSupportInfo\"); ?>__N__                                                    </div>__N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"customer_firstname\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"selectCatForProduct\"); ?> <sup>*</sup></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <?php__N__                                                    $mcid = getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\");__N__                                                    $organized_tree = getOrganizedTree($mcid);__N__                                                    ?>__N____N__                                                    <table border=\"0\" cellspacing=\"5\" cellpadding=\"0\" class=\"cat-check-table-submit-product\">__N__                                                        <tbody>__N__                                                            <?php__N__                                                            if (!isset($categories) || !is_array($categories)) {__N__                                                                $categories = [];__N__                                                            }__N__                                                            ?>__N__                                                            <?php foreach ($organized_tree as $key => $value) : ?>__N__                                                                <?php if ($value[\'label\'] != \"Versions\" && $value[\'label\'] != \"Specials\" && $value[\'label\'] != \"Goodies\") : ?>__N__                                                                    <tr bgcolor=\"#FFDBB7\">__N__                                                                        <td class=\"cat-checkbox-td\">__N__                                                                            <?php $checked = in_array($value[\'id\'], $categories) ? \'checked\' : \'\';  ?>__N__                                                                            <input type=\"checkbox\" id=\"cat-<?php print $value[\'rowid\']; ?>\" name=\"categories[]\" value=\"<?php print $value[\'rowid\']; ?>\" <?php print $checked; ?>>__N__                                                                            <label for=\"cat-<?php print $value[\'rowid\']; ?>\" class=\"checkbox_label_parent\"> <?php print $value[\'label\']; ?> </label>__N__                                                                        </td>__N__                                                                    </tr>__N__                                                                    <?php if (isset($value[\'children\']) && !empty($value[\'children\'])) : ?>__N__                                                                        <?php usort($value[\'children\'], build_sorter(\'position\')); ?>__N__                                                                        <?php foreach ($value[\'children\'] as $key_children => $value_children) : ?>__N__                                                                            <tr bgcolor=\"#FFF4EA\">__N__                                                                                <td class=\"subcat-checkbox-td\">__N__                                                                                    <?php $checked = in_array($value_children[\'id\'], $categories) ? \'checked\' : \'\'; ?>__N__                                                                                    <input type=\"checkbox\" id=\"subcat-<?php print $value_children[\'rowid\']; ?>\" name=\"categories[]\" value=\"<?php print $value_children[\'rowid\']; ?>\" <?php print $checked; ?>>__N__                                                                                    <label for=\"subcat-<?php print $value_children[\'rowid\']; ?>\" class=\"checkbox_label\"> <?php print $value_children[\'label\']; ?> </label>__N__                                                                                </td>__N__                                                                            </tr>__N__                                                                        <?php endforeach; ?>__N__                                                                    <?php endif; ?>__N__                                                                <?php endif; ?>__N__                                                            <?php endforeach; ?>__N__                                                        </tbody>__N__                                                    </table>__N__                                                </div>__N__                                            </div>__N____N__                                        </div>__N____N____N__                                        <p class=\"form-subheading\"><?php print $weblangs->trans(\"attachments\"); ?></p>__N__                                        <div class=\"col-xs-12 box-form\">__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"virtual_product_file\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"zipFileModuleField\"); ?> <sup>*</sup></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <div class=\"uploader\" id=\"uniform-virtual_product_file\">__N__                                                        <input id=\"virtual_product_file\" name=\"virtual_product_file\" class=\"\" maxlength=\"10000000\" type=\"file\" <?php if (empty($product_id)) {__N__                                                                                                                                                                    print \'required\';__N__                                                                                                                                                                } ?>>__N__                                                        <div class=\"field-info info-inline\" style=\"margin-left: 10px;\">__N__                                                            <?php print $weblangs->trans(\"zipFileModuleInfo\"); ?>__N__                                                        </div>__N__                                                    </div>__N__                                                    <?php if (!empty($product_id) && !empty($virtual_product_file[\'filename\'])) : ?>__N__                                                        <div class=\"field-info info-inline\" id=\"field-info-virtual_product_file\">__N__                                                            <a href=\"<?php print $virtual_product_file[\'url\']; ?>\" target=\"_new\"><?php print $virtual_product_file[\'filename\']; ?> <i class=\"icon-cloud-download\"></i></a>__N__                                                        </div>__N__                                                    <?php endif; ?>__N____N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <div class=\"form-group row required\">__N__                                                <label for=\"image_cover\" class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"coverImage\"); ?> <sup>*</sup></label>__N__                                                <div class=\"col-xs-9\">__N__                                                    <table>__N__                                                        <tbody class=\"tbody-image-cover\">__N__                                                            <tr>__N__                                                                <td>__N__                                                                    <input type=\"file\" name=\"image_cover\" id=\"image_cover\" class=\"input-image-cover\" accept=\"image/*\" <?php if (empty($product_id)) {__N__                                                                                                                                                                            print \'required\';__N__                                                                                                                                                                        } ?>>__N__                                                                </td>__N__                                                                <td>__N__                                                                    <img src=\"<?php if (!empty($product_id)) {__N__                                                                                    print $image_cover[\'url\'];__N__                                                                                } else {__N__                                                                                    print \'#\';__N__                                                                                } ?>\" <?php if (empty($product_id)) {__N__                                                                                                                                                                    print  \'style=\"display: none;\"\';__N__                                                                                                                                                                } ?> class=\"image-cover-preview\" id=\"image_preview\" width=\"100px\">__N__                                                                </td>__N__                                                            </tr>__N__                                                        </tbody>__N__                                                    </table>__N__                                                    <!--<div class=\"field-info info-inline\" id=\"field-info-image-cover\">__N__                                                        <?php //echo htmlspecialchars($_FILES[\'image_cover\'][\'name\']); __N__                                                        ?>__N__                                                    </div>-->__N__                                                    <?php //endif; __N__                                                    ?>__N__                                                </div>__N__                                            </div>__N____N__                                            <hr>__N____N__                                            <?php if (empty($product_id)) : ?>__N__                                                <div class=\"form-group row required\">__N__                                                    <label class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"otherImages\"); ?></label>__N__                                                    <div class=\"col-xs-9\">__N__                                                        <button type=\"button\" id=\"addImageBtn\" class=\"btn btn-default button\"><?php print $weblangs->trans(\"AddPhoto\"); ?> <span class=\"iconAddImage\"></span></button>__N__                                                        <table class=\"table\">__N__                                                            <tbody class=\"table-body\" id=\"table-body-add\">__N__                                                            </tbody>__N__                                                        </table>__N__                                                    </div>__N__                                                </div>__N__                                            <?php endif; ?>__N____N__                                            <?php if (!empty($product_id)) : ?>__N__                                                <div class=\"form-group row required\">__N__                                                    <label class=\"col-xs-3 col-form-label\"><?php print $weblangs->trans(\"otherImages\"); ?></label>__N__                                                    <div class=\"col-xs-9\">__N__                                                        <button type=\"button\" id=\"addImageBtn2\" class=\"btn btn-default button\"><?php print $weblangs->trans(\"AddPhoto\"); ?> <span class=\"iconAddImage\"></span></button>__N__                                                        <input type=\"file\" id=\"fileInput2\" style=\"display:none;\" accept=\"image/*\">__N__                                                        <span class=\"notification\"></span>__N__                                                        <?php if (!empty($otherimages)) : ?>__N__                                                            <table class=\"table\">__N__                                                                <tbody class=\"table-body\" id=\"table-body-edit\">__N__                                                                    <?php foreach ($otherimages as $key => $image) : ?>__N__                                                                        <tr data-id=\"<?php print $key; ?>\">__N__                                                                            <td><span class=\"icon-move\"></span></td>__N__                                                                            <td class=\"rowCount\"><?php print $image[\'position\']; ?></td>__N__                                                                            <td>__N__                                                                                <?php print $image[\'filename\']; ?>__N__                                                                            </td>__N__                                                                            <td>__N__                                                                                <img src=\"<?php print $image[\'url\']; ?>\" class=\"image-preview\" width=\"100px\">__N__                                                                            </td>__N__                                                                            <td class=\"td-deleteBtn\">__N__                                                                                <button type=\"button\" data-id=\"<?php print $key; ?>\" class=\"btn deleteBtn\"><i class=\"icon-delete\"></i></button>__N__                                                                            </td>__N__                                                                        </tr>__N__                                                                    <?php endforeach ?>__N__                                                                </tbody>__N__                                                            </table>__N__                                                        <?php endif; ?>__N__                                                    </div>__N__                                                </div>__N__                                            <?php endif; ?>__N____N__                                        </div>__N____N____N__                                        <p class=\"form-subheading\"><?php print $weblangs->trans(\"termsAndConditionsOfUse\"); ?></p>__N__                                        <div class=\"col-xs-12 box-form\">__N____N__                                            <!-- TODO Add hidden option MARKETPLACE_ADD_DOLIBARR_CORE_MESSAGE to enable this section only if option is on -->__N__                                            <div class=\"field-info\">__N__                                                <?php print $weblangs->trans(\"includeModuleInDolibarrInfo\"); ?>__N__                                            </div>__N__                                            <?php $checked = (!empty($dolibarr_core_include) && $dolibarr_core_include == \'1\') ? \'checked\' : \'\'; ?>__N__                                            <input type=\"checkbox\" value=\"1\" id=\"dolibarr_core_include\" name=\"dolibarr_core_include\" <?php print $checked; ?> class=\"dolibarr_core_include\">__N__                                            <label for=\"dolibarr_core_include\" id=\"dolibarr_core_include_label\">__N__                                                I would like to have my module included in the core of the project as soon as possible__N__                                                <span class=\"tooltip\">__N__                                                    <span class=\"fa fa-question-circle\"></span>__N__                                                    <!--<img src=\"https://www.dolistore.com/img/admin/help.png\" style=\"padding: 0px 5px;\">-->__N__                                                    <span class=\"tooltiptext\">__N__                                                        Because a Dolibarr module is a derivative work of Dolibarr, a module must be licensed under a license compatible with Dolibarr gpl v3 license.__N__                                                        This means your source code may be included into Dolibarr official version to enhance Dolibarr itself. However, \"may\" does not say \"when\". __N__                                                        So if you really want this to happen as soon as possible, just check this box so core team will be informed. __N__                                                        This will not guarantee it will be done but increase seriously probability and reduce delay time. If your module is included in core, it means the module will then be maintained by Dolibarr developer community, and module will be disabled from Dolistore as soon as dolibarr version including it is publicly available.__N__                                                    </span>__N__                                                </span>__N__                                            </label>__N____N__                                            <hr>__N__                                            __N____N__                                            <div class=\"form-group required\">__N__                                                <?php__N__                                                $current_lang = $_SESSION[\'lang\'][\'shortcode\'];__N__                                                $page_terms_module_providers = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'title\' => \'Terms and conditions of use - Module providers\', \'status\' => \'1\', \'lang\' => $website->lang));__N__                                                $obj = $page_terms_module_providers[key($page_terms_module_providers)];__N__                                                $link = $obj->pageurl;__N__                                                if ($website->lang != $current_lang) {__N__                                                    $trans_page = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'fk_page\' => $obj->id, \'status\' => \'1\', \'lang\' => $current_lang));__N__                                                    $trans_page = $trans_page[key($trans_page)];__N__                                                    $link = $trans_page->pageurl;__N__                                                }__N__                                                ?>__N____N__                                                <?php $checked = ($_SERVER[\'REQUEST_METHOD\'] === \'POST\' || !empty($product_id)) ? \'checked\' : \'\'; ?>__N__                                                <input type=\"checkbox\" value=\"1\" id=\"dolibarr_terms\" <?php print $checked; ?> name=\"dolibarr_terms\">__N__                                                <label for=\"dolibarr_terms\" id=\"dolibarr_terms_label\">__N__                                                    <?php print $weblangs->trans(\"agreeTermsWebsite\"); ?>__N__                                                    <a href=\"<?php print $link.\".php\"; ?>\" target=\"_blank\"><?php print $link; ?></a>__N__                                                </label>__N__                                            </div>__N__                                            <div class=\"form-group required\" style=\"margin-top: 15px;\">__N__                                                <input type=\"checkbox\" value=\"1\" id=\"module_wiki\" <?php print $checked; ?> name=\"module_wiki\">__N__                                                <label for=\"module_wiki\" id=\"module_wiki_label\">__N__                                                    <?php print $weblangs->trans(\"suggestToAddWikiPage\"); ?>__N__                                                </label>__N__                                            </div>__N____N__                                        </div>__N____N__                                        <hr>__N____N__                                        <input type=\"hidden\" name=\"action\" value=\"new-module\">__N__                                        <?php if (!empty($product_id)) : ?>__N__                                            <span id=\"product_to_edit\" style=\"display:none;\"> <?php print $product_id; ?></span>__N__                                        <?php endif; ?>__N____N____N__                                        <div class=\"form-group required\">__N__                                            <input class=\"button_large_disabled\" id=\"sub\" name=\"sub\" type=\"submit\" value=\"Submit this product\" style=\"opacity: 0.5;\" disabled=\"disabled\">__N__                                        </div>__N__                                    </form>__N__                                </div>__N__                            </div>__N__                        </div>__N__                    </div>__N__                </div>__N__            </div>__N__        </div>__N__    </div>__N__    <!-- .columns-container -->__N__    <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__    </div>__N__</div>__N__<?php__N____N__$themepath = dol_buildpath($conf->css, 1);__N__$themesubdir = \'\';__N__if (!empty($conf->modules_parts[\'theme\'])) {    // This slow down__N__    foreach ($conf->modules_parts[\'theme\'] as $reldir) {__N__        if (file_exists(dol_buildpath($reldir . $conf->css, 0))) {__N__            $themepath = dol_buildpath($reldir . $conf->css, 1);__N__            $themesubdir = $reldir;__N__            break;__N__        }__N__    }__N__}__N____N__$ext = \'layout=\' . (empty($conf->browser->layout) ? \'\' : $conf->browser->layout) . \'&amp;version=\' . urlencode(DOL_VERSION);__N__print \'<!-- Includes JS for CKEditor -->\' . \"\\n\";__N__$pathckeditor = $conf->file->dol_main_url_root . \'/includes/ckeditor/ckeditor/\';__N__$jsckeditor = \'ckeditor.js\';__N____N__print \'<script nonce=\"\' . getNonce() . \'\">\';__N__print \'/* enable ckeditor by main.inc.php */\';__N__// TODO Embed the ckeditor or use an online cdn cache for the ckeditor lib. We should not have url using $conf->file->dol_main_url_root that is the url of backoffice.__N__//print \'var CKEDITOR_BASEPATH = \\\'\' . dol_escape_js($pathckeditor) . \'\\\';\' . \"\\n\";__N__print \'var ckeditorConfig = \\\'\' . $conf->file->dol_main_url_root . dol_escape_js(dol_buildpath($themesubdir . \'/theme/\' . $conf->theme . \'/ckeditor/config.js\' . ($ext ? \'?\' . $ext : \'\'), 1)) . \'\\\';\' . \"\\n\"; // $themesubdir=\'\' in standard usage__N__//print \'var ckeditorFilebrowserBrowseUrl = \\\'\' . $conf->file->dol_main_url_root . \'/core/filemanagerdol/browser/default/browser.php?Connector=\' . $conf->file->dol_main_url_root . \'/core/filemanagerdol/connectors/php/connector.php\\\';\' . \"\\n\";__N__//print \'var ckeditorFilebrowserImageBrowseUrl = \\\'\' . $conf->file->dol_main_url_root . \'/core/filemanagerdol/browser/default/browser.php?Type=Image&Connector=\' . $conf->file->dol_main_url_root . \'/core/filemanagerdol/connectors/php/connector.php\\\';\' . \"\\n\";__N__print \'</script>\' . \"\\n\";__N__print \'<script src=\"\' . $pathckeditor . $jsckeditor . ($ext ? \'?\' . $ext : \'\') . \'\"></script>\' . \"\\n\";__N____N__?>__N__</body>__N__</html>', '', 0);

-- Page ID 16__+MAX_llx_website_page__ - Aliases footer --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(16__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'footer', '', 'footer', 'footer', '', '', '', '1', '2024-02-02 16:48:47', '2025-01-16 02:37:24', null, '', 'other', '', '<footer id=\"footer\" class=\"container\">__N__  <div class=\"row\">__N__    <?php__N__    $current_lang = $_SESSION[\'lang\'][\'shortcode\'];__N__      __N__    $links = array();__N__    __N__    if ($current_lang == \'fr\') {__N__        $links[\'about_us\'] = array(\'title\' => \'Mentions légales - Politique de confidentialité\', \'url\' => \'mentions-legales-a-propos\');__N__        $links[\'terms\'] = array(\'title\' => \'Conditions générales d\\\'utilisation\', \'url\' => \'conditions-generales-dutilisation\');__N__        $links[\'terms_module_providers\'] = array(\'title\' => \'Conditions générales d\\\'utilisation - vendeurs de modules\', \'url\' => \'conditions-generales-dutilisation_vendeurs-de-modules\');__N__        $links[\'contact\'] = array(\'title\' => \'Contactez-nous\', \'url\' => \'contactez-nous\');__N__        $links[\'about_payments\'] = array(\'title\' => \'Payments et securisation\', \'url\' => \'paiements-et-securisation\');__N__    } elseif ($current_lang == \'es\') {__N__        $links[\'about_us\'] = array(\'title\' => \'Legal Notice - Quiénes somos\', \'url\' => \'legal-notice-quienes-somos\');__N__        $links[\'terms\'] = array(\'title\' => \'Términos y condicones de uso\', \'url\' => \'terminos-y-condicones-de-uso\');__N__        $links[\'terms_module_providers\'] = array(\'title\' => \'Términos y condiciones de uso - Vendedores de módulos\', \'url\' => \'terminos-y-condiciones-de-uso_vendedores-de-modulos\');__N__        $links[\'contact\'] = array(\'title\' => \'Contact\', \'url\' => \'acerca-de-nosotros\');__N__        $links[\'about_payments\'] = array(\'title\' => \'Acerca de los pago\', \'url\' => \'acerca-de-los-pagos\');__N__    } elseif ($current_lang == \'it\') {__N__        $links[\'about_us\'] = array(\'title\' => \'Nota legale - Chi siamo\', \'url\' => \'nota-legale-chi-siamo\');__N__        $links[\'terms\'] = array(\'title\' => \'Condizioni d\\\'uso\', \'url\' => \'condizioni-duso\');__N__        $links[\'terms_module_providers\'] = array(\'title\' => \'Condizioni d\\\'uso - Venditori di modul\', \'url\' => \'condizioni-duso_venditori-di-moduli\');__N__        $links[\'contact\'] = array(\'title\' => \'Contact\', \'url\' => \'contact\');__N__        $links[\'about_payments\'] = array(\'title\' => \'Pagamenti e sicurezza\', \'url\' => \'pagamenti-e-sicurezza\');__N__    } elseif ($current_lang == \'de\') {__N__        $links[\'about_us\'] = array(\'title\' => \'Rechtlicher Hinweise - Über uns\', \'url\' => \'rechtlicher-hinweise-ber-uns\');__N__        $links[\'terms\'] = array(\'title\' => \'Unsere Nutzungsbedingungen\', \'url\' => \'unsere-nutzungsbedingungen\');__N__        $links[\'terms_module_providers\'] = array(\'title\' => \'Unsere Nutzungsbedingungen - Modulverkäufer\', \'url\' => \'unsere-nutzungsbedingungen_modulverkaufer\');__N__        $links[\'contact\'] = array(\'title\' => \'Unser Kontakt\', \'url\' => \'unser-kontakt\');__N__        $links[\'about_payments\'] = array(\'title\' => \'Sicheres Bezahlen\', \'url\' => \'sicheres-bezahlen\');__N__    } else {__N__        $links[\'about_us\'] = array(\'title\' => \'Legal Notice - About us\', \'url\' => \'about-us\');__N__        $links[\'terms\'] = array(\'title\' => \'Terms and conditions of use\', \'url\' => \'terms-and-conditions\');__N__        $links[\'terms_module_providers\'] = array(\'title\' => \'Terms and conditions of use - Module providers\', \'url\' => \'terms-and-conditions-of-use-module-providers\');__N__        $links[\'contact\'] = array(\'title\' => \'Contact\', \'url\' => \'contact-us\');__N__        $links[\'about_payments\'] = array(\'title\' => \'About payments\', \'url\' => \'about-payments\');__N__    }__N__    /*__N__    $other_pages[\'about_payments\'] = $websitepage->fetchAll($website->id, \'\', \'\', 1, 0, array(\'title\' => \'About payments\', \'status\' => \'1\', \'lang\' => $website->lang));__N__    $other_pages[\'contact\'] = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'title\' => \'Contact\', \'status\' => \'1\', \'lang\' => $website->lang));__N__    $other_pages[\'terms\'] = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'title\' => \'Terms and conditions\', \'status\' => \'1\', \'lang\' => $website->lang));__N__    $other_pages[\'terms_module_providers\'] = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'title\' => \'Terms and conditions of use - Module providers\', \'status\' => \'1\', \'lang\' => $website->lang));__N__    $other_pages[\'about_us\'] = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'title\' => \'About us\', \'status\' => \'1\', \'lang\' => $website->lang));__N__    foreach ($other_pages as $key => $pages) {__N__      $obj = $pages[key($pages)];__N__      $links[$key][\'title\'] = $obj->title;__N__      $links[$key][\'url\'] = $obj->pageurl;__N__      if ($website->lang != $current_lang) {__N__        $trans_page = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'fk_page\' => $obj->id, \'status\' => \'1\', \'lang\' => $current_lang));__N__        $trans_page = $trans_page[key($trans_page)];__N__        $links[$key][\'title\'] = $trans_page->title;__N__        $links[$key][\'url\'] = $trans_page->pageurl;__N__      }__N__    }__N__    */__N__    __N__    ?>__N__    <section class=\"footer-block col-xs-12 col-sm-6\" id=\"block_various_links_footer\" contenteditable=\"true\">__N__      <h4><?php echo $weblangs->trans(\"Information\") ?></h4>__N__      <ul class=\"toggle-footer\">__N__        <li class=\"item\">__N__          <a href=\"<?php print $links[\'about_us\'][\'url\'] ?>.php\"> <?php print $links[\'about_us\'][\'title\'] ?> </a>__N__        </li>__N__        <li class=\"item\">__N__          <a href=\"<?php print $links[\'terms\'][\'url\'] ?>.php\"> <?php print $links[\'terms\'][\'title\'] ?> </a>__N__        </li>__N__        <li class=\"item\">__N__          <a href=\"<?php print $links[\'terms_module_providers\'][\'url\'] ?>.php\"> <?php print $links[\'terms_module_providers\'][\'title\'] ?> </a>__N__        </li>__N__        <li class=\"item\">__N__          <a href=\"<?php print $links[\'contact\'][\'url\'] ?>.php\"> <?php print $links[\'contact\'][\'title\'] ?> </a>__N__        </li>__N__        <li class=\"item\">__N__          <a href=\"<?php print $links[\'about_payments\'][\'url\'] ?>.php\"> <?php print $links[\'about_payments\'][\'title\'] ?> </a>__N__        </li>__N__      </ul>__N__    </section>__N__    <section class=\"footer-block col-xs-12 col-sm-6\" contenteditable=\"true\">__N__      <h4>__N__        <a href=\"/myaccount.php\" title=\"<?php print $weblangs->trans(\"myAccount\"); ?>\" rel=\"nofollow\"><?php print $weblangs->trans(\"myAccount\"); ?></a>__N__      </h4>__N__      <div class=\"block_content toggle-footer\">__N__        <ul class=\"bullet\">__N__          <li>__N__            <a href=\"order-history.php\" title=\"<?php print $weblangs->trans(\"orderHistoryDetails\"); ?>\" rel=\"nofollow\"><?php print $weblangs->trans(\"orderHistoryDetails\"); ?></a>__N__          </li>__N__          <li>__N__            <a href=\"account-information.php\" title=\"<?php print $weblangs->trans(\"personalInfo\"); ?>\" rel=\"nofollow\"><?php print $weblangs->trans(\"personalInfo\"); ?></a>__N__          </li>__N____N__        </ul>__N__      </div>__N__    </section>__N__  </div>__N__</footer>', '', 0);

-- Page ID 17__+MAX_llx_website_page__ - Aliases forgot-password --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(17__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'forgot-password', '', 'Forgot password', '', '', '', '', '1', '2024-07-19 16:32:47', '2025-01-14 10:52:26', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/class/html.formcompany.class.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/lib/admin.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/modules/security/generate/modGeneratePassStandard.class.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N____N__$form = new Form($db);__N____N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php includeContainer(\'header\'); ?>__N__  </div>__N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"resetPassword\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php __N__            includeContainer(\'sidebar\');__N__            $__PAGE__TITLE__ = $weblangs->trans(\"forgotPasswordPageTitle\");__N__        ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__          <div class=\"clearfix\">__N__                <div class=\"row\">__N__                    <div class=\"col-xs-12\">__N__                        <?php__N__                            $error = 0;__N__                            $error_messages = array();__N__                            __N__                            // Send reset password email__N__            			    if (!empty(GETPOST(\'email\'))) {__N____N__                                $customer_email = GETPOST(\'email\');__N____N__                            	if (!isValidEmail($customer_email)) {__N__                            		$error++;__N__                            		$error_messages[] = $weblangs->trans(\"emailInvalid\");__N__                            	}__N__                            	__N__                            	$sql  = \"select lsa.rowid, lsa.login, lsa.fk_soc \";__N__                                $sql .= \"from \".MAIN_DB_PREFIX.\"societe_account lsa \";__N__                                $sql .= \"where lsa.login = \'\". $customer_email .\"\' \";__N__                                $sql .= \"and lsa.fk_website = \". $website->id . \" \";__N__                                $sql .= \"limit 1\";__N__                                __N__                                $result = $db->query($sql);__N__                            	$objsql = $db->fetch_object($result);__N__                            	__N__                            	if (empty($objsql)) {__N__                            		$error++;__N__                            		$error_messages[] = $weblangs->trans(\"emailDoesNotExist\");__N__                                }__N__                            __N____N__                                if($error == 0){__N__                                    // Start of transaction__N__                                    $db->begin();__N__                                    __N__                                    // Generate a random password__N__                                    $pass_temp_crypted = dol_hash(date(\'Y-m-d H:i:s\').$objsql->rowid);__N__                                    __N__                                    $societeaccount = new SocieteAccount($db);__N__                                    $societeaccount->fetch($objsql->rowid);__N__                                    $societeaccount->id = $objsql->rowid;__N__                                    $societeaccount->pass_temp = $pass_temp_crypted;__N__                                    $societeaccount->date_last_reset_password = dol_now();__N__                            __N__                                    $result = $societeaccount->update($user);__N__                                    if ($result < 0) {__N__                            			$error++;__N__                            			$error_messages[] = $weblangs->trans(\"errorOccurred\");__N__                            		}__N__                            		__N__                            		if ($error == 0) {__N__                            		    __N__                            		    $sql  = \"select ls.nom \";__N__                                        $sql .= \"from \".MAIN_DB_PREFIX.\"societe ls \";__N__                                        $sql .= \"where ls.rowid = \'\". $objsql->fk_soc .\"\' \";__N__                                        $sql .= \"limit 1\";__N__                                        __N__                                        $result = $db->query($sql);__N__                                		$objsql_customer = $db->fetch_object($result);__N__                                		__N__                                		// Generate the link__N__                                        $protocol = (!empty($_SERVER[\'HTTPS\']) && $_SERVER[\'HTTPS\'] !== \'off\' || $_SERVER[\'SERVER_PORT\'] == 443) ? \"https://\" : \"http://\";__N__                                        $host = $_SERVER[\'HTTP_HOST\'];__N__                                        $requestUri = $_SERVER[\'REQUEST_URI\'];__N__                                        $currentUrl = $protocol . $host . $requestUri;__N__                                        __N__                                		// Check if the URL already contains GET parameters__N__                                        if (strpos($requestUri, \'?\') !== false) {__N__                                            // If the URL contains parameters, append the token with &__N__                                            $resetLink = $currentUrl . \"&token=\" . $pass_temp_crypted;__N__                                        } else {__N__                                            // If the URL does not contain parameters, append the token with ?__N__                                            $resetLink = $currentUrl . \"?token=\" . $pass_temp_crypted;__N__                                        }__N____N__                            		    // Send welcome email__N__                            		    $substitutionarray = array(__N__                            	            \'__USER_NAME__\' => $objsql_customer->nom,__N__                            	            \'__PASSWORD__RESET_LINK__\' => $resetLink__N__                            	        );__N__                                    	$email_sended = marketplace_send_email(getDolGlobalInt(\"MARKETPLACE_FORGOT_PASSWORD_EMAIL_TEMPLATE\"), \'thirdparty\', $societeaccount, $objsql->login, $substitutionarray);__N__                                        __N__                                        $db->commit();__N__                            		} else {__N__                            		    $db->rollback();__N__                            		}__N__                                }__N__                            		__N__                            }__N____N____N__                            // Check token__N__                            if (!empty(GETPOST(\'token\'))) {__N__                                __N__                                $token = GETPOST(\'token\');__N__                                $sql  = \"select lsa.rowid, lsa.pass_encoding, lsa.pass_crypted, lsa.pass_temp, lsa.date_last_reset_password, ls.nom, fk_soc \";__N__                                $sql .= \"from \".MAIN_DB_PREFIX.\"societe_account lsa \";__N__                                $sql .= \"left join \".MAIN_DB_PREFIX.\"societe ls on ls.rowid = lsa.fk_soc \";__N__                                $sql .= \"where lsa.pass_temp = \'\". $token .\"\' \";__N__                                $sql .= \"and lsa.fk_website = \". $website->id . \" \";__N__                                $sql .= \"limit 1\";__N__                                __N__                                $result = $db->query($sql);__N__                        		$objsql = $db->fetch_object($result);__N__                                if (!empty($objsql)) {__N__                                    $dateTokenDateTime = new DateTime($objsql->date_last_reset_password);__N__                                    $now = new DateTime();__N__                                    $interval = $now->diff($dateTokenDateTime);__N__                                    __N__                                    if ($interval->days < 1 && $interval->h < 24 && $objsql->pass_temp == $token) {__N__                                        $correct_token = 1;__N__                                    } else {__N__                                        $error++;__N__                            		    $error_messages[] = $weblangs->trans(\"wrongOrExpiredToken\");__N__                                    }__N____N__                                }else{__N__                                    $error++;__N__                            		$error_messages[] = $weblangs->trans(\"wrongOrExpiredToken\");__N__                                }__N__                                __N__                            }__N__                            __N__                            // Change password__N__                            if (!empty(GETPOST(\'token\')) && !empty($correct_token) && $correct_token == 1) {__N__                                $token = GETPOST(\'token\');__N__                                $new_passwd1 = GETPOST(\'new_passwd1\');__N__                                $new_passwd2 = GETPOST(\'new_passwd2\');__N__                                __N__                                if (empty($new_passwd1) || empty($new_passwd2)) {__N__                            		$error++;__N__                            		$error_messages[] = $weblangs->trans(\"bothFieldsRequired\");__N__                            	}__N__                            	__N__                            	if (!empty($new_passwd1) && !empty($new_passwd2) && $new_passwd1 != $new_passwd2) {__N__                            		$error++;__N__                            		$error_messages[] = $weblangs->trans(\"passwordsAreNotTheSame\");__N__                            	}__N____N__                                if ($error == 0) {__N__                                   	$check_pass = new modGeneratePassStandard($db, $conf, $langs, $user);__N__                                	$is_valid = $check_pass->validatePassword($new_passwd1);__N__                                	if(!$is_valid){__N__                                	    $error++;__N__                                	    $weblangs->load(\"other\");__N__                                		$error_messages[] = $weblangs->trans(\"YourPasswordMustHaveAtLeastXChars\", (string) $check_pass->length2);__N__                                	}__N__                                }__N__                                __N__                                if ($error == 0) {__N__                                    $societeaccount = new SocieteAccount($db);__N__                                    $societeaccount->fetch($objsql->rowid);__N__                    				$societeaccount->pass_encoding = \"dolibarr\";__N__                    				$societeaccount->pass_crypted = dol_hash($new_passwd1);__N__                    				$ret_account = $societeaccount->update($user);__N__                    				if ($ret_account < 0) {__N__                    					$error++;__N__                    					$error_messages[] = $weblangs->trans(\"errorOccurred\");__N__                    				} else {__N__                    				    $passwordChanged = 1;__N__                    				}__N__                                }__N__                                __N__                            }__N__            			?>__N__            			__N__            			<?php__N__            			    // Choose content to display__N__                			$page_content = \"email_form\";__N__                			if (isset($email_sended) && $email_sended != 0) {__N__                			    $page_content = \"email_sent\";__N__                			}__N__                			if (!empty(GETPOST(\'token\'))) {__N__                			    $page_content = \"password_form\";__N__                			}__N__                			if (!empty(GETPOST(\'token\')) && !empty($passwordChanged) && $passwordChanged == 1) {__N__                			    $page_content = \"password_changed\";__N__                			}__N__            			?>__N__            			__N__            			<?php if ($page_content == \"email_sent\"): ?>__N__                        	<p>__N__                        	    <div class=\"account_creation\">__N__                        			<h3 class=\"page-subheading\"><?php print $weblangs->trans(\"resetPassword\"); ?></h3>__N__                        	        <p class=\"p_with_margin box\"><?php print $weblangs->trans(\"resetPasswordEmailSent\"); ?></p>__N__                        	    </div>__N__                        	</p>__N__                        <?php endif; ?>__N____N____N__                        <?php if ($page_content == \"password_form\"): ?>__N__                            <h3 class=\"page-subheading\"><?php print $weblangs->trans(\"resetPassword\"); ?></h3>__N__                            <form action=\"\" method=\"post\" id=\"account-creation_form\" class=\"std box\">__N__                                <div class=\"account_creation\">__N__                                    <?php if (isset($error) && $error != 0): ?>__N__                        		        <div class=\'alert alert-danger\'>__N__                            		        <?php $add_s = ($error > 1) ? \"s\" : \"\"; ?>__N__                		                    <p><?php print $weblangs->trans(\"errorsOccurred\", $error, $add_s); ?></p>__N__                                    		<ol>__N__                                    		    <?php foreach ($error_messages as $key => $value): ?>__N__                                            		<li><?php print $weblangs->trans($value); ?></li>__N__                                            	<?php endforeach ?>__N__                                    		</ol>__N__                                    	</div>__N__                                	<?php endif ?>__N__                                	__N__                                	<div class=\"required password form-group\">__N__                        				<label for=\"passwd\"><?php print $weblangs->trans(\"newPasswd\"); ?> <sup>*</sup></label>__N__                        				<input type=\"password\" class=\"is_required validate form-control\" required name=\"new_passwd1\" id=\"passwd\" value=\"\">__N__                        			</div>__N__                        			<div class=\"required password form-group\">__N__                        				<label for=\"passwd\"><?php print $weblangs->trans(\"reEnterNewPassword\"); ?><sup>*</sup></label>__N__                        				<input type=\"password\" class=\"is_required validate form-control\" required name=\"new_passwd2\" id=\"passwd\" value=\"\">__N__                        			</div>__N__                                    __N__                                    <hr>__N__                        			<button type=\"submit\" name=\"submitAccount\" id=\"submitAccount\" class=\"btn btn-default button button-medium\">__N__                        				<span><?php print $weblangs->trans(\"Save\"); ?> <i class=\"icon-chevron-right right\"></i></span>__N__                        			</button>__N__                			__N__                                </div>__N__                            </form>__N__                        <?php endif; ?>__N____N____N__                        <?php if ($page_content == \"password_changed\"): ?>__N__                            <p>__N__                                <div class=\"account_creation\">__N__                                    <h3 class=\"page-subheading\"><?php print $weblangs->trans(\"resetPassword\"); ?></h3>__N__                                    <p class=\"p_with_margin box\"><?php print $weblangs->trans(\"passwordChangedMessage\"); ?></p>__N__                                </div>__N__                            </p>__N__                        <?php endif; ?>__N__                        __N__                        __N__                        <?php if ($page_content == \"email_form\"): ?>__N__                            <form action=\"\" method=\"post\" id=\"account-creation_form\" class=\"std box\">__N__                        		<div class=\"account_creation\">__N__                        			<h3 class=\"page-subheading\"><?php print $weblangs->trans(\"resetPassword\"); ?></h3>__N__                        			<?php if (isset($error) && $error != 0): ?>__N__                                		<div class=\'alert alert-danger\'>__N__                                    		<?php $add_s = ($error > 1) ? \"s\" : \"\"; ?>__N__                		                    <p><?php print $weblangs->trans(\"errorsOccurred\", $error, $add_s); ?></p>__N__                                    		<ol>__N__                                    		    <?php foreach ($error_messages as $key => $value): ?>__N__                                            		<li><?php print $weblangs->trans($value); ?></li>__N__                                            	<?php endforeach ?>__N__                                    		</ol>__N__                                    	</div>__N__                                	<?php endif ?>__N__    __N__                        			<div class=\"required form-group\">__N__                        				<label for=\"email\"><?php print $weblangs->trans(\"email\"); ?> <sup>*</sup></label>__N__                        				<input type=\"text\" class=\"is_required validate form-control\" required id=\"email\" name=\"email\" value=\"<?php if (isset($customer_email)){print $customer_email;} ?>\">__N__                        			</div>__N__                        		</div>__N__    __N__                        		<input type=\"hidden\" name=\"action\" value=\"resetpassword\">__N__                        		<div class=\"submit clearfix\">__N__                        			<hr>__N__                        			<button type=\"submit\" name=\"submitAccount\" id=\"submitAccount\" class=\"btn btn-default button button-medium\">__N__                        				<span><?php print $weblangs->trans(\"submit\"); ?> <i class=\"icon-chevron-right right\"></i></span>__N__                        			</button>__N__                        		</div>__N__                        	</form>__N__                        <?php endif ?>__N__                        __N__                    </div>__N__                </div>__N__                <ul class=\"footer_links clearfix\">__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"myaccount.php\">__N__                			<span>__N__                				<i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"backToYourAccount\"); ?>__N__                			</span>__N__                		</a>__N__                	</li>__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"index.php\">__N__                			<span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"Home\"); ?></span>__N__                		</a>__N__                	</li>__N__                </ul>__N__          </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 18__+MAX_llx_website_page__ - Aliases goodies --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(18__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'goodies', '', 'goodies', '', '', '', '', '1', '2024-11-19 14:59:06', '2025-01-11 13:34:59', null, '', 'page', '<script>__N__    $(document).ready(function () {__N__        // Redirect on button click__N__        $(\'.shop-button\').on(\'click\', function () {__N__            window.open(\'https://shop.spreadshirt.fr/dolibarr-goodies\', \'_blank\'); // Replace with your shop URL__N__        });__N__    });__N__</script>', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N____N__$root_cat_object = new Categorie($db);__N__$result = $root_cat_object->fetch(0,\"goodies\");__N____N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php __N__        includeContainer(\'header\'); __N__        $__PAGE__TITLE__ = $weblangs->trans(\"goodiesPageTitle\");__N__        $__PAGE__KEYWORDS__ = $weblangs->trans(\"goodiesPageKeywords\");__N__        $__PAGE__DESC__ = $weblangs->trans(\"goodiesPageDescription\");__N__    ?>__N__    __N__  </div>__N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"Goodies\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__          <div class=\"clearfix\">__N__                <section id=\"category_info_section\" contenteditable=\"true\">__N__                	<div class=\"content_scene_cat\">__N__                		<!-- Category image -->__N__                		<div class=\"content_scene_cat_bg\">__N__                			<div class=\"cat_desc\">__N__                				<span class=\"category-name\"><?php print $root_cat_object->label; ?></span>__N__                				<div class=\"rte\">__N__                					<p><?php print strip_tags($root_cat_object->description); ?></p>__N__                				</div>__N__                			</div>__N__                		</div>__N__                		__N__                		<div class=\"shop-container\">__N__                            <div class=\"shop-image\">__N__                                <img src=\"viewimage.php?modulepart=medias&entity=1&file=image/__WEBSITE_KEY__/img/goodies-shop.jpg\">__N__                                <div class=\"shop-overlay\">__N__                                    <button target=\"new\" class=\"shop-button\"><?php print $weblangs->trans(\"goodiesbuttonTitle\"); ?> <i class=\"icon-chevron-right\"></i></button>__N__                                </div>__N__                            </div>__N__                        </div>__N__            __N__                	</div>__N__                </section>__N__          </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 19__+MAX_llx_website_page__ - Aliases header --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(19__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'header', '', 'header', 'header', '', '', '', '1', '2024-02-02 16:48:47', '2025-01-16 17:29:51', null, '', 'other', '', '<?php // BEGIN PHP__N____N__session_start(); // start session__N__includeContainer(\'_library_page_lib.php\', 1);__N__setSessionLang();__N__$weblangs->load(\"marketplace@marketplace\", \"languages\");__N__$langs->load(\"languages\");__N____N__// Get available langs for the website__N__$website_langs = getAvailableLangs();__N__$available_langs = $website_langs[\'langs\'];__N__$langs_code_shortcode = $website_langs[\'langs_code_shortcode\'];__N____N____N____N__$mc_website_id = getDolGlobalInt(\"MARKETPLACE_WEBSITE_ID\");__N__if (empty($mc_website_id)) {__N__  print $weblangs->trans(\"variableNotDefined\", \'MARKETPLACE_WEBSITE_ID\');__N__  exit;__N__}__N____N__$mc_secret_key = getDolGlobalString(\"MARKETPLACE_SECRET_KEY\");__N__if (empty($mc_secret_key)) {__N__  print $weblangs->trans(\"variableNotDefined\", \'MARKETPLACE_SECRET_KEY\');__N__  exit;__N__}__N____N__if (!(isModEnabled(\'paypal\') || isModEnabled(\'stripe\') || isModEnabled(\'paybox\'))) {__N__    print $weblangs->trans(\"noPaymentModuleIsActivated\");__N__    exit;__N__}__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP __N__?>__N__<script type=\"text/javascript\">__N__  var shopping_cart_url = \"_service_page_ajax.php\";__N__  //var shopping_cart_url = \"<?php //echo DOL_URL_ROOT . \'/custom/dolibarr-foundation/marketplace/doctemplates/websites/website_template-dolistore/containers/shopping_cart.php\'; ?>\";__N__</script>__N__<header id=\"header\">__N__  <div class=\"nav\">__N__    <div class=\"container\">__N__      <div class=\"row\">__N__        <nav>__N__            <?php if (!empty($_SESSION[\'user\'][\'pseudo\'])): ?>__N__                <div class=\"header_user_info\">__N__                	<a href=\"myaccount.php\" title=\"<?php print $weblangs->trans(\"viewMyCustomerAccount\"); ?>\" class=\"account\" rel=\"nofollow\"><span><?php print $_SESSION[\'user\'][\'pseudo\']; ?></span></a>__N__                </div>__N__            <?php endif ?>__N__          <div class=\"header_user_info\">__N__            <?php if (empty($_SESSION[\'user\'][\'id_user\'])): ?>__N__                <a class=\"login\" href=\"login-register.php\" rel=\"nofollow\" title=\"<?php print $weblangs->trans(\"logInToYourCustomerAccount\"); ?>\"> <?php print $weblangs->trans(\"signIn\"); ?> </a>__N__            <?php else: ?>__N__                <a class=\"login\" href=\"myaccount.php?action=logout\" rel=\"nofollow\" title=\"<?php print $weblangs->trans(\"logOutFromYourCustomerAccount\"); ?>\"> <?php print $weblangs->trans(\"logOut\"); ?> </a>__N__            <?php endif ?>__N__            __N__          </div>__N__          <div id=\"languages-block-top\" class=\"languages-block\">__N__            <div class=\"current\">__N__              <span><?php print trim(explode(\'(\', $langs->trans(\"Language_\".$langs_code_shortcode[$_SESSION[\'lang\'][\'shortcode\']]))[0]); ?></span>__N__            </div>__N__            <ul id=\"first-languages\" class=\"languages-block_ul toogle_content\">__N__                <?php foreach ($available_langs as $key => $value) : ?>__N__                    <?php $value = trim(explode(\'(\', $langs->trans(\"Language_\".$langs_code_shortcode[$key]))[0]); ?>__N__                    <?php if ($key == $_SESSION[\'lang\'][\'shortcode\']): ?>__N__		                <li class=\"selected\">__N__                            <span><?php print $value; ?></span>__N__                        </li>__N__                	<?php else: ?>__N__                		<li>__N__                          <form id=\"languageForm-<?php print $key; ?>\" method=\"post\" action=\"#\">__N__                            <input type=\"hidden\" name=\"l\" value=\"<?php print $key; ?>\">__N__                            <!--<a href=\"#\" title=\"<?php //print $langs->trans(\"Language_\".$langs_code_shortcode[$key]); ?>\" onclick=\"document.getElementById(\'languageForm-<?php //print $key; ?>\').submit(); return false;\">-->__N__                            <a href=\"#\" title=\"<?php print $langs->trans(\"Language_\".$langs_code_shortcode[$key]); ?>\" onclick=\"__N__                                   const form = document.getElementById(\'languageForm-<?php print $key; ?>\');__N__                                   const parser = document.createElement(\'a\');__N__                                   parser.href = form.action || window.location.href;__N__                                   const params = new URLSearchParams(parser.search);__N__                                   params.delete(\'l\');__N__                                   parser.search = params.toString();__N__                                   form.action = parser.href;__N__                                   form.submit();__N__                                   return false;__N__                               \">    __N__                              <span><?php print $value ; ?></span>__N__                            </a>__N__                          </form>__N__                        </li>__N__                	<?php endif ?>__N__                <?php endforeach ?>__N__            </ul>__N__          </div>__N__        </nav>__N__      </div>__N__    </div>__N__  </div>__N__  <div>__N__    <div class=\"container\">__N__      <div class=\"row\">__N__        <div id=\"header_logo\">__N__          <?php__N__          if(getDolGlobalString(\'MARKETPLACE_URL_FOR_LOGO\')){__N__              $html_logo = \'<img class=\"logo img-responsive-logo img-responsive\" alt=\"\" widthold=\"520\" src=\"\'.getDolGlobalString(\'MARKETPLACE_URL_FOR_LOGO\').\'\">\';__N__          }else{__N__              $path = getImageFileNameForSize($mysoc->logo_squarred ? $mysoc->logo_squarred : $mysoc->logo, \'_small\');__N__              $html_logo = \'<img class=\"logo img-responsive-logo img-responsive\" alt=\"\" widthold=\"520\" src=\"\' . DOL_URL_ROOT . \'/viewimage.php?modulepart=mycompany&file=logos/\'.$path.\'\">\';__N__          }__N__          ?>__N__          <a href=\"index.php\" title=\"DoliStore\">__N__            <?php print $html_logo; ?>__N__          </a>__N__        </div>__N__        <div id=\"search_block_top\" class=\"col-sm-4 clearfix\">__N__          <?php $test = \"11\"; ?>__N__          <form id=\"searchbox\" method=\"get\" action=\"index.php\">__N__            <input type=\"hidden\" name=\"controller\" value=\"search\" />__N__            <input type=\"hidden\" name=\"orderby\" value=\"position\" />__N__            <input type=\"hidden\" name=\"orderway\" value=\"desc\" />__N__            <input type=\"hidden\" name=\"tag\" value=\"<?php (isset($tag)) ? print $tag : \'\'; ?>\" />__N__            <input type=\"hidden\" name=\"website\" value=\"<?php print $websitekey; ?>\" />__N__            <input class=\"search_query form-control\" type=\"text\" id=\"search_query_top\" name=\"search_query\" placeholder=\"<?php print $weblangs->trans(\"Search\"); ?>\" value=\"<?php print GETPOST(\'search_query\', \'alpha\'); ?>\" />__N__            <button type=\"submit\" name=\"submit_search\" class=\"btn btn-default button-search\">__N__              <span><?php print $weblangs->trans(\"search\"); ?></span>__N__            </button>__N__          </form>__N__          <?php (!empty($tag)) ? print $weblangs->trans(\"filteredByVersion\") . \' \' . $tag . \' <a href=\"index.php\">\' . $weblangs->trans(\"removeFilter\") . \'</a>\' : \'\'; ?>__N__        </div>__N__        <div class=\"col-sm-4 clearfix\">__N__            __N__        <?php if ($websitepage->ref != \"payment\"): ?>__N__            <div class=\"shopping_cart\">__N__            <a href=\"order.php\" title=\"<?php print $weblangs->trans(\"viewMyCart\"); ?>\" rel=\"nofollow\">__N__              <b><?php print $weblangs->trans(\"Cart\"); ?></b>__N__              <span class=\"ajax_cart_quantity unvisible\">0</span>__N__              <span class=\"ajax_cart_product_txt unvisible\"><?php print $weblangs->trans(\"product\"); ?></span>__N__              <span class=\"ajax_cart_product_txt_s unvisible\"><?php print $weblangs->trans(\"products\"); ?></span>__N__              <span class=\"ajax_cart_total unvisible\"></span>__N__                <?php if (!empty($_SESSION[\'products\'])): ?>__N__                    <span class=\"ajax_cart_no_product\"><?php print count($_SESSION[\'products\']); ?></span> Product<?php if(count($_SESSION[\'products\']) > 1){ print \'s\';} ?>__N__                <?php else: ?>__N__                    <span class=\"ajax_cart_no_product\">0</span> <?php print $weblangs->trans(\"product\"); ?>__N__                <?php endif ?>__N__            </a>__N__            <div class=\"cart_block block exclusive\">__N__              <div class=\"block_content\">__N__                <div class=\"cart_block_list\">__N__                    __N__                  <p class=\"cart-buttons\">__N__                    <a id=\"button_order_cart\" class=\"btn btn-default button button-small\" href=\"order.php\" title=\"Check out\" rel=\"nofollow\">__N__                      <span> <?php print $weblangs->trans(\"checkOut\"); ?> <i class=\"icon-chevron-right right\"></i>__N__                      </span>__N__                    </a>__N__                  </p>__N____N__                    <?php if (!$_SESSION[\'products\']): ?>__N__                        <p class=\"cart_block_no_products\"> <?php print $weblangs->trans(\"noProducts\"); ?> </p>__N__                    <?php else: ?>__N__                        <?php $total = 0; ?>__N__                        <?php foreach ($_SESSION[\'products\'] as $cart_product): ?>__N__                            <dl class=\"products\">__N__                               <dt class=\"item\" data-id=\"cart_block_product_<?php print $cart_product[\'product_id\']; ?>\" style=\"display: block;\">__N__                                  <a class=\"cart-images\" href=\"product.php?id=<?php print $cart_product[\'product_id\']; ?>\" title=\"<?php print $cart_product[\'product_name\']; ?>\"><img src=\"<?php print $cart_product[\'product_thumb\']; ?>\" alt=\"<?php print $cart_product[\'product_name\']; ?>\"></a>__N__                                  <div class=\"cart-info\">__N__                                     <div class=\"product-name\"><span class=\"quantity-formated\"><span class=\"quantity\"><?php print $cart_product[\'product_qty\']; ?></span>&nbsp;x&nbsp;</span><a href=\"product.php?id=<?php print $cart_product[\'product_id\']; ?>\" title=\"<?php print $cart_product[\'product_name\']; ?>\" class=\"cart_block_product_name truncate3\"><?php print $cart_product[\'product_name\']; ?></a></div>__N__                                     <span class=\"price\"><?php print price($cart_product[\'product_price\']); ?> €</span>__N__                                  </div>__N__                                  <span class=\"remove_link\"><a rel=\"nofollow\" class=\"ajax_cart_block_remove_link\" href=\"\" data-code=\"<?php print $cart_product[\'product_id\']; ?>\"> </a></span>__N__                               </dt>__N__                            </dl>	__N__                            <?php__N__                                $subtotal = ($cart_product[\'product_price\'] * $cart_product[\'product_qty\']);__N__                                $total = ($total + $subtotal);__N__                            ?>__N__                        <?php endforeach ?>__N__                    <?php endif ?>__N____N__                  <div class=\"cart-prices\">__N__                    <!--__N__                    <div class=\"cart-prices-line first-line\">__N__                      <span class=\"price cart_block_shipping_cost ajax_cart_shipping_cost\"> <?php print $weblangs->trans(\"freeShipping\"); ?> </span>__N__                      <span> <?php print $weblangs->trans(\"Shipping\"); ?> </span>__N__                    </div>__N__                    -->__N__                    <div class=\"cart-prices-line last-line\">__N__                      <span class=\"price cart_block_total ajax_block_cart_total\"><?php print $total; ?> €</span>__N__                      <span><?php print $weblangs->trans(\"Total\"); ?></span>__N__                    </div>__N__                    <p> <?php print $weblangs->trans(\"pricesMayVaryDependingOnYourCountry\"); ?> </p>__N__                  </div>__N__                  __N____N__                </div>__N__              </div>__N__            </div>__N__        </div>__N__        <?php endif ?>__N__        __N__        __N__        __N__        </div>__N__        <div id=\"layer_cart\" class=\"lightbox3\">__N__            <div id=\"content3\">__N__                <div class=\"clearfix\">__N__            <div class=\"layer_cart_product col-xs-12 col-md-6\">__N__              <span class=\"cross\" title=\"Close window\"></span>__N__              <h2>__N__                <i class=\"icon-ok\"></i><?php print $weblangs->trans(\"productAddedToCart\"); ?>__N__              </h2>__N__              <div class=\"product-image-container layer_cart_img\">__N__                  __N__              </div>__N__              <div id=\"layer_cart_product_info\">__N__                <span id=\"layer_cart_product_title\" class=\"product-name\"></span>__N__                <span id=\"layer_cart_product_attributes\"></span>__N__                <div>__N__                  <strong class=\"dark\"><?php print $weblangs->trans(\"quantity\"); ?></strong>__N__                  <span id=\"layer_cart_product_quantity\"></span>__N__                </div>__N__                <div>__N__                  <strong class=\"dark\"><?php print $weblangs->trans(\"total\"); ?></strong>__N__                  <span id=\"layer_cart_product_price\"></span>__N__                </div>__N__              </div>__N__            </div>__N__            <div class=\"layer_cart_cart col-xs-12 col-md-6\">__N__              <h2>__N__                <span class=\"ajax_cart_product_txt_s  unvisible\"> <?php print $weblangs->trans(\"nbrItemsInCart\"); ?> </span>__N__                <span class=\"ajax_cart_product_txt \"> <?php print $weblangs->trans(\"thereIsItemInYourCart\"); ?> </span>__N__              </h2>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"> <?php print $weblangs->trans(\"totalProductsTaxIncl\"); ?> </strong>__N__                <span class=\"ajax_block_products_total\"></span>__N__              </div>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"> <?php print $weblangs->trans(\"totalShippingTaxIncl\"); ?> </strong>__N__                <span class=\"ajax_cart_shipping_cost\"> <?php print $weblangs->trans(\"freeShipping\"); ?> </span>__N__              </div>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"><?php print $weblangs->trans(\"tax\"); ?></strong>__N__                <span class=\"price cart_block_tax_cost ajax_cart_tax_cost\">0,00 €</span>__N__              </div>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"> <?php print $weblangs->trans(\"totalTaxIncl\"); ?> </strong>__N__                <span class=\"ajax_block_cart_total\"></span>__N__              </div>__N__              <div class=\"button-container\">__N__                <span class=\"continue btn btn-default button exclusive-medium\" title=\"<?php print $weblangs->trans(\"continueShopping\"); ?>\">__N__                  <span>__N__                    <i class=\"icon-chevron-left left\"></i><?php print $weblangs->trans(\"continueShopping\"); ?> </span>__N__                </span>__N__                <a class=\"btn btn-default button button-medium\" href=\"order.php\" title=\"<?php print $weblangs->trans(\"proceedToCheckout\"); ?>\" rel=\"nofollow\">__N__                  <span> <?php print $weblangs->trans(\"proceedToCheckout\"); ?> <i class=\"icon-chevron-right right\"></i>__N__                  </span>__N__                </a>__N__              </div>__N__            </div>__N__          </div>__N__            </div>__N__        </div>__N__        <div id=\"layer_cart\">__N__          <div class=\"clearfix\">__N__            <div class=\"layer_cart_product col-xs-12 col-md-6\">__N__              <span class=\"cross\" title=\"Close window\"></span>__N__              <h2>__N__                <i class=\"icon-ok\"></i><?php print $weblangs->trans(\"productAddedToCart\"); ?>__N__              </h2>__N__              <div class=\"product-image-container layer_cart_img\">__N__                  __N__              </div>__N__              <div id=\"layer_cart_product_info\">__N__                <span id=\"layer_cart_product_title\" class=\"product-name\"></span>__N__                <span id=\"layer_cart_product_attributes\"></span>__N__                <div>__N__                  <strong class=\"dark\"><?php print $weblangs->trans(\"quantity\"); ?></strong>__N__                  <span id=\"layer_cart_product_quantity\"></span>__N__                </div>__N__                <div>__N__                  <strong class=\"dark\"><?php print $weblangs->trans(\"total\"); ?></strong>__N__                  <span id=\"layer_cart_product_price\"></span>__N__                </div>__N__              </div>__N__            </div>__N__            <div class=\"layer_cart_cart col-xs-12 col-md-6\">__N__              <h2>__N__                <span class=\"ajax_cart_product_txt_s  unvisible\"> <?php print $weblangs->trans(\"nbrItemsInCart\"); ?> </span>__N__                <span class=\"ajax_cart_product_txt \"> <?php print $weblangs->trans(\"thereIsItemInYourCart\"); ?> </span>__N__              </h2>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"> <?php print $weblangs->trans(\"totalProductsTaxIncl\"); ?> </strong>__N__                <span class=\"ajax_block_products_total\"></span>__N__              </div>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"> <?php print $weblangs->trans(\"totalShippingTaxIncl\"); ?> </strong>__N__                <span class=\"ajax_cart_shipping_cost\"> <?php print $weblangs->trans(\"freeShipping\"); ?> </span>__N__              </div>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"><?php print $weblangs->trans(\"tax\"); ?></strong>__N__                <span class=\"price cart_block_tax_cost ajax_cart_tax_cost\">0,00 €</span>__N__              </div>__N__              <div class=\"layer_cart_row\">__N__                <strong class=\"dark\"> <?php print $weblangs->trans(\"totalTaxIncl\"); ?> </strong>__N__                <span class=\"ajax_block_cart_total\"></span>__N__              </div>__N__              <div class=\"button-container\">__N__                <span class=\"continue btn btn-default button exclusive-medium\" title=\"Continue shopping\">__N__                  <span>__N__                    <i class=\"icon-chevron-left left\"></i><?php print $weblangs->trans(\"continueShopping\"); ?> </span>__N__                </span>__N__                <a class=\"btn btn-default button button-medium\" href=\"order.php\" title=\"<?php print $weblangs->trans(\"proceedToCheckout\"); ?>\" rel=\"nofollow\">__N__                  <span> <?php print $weblangs->trans(\"proceedToCheckout\"); ?> <i class=\"icon-chevron-right right\"></i>__N__                  </span>__N__                </a>__N__              </div>__N__            </div>__N__          </div>__N__          <div class=\"crossseling\"></div>__N__        </div>__N__        <div class=\"layer_cart_overlay\"></div>__N__      </div>__N__    </div>__N__  </div>__N__    __N__    <!-- The div for the image preview -->__N__    <div id=\"lightbox\" class=\"marketplacelightbox\" style=\"display: none;\">__N__      <p><?php print $weblangs->trans(\"clickToClose\"); ?></p>__N__      <div id=\"content\" class=\"marketplacelightbox2\"><!-- Do not include a img src tag here, it will generate a load by the parent page --></div>__N__    </div>__N__', '', 0);

-- Page ID 20__+MAX_llx_website_page__ - Aliases income-payments --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(20__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'income-payments', '', 'Income and Payments', '', '', '', '', '1', '2024-07-11 14:37:39', '2025-01-13 20:29:38', null, '', 'page', '<script>__N__var generate_csv = \"_service_page_ajax.php\";__N__function generateCSV(customerId) {__N__    $.ajax({__N__        url: generate_csv,__N__        type: \'GET\',__N__        data: {sells_history : 1 , id_customer: customerId},__N__        dataType: \'json\',__N__        success: function(response) {__N__            if (response.filepath) {__N__                downloadCSV(response.filepath);__N__            }__N__        },__N__        error: function(xhr, status, error) {__N__            console.error(\'Erreur lors de la génération du CSV:\', error);__N__        }__N__    });__N__}__N____N__function downloadCSV(filepath) {__N__    var a = document.createElement(\'a\');__N__    a.href = filepath;__N__    a.download = filepath.split(\'/\').pop();__N__    document.body.appendChild(a);__N__    a.click();__N__    document.body.removeChild(a);__N____N__    $.ajax({__N__        url: generate_csv,__N__        type: \'POST\',__N__        data: { filepath: filepath, action: \'remove_csv\' },__N__        success: function(response) {__N__            console.log(\'file deleted.\');__N__        }__N__    });__N__}__N__</script>', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N__require_once DOL_DOCUMENT_ROOT.\'/fourn/class/fournisseur.facture.class.php\';__N____N__include_once DOL_DOCUMENT_ROOT.\'/core/class/html.form.class.php\';__N____N__//error_reporting(E_ALL);__N__//ini_set(\'display_errors\', 1);__N____N__print \'<script nonce=\"\'.getNonce().\'\" type=\"text/javascript\" src=\"\'.DOL_MAIN_URL_ROOT.\'/core/js/lib_head.js.php\"></script>\'.\"\\n\";__N____N__$form = new Form($db);__N____N__$date_start_timestamp = \'\';__N__$date_end_timestamp = \'\';__N__if (!empty(GETPOST(\'datestart\')) || !empty(GETPOST(\'dateend\'))) {__N__    __N__    $date_start = GETPOST(\'datestart\');__N__    $date_end = GETPOST(\'dateend\');__N__    __N__    $date_start_timestamp = dol_mktime(0, 0, 0, GETPOSTINT(\'datestartmonth\'), GETPOSTINT(\'datestartday\'), GETPOSTINT(\'datestartyear\'));__N__    $date_end_timestamp = dol_mktime(0, 0, 0, GETPOSTINT(\'dateendmonth\'), GETPOSTINT(\'dateendday\'), GETPOSTINT(\'dateendyear\'));__N__    __N__    $error = 0;__N__    $error_messages = array();__N__    __N__    if ((empty($date_start) && !empty($date_end)) || (!empty($date_start) && empty($date_end))) {__N__        $error++;__N__        $error_messages[] = \"oneDateEmpty\";__N__    }__N__    __N__    if ($date_end_timestamp < $date_start_timestamp) {__N__        $error++;__N__        $error_messages[] = \"endDateMustBeGreater\";__N__    }__N__    __N__    $filter = \'\';__N__    if ($error == 0 && !empty($date_start) && !empty($date_end)) {__N__        $filter = \" AND c.date_commande BETWEEN \'\".$db->idate($date_start_timestamp).\"\' AND \'\".$db->idate($date_end_timestamp).\"\'\";__N__    }__N__}__N____N____N____N__$weblangs->load(\'companies\');__N____N__// If not login redirect to login.__N__if(empty($_SESSION[\'user\'][\'id_user\'])){__N__    redirectToContainer(\'login-register\');__N__}__N____N____N__// Get Account ID.__N__$user_id = $_SESSION[\'user\'][\'id_user\'];__N__$customer_account = new SocieteAccount($db);__N__$result = $customer_account->fetch($user_id);__N__$customer_id = $customer_account->fk_soc;__N____N__// Get soc info.__N__$socInfo = new Societe($db);__N__$socInfo->fetch($customer_id);__N____N__// Get account info__N__$cContacts = $socInfo->contact_array_objects();__N__foreach ($cContacts as $cContact) {__N__    if ($cContact->ref_ext == $user_id) {__N__        $customer_firstname = $cContact->firstname;__N__        $customer_lastname = $cContact->lastname;__N__        $customer_email = $cContact->email;__N__        $customer_address = $cContact->address;__N__    }__N__}__N____N____N__// To render view of another user__N__if (!empty(GETPOST(\'id_customer\'))) {__N__    // Only for members with a specific role__N__    require_once DOL_DOCUMENT_ROOT.\"/adherents/class/adherent.class.php\";__N__    $membre = new Adherent($db);__N__    $result = $membre->fetch(\'\', 0, $customer_id);__N__    __N__    $adminsCat = new Categorie($db);__N__	$adminsCat->fetch(1);__N__	__N__	$result = $adminsCat->containsObject(\'member\', $membre->id);__N__	if ($result > 0) {__N__	    __N__        $customer_id = GETPOST(\'id_customer\');__N__        // Get soc info.__N__        $socInfo = new Societe($db);__N__        $socInfo->fetch($customer_id);__N__        __N__        // Get soc acount email__N__        $sql = \"select rowid from \".MAIN_DB_PREFIX.\"societe_account where fk_soc = \".$customer_id.\" AND fk_website = \".$website->id.\" limit 1\";__N__        $result = $db->query($sql);__N__        $objsql = $db->fetch_object($result);__N__        __N__        // Get account info__N__        $cContacts = $socInfo->contact_array_objects();__N__        foreach ($cContacts as $cContact) {__N__            if ($cContact->ref_ext == $objsql->rowid) {__N__                $customer_firstname = $cContact->firstname;__N__                $customer_lastname = $cContact->lastname;__N__                $customer_email = $cContact->email;__N__                $customer_address = $cContact->address;__N__            }__N__        }__N__	}__N__}__N____N__// Get customer ID.__N__$customer = new Societe($db);__N__$result = $customer->fetch($customer_id);__N____N__// Get liste of products__N__$products_ids = array();__N__/*$sql = \'SELECT fk_product, datec FROM \'.MAIN_DB_PREFIX.\"product_fournisseur_price, \'.MAIN_DB_PREFIX.\'categorie_product AS cp WHERE fk_soc = \".((int) $customer_id). \" AND cp.fk_categorie = \'.getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\").\' GROUP BY fk_product ORDER BY datec DESC\";*/__N__$sql = \'SELECT pf.fk_product, MIN(pf.datec) AS first_date__N__        FROM \'.MAIN_DB_PREFIX.\'product_fournisseur_price as pf, \'.MAIN_DB_PREFIX.\'categorie_product AS cp __N__        WHERE pf.fk_soc = \'.$customer_id.\' AND pf.fk_product = cp.fk_product __N__        AND cp.fk_categorie = \'.getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\").\' __N__        GROUP BY fk_product __N__        ORDER BY first_date DESC\';__N____N__if ($result_products = $db->query($sql)) {__N__	while ($product_id = $result_products->fetch_object()) {__N__        $products_ids[] = $product_id->fk_product;__N__	}__N__}__N__$products_ids_str = implode(\',\', $products_ids);__N____N__if (!empty($products_ids_str)) {__N__    $all_sells_period = \"SELECT SUM(d.qty) AS sells \";__N__    $all_sells_period .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__    $all_sells_period .= \"WHERE c.rowid = d.fk_commande and d.fk_product IN (\" . $products_ids_str . \") and d.total_ht != 0 and c.fk_statut IN (1,3) and (c.facture = 1 OR c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__    if (!empty($filter)) {__N__       $all_sells_period .=  $filter;__N__    }__N__    $resql = $db->query($all_sells_period);__N__    $all_sells_period = $db->fetch_object($resql);__N__    __N__    $sum_all_sells_period = \"SELECT SUM(d.total_ht) as total \";__N__    $sum_all_sells_period .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__    $sum_all_sells_period .= \"WHERE c.rowid = d.fk_commande and d.fk_product IN (\" . $products_ids_str . \") and c.fk_statut IN (1,3) and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__    if (!empty($filter)) {__N__       $sum_all_sells_period .=  $filter;__N__    }__N__    $resql = $db->query($sum_all_sells_period);__N__    $sum_all_sells_period = $db->fetch_object($resql);__N__    __N__    $sum_all_validated_sells_period = \"SELECT SUM(d.total_ht) as total \";__N__    $sum_all_validated_sells_period .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__    $sum_all_validated_sells_period .= \"WHERE c.rowid = d.fk_commande and d.fk_product IN (\" . $products_ids_str . \") and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__    $sum_all_validated_sells_period .= \"AND c.date_commande < DATE_SUB(NOW(), INTERVAL 1 MONTH)\";__N__    if (!empty($filter)) {__N__       $sum_all_validated_sells_period .=  $filter;__N__    }__N__    $resql = $db->query($sum_all_validated_sells_period);__N__    $sum_all_validated_sells_period = $db->fetch_object($resql);__N__    __N__    $sum_all_sells = \"SELECT SUM(d.total_ht) as total \";__N__    $sum_all_sells .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__    $sum_all_sells .= \"WHERE c.rowid = d.fk_commande and d.fk_product IN (\" . $products_ids_str . \") and c.fk_statut IN (1,3) and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__    $resql = $db->query($sum_all_sells);__N__    $sum_all_sells = $db->fetch_object($resql);__N__    __N__    $sum_all_validated_sells = \"SELECT SUM(d.total_ht) as total \";__N__    $sum_all_validated_sells .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__    $sum_all_validated_sells .= \"WHERE c.rowid = d.fk_commande and d.fk_product IN (\" . $products_ids_str . \") and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__    $sum_all_validated_sells .= \"AND c.date_commande < DATE_SUB(NOW(), INTERVAL 1 MONTH)\";__N__    __N__    $resql = $db->query($sum_all_validated_sells);__N__    $sells_done_validated = $db->fetch_object($resql);__N__    __N__    // Calculate all discounts for this customer products__N__    $TOTAL_DISCOUNTS = 0;__N__    $like_conditions = [];__N__    foreach ($products_ids as $product_id) {__N__        $like_conditions[] = \"d.description LIKE \'\" . $product_id . \"# %\'\";__N__    }__N__    // Join all conditions with OR__N__    $like_clause = implode(\' OR \', $like_conditions);__N__    __N__    $sum_all_discounts = \"SELECT SUM(d.total_ht) as total \";__N__    $sum_all_discounts .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__    $sum_all_discounts .= \"WHERE c.rowid = d.fk_commande \";__N__    $sum_all_discounts .= \"AND (\" . $like_clause . \") \";__N__    $sum_all_discounts .= \"AND (c.facture = 1 OR c.ref_ext IS NOT NULL) \";__N__    $sum_all_discounts .= \"AND c.module_source = \'Marketplace\' \";__N__    $resql = $db->query($sum_all_discounts);__N__    $sells_discounts = $db->fetch_object($resql);__N__    $TOTAL_DISCOUNTS = $sells_discounts->total;__N__    __N__    /*=========== Payment History ====================*/__N__    $payment_history = \"SELECT f.rowid, f.ref, f.fk_statut, f.fk_soc, f.datec, f.datef, f.date_closing, f.total_ht , f.total_ttc \";__N__    $payment_history .= \"FROM \".MAIN_DB_PREFIX.\"facture_fourn as f \";__N__    $payment_history .= \"WHERE f.fk_soc = \" . ((int) $customer_id) . \" and f.fk_statut = 2 and f.paye = 1 ORDER BY f.datef DESC\";__N____N__    $alreadyreceived=0;__N__    $dolistoreinvoices=array();__N__    $linesinvoice = array();__N__    if ($result_payment_history = $db->query($payment_history)) {__N____N__        while ($payment = $result_payment_history->fetch_object()) {__N__            $invoice = new FactureFournisseur($db);__N__            $result = $invoice->fetch($payment->rowid);__N__            __N__            // Define lines of invoice__N__            $linesresp = array();__N__            foreach ($invoice->lines as $line) {__N__                    $linesresp[] = array(__N__                            \'id\' => $line->rowid,__N__                            \'type\' => $line->product_type,__N__                            \'desc\' => dol_htmlcleanlastbr($line->desc),__N__                            \'total_net\' => $line->total_ht,__N__                            \'total_vat\' => $line->total_tva,__N__                            \'total\' => $line->total_ttc,__N__                            \'vat_rate\' => $line->tva_tx,__N__                            \'qty\' => $line->qty,__N__                            \'product_ref\' => $line->product_ref,__N__                            \'product_label\' => $line->product_label,__N__                            \'product_desc\' => $line->product_desc,__N__                    );__N__            }__N__            __N__            // Now define invoice__N__            $linesinvoice[] = array(__N__                    \'id\' => $invoice->id,__N__                    \'ref\' => $invoice->ref,__N__                    \'ref_supplier\' => $invoice->ref_supplier,__N__                    \'ref_ext\' => $invoice->ref_ext,__N__                    \'fk_user_author\' => $invoice->user_creation_id,__N__                    \'fk_user_valid\' => $invoice->user_validation_id,__N__                    \'fk_thirdparty\' => $invoice->socid,__N__                    \'type\' => $invoice->type,__N__                    \'status\' => $invoice->status,__N__                    \'total_net\' => $invoice->total_ht,__N__                    \'total_vat\' => $invoice->total_tva,__N__                    \'total\' => $invoice->total_ttc,__N__                    \'date_creation\' => dol_print_date($invoice->datec, \'dayhourrfc\'),__N__                    \'date_modification\' => dol_print_date($invoice->tms, \'dayhourrfc\'),__N__                    \'date_invoice\' => dol_print_date($invoice->date, \'dayhourrfc\'),__N__                    \'date_term\' => dol_print_date($invoice->date_echeance, \'dayhourrfc\'),__N__                    \'label\' => $invoice->label,__N__                    \'paid\' => $invoice->paid,__N__                    \'note_private\' => $invoice->note_private,__N__                    \'note_public\' => $invoice->note_public,__N__                    \'close_code\' => $invoice->close_code,__N__                    \'close_note\' => $invoice->close_note,__N____N__                    \'lines\' => $linesresp__N__            );__N__        }__N__        __N__        foreach($linesinvoice as $invoice) {__N__            $dateinvoice=substr($invoice[\'date_invoice\'], 0, 10);__N__            __N__            // Rule to detect invoice found is for dolistore payment back__N__			$isfordolistore=0;__N__			if ((preg_match(\'/dolistore/i\',$invoice[\'note_private\']) || preg_match(\'/dolistore/i\',$invoice[\'label\']))__N__				&& ! preg_match(\'/agios/i\',$invoice[\'ref_supplier\'])__N__				&& ! preg_match(\'/frais/i\',$invoice[\'ref_supplier\'])__N__				&& ! preg_match(\'/comDolistore/i\',$invoice[\'ref_supplier\'])__N__				) $isfordolistore=1;__N__				__N__			if (! $isfordolistore) {__N__				foreach($invoice[\'lines\'] as $line)__N__				{__N__					if (preg_match(\'/dolistore/i\',$line[\'desc\'])__N__						&& ! preg_match(\'/Remboursement certificat|Remboursement domaine/i\',$line[\'desc\'])__N__						&& ! preg_match(\'/agios/i\',$invoice[\'ref_supplier\'])__N__						&& ! preg_match(\'/frais/i\',$invoice[\'ref_supplier\'])__N__						&& ! preg_match(\'/comDolistore/i\',$invoice[\'ref_supplier\'])__N__						)__N__					{__N__						$isfordolistore++;__N__					}__N__				}__N__			}__N__			__N__			if ($isfordolistore)__N__			{__N__				// Array of already received and paid invoices__N__				$dolistoreinvoices[]=array(__N__					\'dolistore_customer_id\'=>$customer_id,__N__					\'id\'=>$invoice[\'id\'],__N__					\'ref\'=>$invoice[\'ref\'],__N__					\'ref_supplier\'=>$invoice[\'ref_supplier\'],__N__					\'status\'=>$invoice[\'status\'],__N__					\'date\'=>$invoice[\'date_invoice\'],__N__					\'datenohour\'=>$dateinvoice,__N__					\'amount_ht\'=>$invoice[\'total_net\'],__N__					\'amount_vat\'=>$invoice[\'total_vat\'],__N__					\'amount_ttc\'=>$invoice[\'total\'],__N__					\'fk_thirdparty\'=>$invoice[\'fk_thirdparty\']__N__				);__N__			}__N__        }__N__    }__N__    __N__    // Calculte total recived amount__N__    foreach ($dolistoreinvoices as $item) {__N__        $tmpdate=preg_replace(\'/(\\s|T)00:00:00Z/\',\'\',$item[\'date\']);__N__        if (strcmp($tmpdate,\'2013-01-01\') < 0) $alreadyreceived+=$item[\'amount_ttc\'];__N__		else $alreadyreceived+=$item[\'amount_ht\'];__N__    }__N__    /*=========== Payment History ====================*/__N____N__    __N__    __N__    /*$sum_payment_done_before_2013 = \"SELECT SUM(f.total_ttc) as payment_done \";__N__    $sum_payment_done_before_2013 .= \"FROM \".MAIN_DB_PREFIX.\"facture_fourn as f \";__N__    $sum_payment_done_before_2013 .= \"WHERE f.fk_soc = \" . ((int) $customer_id) . \" and f.fk_statut = 2 and f.paye = 1 AND (f.libelle LIKE \'%vente%\' OR f.libelle LIKE \'%dolistore%\') and f.datef < \'2013-01-01\' \";__N__    $resql = $db->query($sum_payment_done_before_2013);__N__    $sum_payment_done_before_2013 = $db->fetch_object($resql);__N__    __N__    $sum_payment_done_after_2013 = \"SELECT SUM(f.total_ht) as payment_done \";__N__    $sum_payment_done_after_2013 .= \"FROM \".MAIN_DB_PREFIX.\"facture_fourn as f \";__N__    $sum_payment_done_after_2013 .= \"WHERE f.fk_soc = \" . ((int) $customer_id) . \" and f.fk_statut = 2 and f.paye = 1 AND (f.libelle LIKE \'%vente%\' OR f.libelle LIKE \'%dolistore%\') and f.datef > \'2013-01-01\' \";__N__    $resql = $db->query($sum_payment_done_after_2013);__N__    $sum_payment_done_after_2013 = $db->fetch_object($resql);__N__    __N__    __N__    $sum_payment_done = \"SELECT SUM(f.total_ht) as payment_done \";__N__    $sum_payment_done .= \"FROM \".MAIN_DB_PREFIX.\"facture_fourn as f \";__N__    $sum_payment_done .= \"WHERE f.fk_soc = \" . ((int) $customer_id) . \" and f.fk_statut = 2 and f.paye = 1 AND (f.libelle LIKE \'%vente%\' OR f.libelle LIKE \'%dolistore%\') \";__N__    $resql = $db->query($sum_payment_done);__N__    $sum_payment_done = $db->fetch_object($resql);*/__N__    __N__    $sum_payment_done = $alreadyreceived;__N__}__N____N____N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php__N__        includeContainer(\'header\');__N__        $__PAGE__TITLE__ = $weblangs->trans(\"incomePaymentsPageTitle\");__N__    ?>__N__  </div>__N____N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <a href=\"myaccount.php\" title=\"<?php print $weblangs->trans(\"myAccount\"); ?>\" data-gg=\"\"><?php print $weblangs->trans(\"myAccount\"); ?></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"incomeAndPayments\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__        <div class=\"row\">__N__            <!-- include lefet sidebar container -->__N__            <?php includeContainer(\'sidebar\'); ?>__N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__                <?php if (empty($products_ids_str)): ?>__N__	                <h1 class=\"page-heading\"><?php print $weblangs->trans(\"incomeAndPayments\"); ?></h1>__N__	                <p class=\"alert alert-warning\"><?php print $weblangs->trans(\"noProductToDisplay\"); ?> </p>__N__                <?php else: ?>__N__                    <div class=\"clearfix\">__N__                        <h1 class=\"page-heading\"><?php print $weblangs->trans(\"incomeAndPayments\"); ?></h1>__N__                        <button class=\"btn btn-default button\" id=\"generate-csv\" onclick=\"generateCSV(<?php print $customer_id; ?>)\"><?php print $weblangs->trans(\"downloadAllSales\"); ?> <i class=\"icon-cloud-download\"></i></button>__N__                        __N__                        <div id=\"block-history\" class=\"block-center\">__N__                            <div id=\"block-order-detail\" class=\"unvisible\" style=\"display: block;\">__N__                                __N__                                <div <div class=\"info-order box\">__N__                                    <h3 class=\"page-subheading\">Info</h3>__N__                                    <div class=\"row\">__N__                                        <p class=\"col-xs-6\"><b><?php print $weblangs->trans(\"Company\"); ?> :</b> <?php print $socInfo->name; ?></p>__N__                                        <!--<p class=\"col-xs-6\"><b><?php print $weblangs->trans(\"ThirdPartyEmail\"); ?> :</b> <?php print $socInfo->mail; ?></p>-->__N__                                        <p class=\"col-xs-6\"><b><?php print $weblangs->trans(\"ThirdPartyAddress\"); ?> :</b> <?php print $socInfo->address; ?></p>__N__                                        <p class=\"col-xs-6\"><b><?php print $weblangs->trans(\"Country\"); ?> :</b> <?php print $socInfo->country_code; ?></p>__N__                                        <p class=\"col-xs-6\">&nbsp;</p>__N__                                        <br>__N__                                        <p class=\"col-xs-6\"><b><?php print $weblangs->trans(\"Login\").\' - \'.$weblangs->trans(\"Firstname\"); ?> :</b> <?php print $customer_firstname; ?></p>__N__                                        <p class=\"col-xs-6\"><b><?php print $weblangs->trans(\"Login\").\' - \'. $weblangs->trans(\"Lastname\"); ?> :</b> <?php print $customer_lastname; ?></p>__N__                                        <p class=\"col-xs-6\"><b><?php print $weblangs->trans(\"Login\").\' - \'. $weblangs->trans(\"Email\"); ?> :</b> <?php print $customer_email; ?></p>__N__                                    </div>__N__                                </div>__N__                                __N__                        		<div id=\"order-detail-content\" class=\"table_block table-responsive box\">__N__                        		    <?php if (isset($error) && $error != 0): ?>__N__                                		<div class=\'alert alert-danger\'>__N__                                    		<?php $add_s = ($error > 1) ? \"s\" : \"\"; ?>__N__                		                    <p><?php print $weblangs->trans(\"errorsOccurred\", $error, $add_s); ?></p>__N__                                    		<ol>__N__                                    		    <?php foreach ($error_messages as $key => $value): ?>__N__                                            		<li><?php print $weblangs->trans($value); ?></li>__N__                                            	<?php endforeach ?>__N__                                    		</ol>__N__                                    	</div>__N__                                	<?php endif ?>__N__                                	__N__                                	<h3 class=\"page-subheading\">statistics</h3>__N__            __N__                        		    <form action=\"\" method=\"post\" id=\"account-creation_form\">__N__                                        <div class=\"form-row align-items-center\">__N__                                            <div class=\"col-xs-12 form-group row required inline-date-filter\">__N__                                                <!--<span class=\"info-title col-form-label\"><b><?php //print $weblangs->trans(\"filterDateBetween\"); ?></b></span>-->__N__                                                <span class=\"\">__N__                                                    <?php print $form->selectDate(($date_start_timestamp ? $date_start_timestamp : -1), \'datestart\', 0, 0, 1, \'\', 1, 0, 0, \'\', \'\', \'\', \'\', 1, \'\', $weblangs->trans(\"from\"), \'auto\', DOL_URL_ROOT.\'/document.php?modulepart=medias&file=image/__WEBSITE_KEY__/img/datepicker/object_calendarday.png\'); ?>__N__                                                </span>__N__                                                <span class=\"\">__N__                                                    <?php print $form->selectDate($date_end_timestamp ? $date_end_timestamp : -1, \'dateend\', 0, 0, 1, \'\', 1, 0, 0, \'\', \'\', \'\', \'\', 1, \'\', $weblangs->trans(\"to\"), \'auto\', DOL_URL_ROOT.\'/document.php?modulepart=medias&file=image/__WEBSITE_KEY__/img/datepicker/object_calendarday.png\'); ?>__N__                                                </span>__N__                                                <span class=\"\">__N__                                                  <button type=\"submit\" class=\"btn-filter\"><?php print $weblangs->trans(\"Refresh\"); ?></button>__N__                                                </span>__N__                                            </div>__N__                                        </div>__N__                        		    </form>__N__                                    <hr>__N__                        		    <table class=\"table-no-border\">__N__                        		        <?php__N__                        		            // Check if there is an amount of coupons __N__                        		            $TOTAL_REDUC_OLD_SYSTEM = 0;__N__                            		        if (getDolGlobalString(\"MARKETPLACE_TOTAL_REDUC_OLD_SYSTEM_\" . $customer_id)) {__N__                            		            $TOTAL_REDUC_OLD_SYSTEM = getDolGlobalString(\"MARKETPLACE_TOTAL_REDUC_OLD_SYSTEM_\" . $customer_id);__N__                            		        }__N__                        		        ?>__N__                        		        <tr>__N__                        		            <td><?php print $weblangs->trans(\"numberOfProducts\"); ?></td>__N__                        		            <td><span><?php print count($products_ids); ?></span></td>__N__                        		        </tr>__N__                        		        <tr>__N__                        		            <td><?php print $weblangs->trans(\"numberOfPaidSells\"); ?></td>__N__                        		            <td><span class=\"span-blue\"><?php print $all_sells_period->sells; ?></span></td>__N__                        		        </tr>__N__                        		        <tr>__N__                                            <td><?php print $weblangs->trans(\"totalOfSellsDone\"); ?></td>__N__                                            <td>__N__                                                80% x ( __N__                                                <?php print price($sum_all_sells_period->total); ?> __N__                                                <?php if ($TOTAL_REDUC_OLD_SYSTEM) { __N__                                                    print \" - \" . price($TOTAL_REDUC_OLD_SYSTEM) . \"**\"; __N__                                                } ?> __N__                                                <?php if ($TOTAL_DISCOUNTS) { __N__                                                    print \" \" . price($TOTAL_DISCOUNTS) . \"***\"; __N__                                                } ?> __N__                                                ) = __N__                                                <span class=\"span-blue\">__N__                                                    <?php print price(($sum_all_sells_period->total - $TOTAL_REDUC_OLD_SYSTEM + $TOTAL_DISCOUNTS) * 0.80, 0, \'\', 1, -1, 2); ?>€__N__                                                </span> __N__                                                <?php print $weblangs->trans(\"exclTax\"); ?>__N__                                            </td>__N__                                        </tr>__N__                                        <tr>__N__                                            <td><?php print $weblangs->trans(\"totalValidatedSells\"); ?></td>__N__                                            <td>__N__                                                80% x ( __N__                                                <?php print price($sum_all_validated_sells_period->total); ?> __N__                                                <?php if ($TOTAL_REDUC_OLD_SYSTEM) { __N__                                                    print \" - \" . price($TOTAL_REDUC_OLD_SYSTEM) . \"**\"; __N__                                                } ?> __N__                                                <?php if ($TOTAL_DISCOUNTS) { __N__                                                    print \" \" . price($TOTAL_DISCOUNTS) . \"***\"; __N__                                                } ?> __N__                                                ) = __N__                                                <span class=\"span-blue\">__N__                                                    <?php print price(($sum_all_validated_sells_period->total - $TOTAL_REDUC_OLD_SYSTEM + $TOTAL_DISCOUNTS) * 0.80, 0, \'\', 1, -1, 2); ?>€__N__                                                </span> __N__                                                <?php print $weblangs->trans(\"exclTax\"); ?>__N__                                            </td>__N__                                        </tr>__N__                        		    </table>__N__                                </div>__N__                        		    __N__            __N__            __N__                                <div class=\"info-order box\">__N__                                    <h3 class=\"page-subheading\"><?php print $weblangs->trans(\"amountToClaim\"); ?></h3>__N__                        		    <table class=\"table-no-border\">__N__                        		        <tr>__N__                        		            <td><?php print $weblangs->trans(\"remainedAmountInOneMonth\"); ?></td>__N__                        		            <td><span class=\"span-blue\"><?php print price((($sum_all_sells->total - $TOTAL_REDUC_OLD_SYSTEM + $TOTAL_DISCOUNTS) * 0.80) - $sum_payment_done, 0, \'\', 1, -1, 2); ?>€</span> <?php print $weblangs->trans(\"exclTax\"); ?></td>__N__                        		        </tr>__N__                        		        <tr>__N__                        		            <?php__N__                        		            // Check if there is at least one supplier invoice done during this current month__N__                        		            $checkLastPaymentCount = \"SELECT COUNT(*) AS payment_count \";__N__                                            $checkLastPaymentCount .= \"FROM \" . MAIN_DB_PREFIX . \"facture_fourn AS f \";__N__                                            $checkLastPaymentCount .= \"WHERE f.fk_soc = \" . ((int) $customer_id) . \" AND f.fk_statut = 2 AND f.paye = 1 \";__N__                                            $checkLastPaymentCount .= \"AND (f.libelle LIKE \'%vente%\' OR f.libelle LIKE \'%dolistore%\') \";__N__                                            $checkLastPaymentCount .= \"AND MONTH(f.datef) = MONTH(CURDATE()) AND YEAR(f.datef) = YEAR(CURDATE())\";__N__                                            $resql = $db->query($checkLastPaymentCount);__N__                                            $hasRecivedPaymentThisMonth = $db->fetch_object($resql);__N__                        		            ?>__N__                        		            <td><?php print $weblangs->trans(\"remainedAmountToday\"); ?></td>__N__                        		            <?php if ($hasRecivedPaymentThisMonth->payment_count > 0): ?>__N__                        		                <td><span class=\"span-blue\"><?php print price((($sells_done_validated->total - $TOTAL_REDUC_OLD_SYSTEM + $TOTAL_DISCOUNTS) * 0.80) - $sum_payment_done, 0, \'\', 1, -1, 2); ?>€</span> <?php print $weblangs->trans(\"exclTax\"); ?> <small><?php print $weblangs->trans(\"aPaymentWasDoneThisMonth\"); ?></small></td>__N__                        		            <?php else: ?>__N__                        		                <td><span class=\"span-blue\"><?php print price((($sells_done_validated->total - $TOTAL_REDUC_OLD_SYSTEM + $TOTAL_DISCOUNTS) * 0.80) - $sum_payment_done, 0, \'\', 1, -1, 2); ?>€</span> <?php print $weblangs->trans(\"exclTax\"); ?></td>__N__                        		            <?php endif ?>__N__                        		            __N__                        		            __N__                        		        </tr>__N__                        		        <?php if (getDolGlobalInt(\"MARKETPLACE_MINIMUM_PAYOUT_AMOUNT\")): ?>__N__                                            <tr>__N__                            		            <td><small> * <?php print $weblangs->trans(\"minAmountToClaim\"); ?> : <?php print getDolGlobalInt(\"MARKETPLACE_MINIMUM_PAYOUT_AMOUNT\"); ?> €</small></td>__N__                            		        </tr>__N__                                        <?php endif ?>__N__                        		        <tr>__N__                        		            <td><small> * <?php print $weblangs->trans(\"minAmountToClaimDesc\"); ?></small></td>__N__                        		        </tr>__N__                        		        <?php if ($TOTAL_REDUC_OLD_SYSTEM != 0): ?>__N__                                            <tr>__N__                            		            <td><small> ** <?php print $weblangs->trans(\"totalVouchersOffered\"); ?></small></td>__N__                            		        </tr>__N__                                        <?php endif ?>__N__                                        <?php if ($TOTAL_DISCOUNTS != 0): ?>__N__                                            <tr>__N__                            		            <td><small> *** <?php print $weblangs->trans(\"totalDiscountsOffered\"); ?></small></td>__N__                            		        </tr>__N__                                        <?php endif ?>__N__                        		    </table>__N__                        		    __N__                                </div>__N__                                __N__                                <div class=\"info-order box\">__N__                                    <h3 class=\"page-subheading\"><?php print $weblangs->trans(\"paymentHistory\"); ?></h3>__N__                        		    <table class=\"table table-bordered table-bordered-block-order-detail order-history table-payment-recap\">__N__                        		        <thead>__N__                        					<tr>__N__                        						<th class=\"first_item\" width=\"60\">#</th>__N__                        						<th class=\"item\" width=\"170\"><?php print $weblangs->trans(\"date\"); ?></th>__N__                        						<th class=\"item\" width=\"170\"><?php print $weblangs->trans(\"ref\"); ?></th>__N__                        						<th class=\"item\"><?php print $weblangs->trans(\"AmountHT\"); ?></th>__N__                        						<th class=\"item\"><?php print $weblangs->trans(\"AmountTTC\"); ?></th>__N__                        					</tr>__N__                        				</thead>__N__                        				<tbody>__N__                        				    <?php__N__                                            /*$payment_history = \"SELECT f.rowid, f.ref, f.fk_statut, f.fk_soc, f.datec, f.datef, f.date_closing, f.total_ht , f.total_ttc \";__N__                                            $payment_history .= \"FROM \".MAIN_DB_PREFIX.\"facture_fourn as f \";__N__                                            $payment_history .= \"WHERE f.fk_soc = \" . ((int) $customer_id) . \" and f.fk_statut = 2 and f.paye = 1 AND (f.libelle LIKE \'%vente%\' OR f.libelle LIKE \'%dolistore%\') ORDER BY f.datef DESC\";*/__N__                        				    if ($dolistoreinvoices) {__N__                        				        $i = 1;__N__                        				        $total_ht = 0;__N__                                                $total_ttc = 0;__N__                        				        foreach ($dolistoreinvoices as $payment) {__N__                        				            $tmpdate=preg_replace(\'/(\\s|T)00:00:00Z/\',\'\',$payment[\'date\']);__N__                        				            if (strcmp($tmpdate ,\'2013-01-01\') < 0) $payment[\'amount_ht\']=$payment[\'amount_ttc\'];__N__                        				            $total_ht += $payment[\'amount_ht\'];__N__                                                    $total_ttc += $payment[\'amount_ttc\'];__N__                        				    ?>__N__                                		        <tr>__N__                                		            <td><?php print $i; ?></td>__N__                                		            <td><?php print dol_print_date($tmpdate); ?></td>__N__                                		            <td><?php print $payment[\'amount_ttc\']; ?></td>__N__                                		            <td><?php print price($payment[\'amount_ht\']); ?> €</td>__N__                                		            <td><?php print price($payment[\'amount_ttc\']); ?> €</td>__N__                                		        </tr>__N__                            		        <?php__N__                        					    $i++;__N__                                            	}__N__                                            	?>__N__                                            	<tr>__N__                                                    <td colspan=\"3\"><strong><?php print $weblangs->trans(\"AmountTotal\"); ?></strong></td>__N__                                                    <td><strong><?php print price($total_ht); ?> €</strong></td>__N__                                                    <td><strong><?php print price($total_ttc); ?> €</strong></td>__N__                                                </tr>__N__                                            <?php__N__                                            }__N__                                            ?>__N__                                        </tbody>__N__            __N__                        		    </table>__N__                                </div>__N__                        		    __N__                        		    __N__                        		    __N__                        		    __N__                        		    __N__                        		    __N__                        		    __N__                        		</div>__N__                            </div>__N__                    </div>__N__                <?php endif ?>__N__                <ul class=\"footer_links clearfix\">__N__                    	<li>__N__                    		<a class=\"btn btn-default button button-small\" href=\"myaccount.php\">__N__                    			<span>__N__                    				<i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"backToYourAccount\"); ?>__N__                    			</span>__N__                    		</a>__N__                    	</li>__N__                    	<li>__N__                    		<a class=\"btn btn-default button button-small\" href=\"index.php\">__N__                    			<span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"Home\"); ?></span>__N__                    		</a>__N__                    	</li>__N__                    </ul>__N__            </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 21__+MAX_llx_website_page__ - Aliases index --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(21__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'index', '', 'Official market place for Dolibarr modules - DoliStore', 'Official market place for Dolibarr modules - DoliStore', '', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-02-02 16:48:47', '2025-01-14 00:15:26', null, 'https://www.dolistore.com/en/', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$cat_extid = GETPOST(\'extcat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php includeContainer(\'header\'); ?>__N__  </div>__N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__      <?php includeContainer(\'breadcrumb\'); ?>__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include left sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__          <div class=\"clearfix\">__N__            __N__            <!-- To remove later -->__N__            <?php if (!empty(getDolGlobalInt(\"MARKETPLACE_IN_MIGRATION\"))) : ?>__N__                <div style=\"color: red; font-weight: bold; font-size: 1.2em;\"><br>__N__                [EN] This site is currently under maintenance. Please do not create account, submit, edit or buy modules yet.<br>__N__                [FR] Ce site est toujours en maintenance. Merci de ne pas creer de compte, soumettre, éditer ou acheter des modules.<br>__N__                <br><br>__N__                </div>__N__            <?php endif ?>__N__            <!-- To remove later -->__N____N__            <!-- include welcome message -->__N__            <?php__N__                $__PAGE__TITLE__ = $weblangs->trans(\"indexPageTitle\");__N__                $__PAGE__KEYWORDS__ = $weblangs->trans(\"indexPageKeywords\");__N__                $__PAGE__DESC__ = $weblangs->trans(\"indexPageDescription\");__N__                __N__                if (empty($tag) && empty($cat_id) && empty($cat_extid) && empty($search)) {__N__                    $current_lang = $_SESSION[\'lang\'][\'shortcode\'];__N__                    $welcome_message = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'pageurl\' => \'welcome-message\', \'status\' => \'1\', \'lang\' => $website->lang));__N__                    if ($website->lang == $current_lang) {__N__                        includeContainer($welcome_message[key($welcome_message)]->pageurl);__N__                    } else {__N__                        $trans_welcome_message = $websitepage->fetchAll($website->id, \'\', \'\', 0, 1, array(\'fk_page\' => $welcome_message[key($welcome_message)]->id, \'status\' => \'1\', \'lang\' => $current_lang));__N__                        includeContainer($trans_welcome_message[key($trans_welcome_message)]->pageurl);__N__                    }__N__                } else {__N__                    // Define SEO meta tags__N__                    $root_cat_object = new Categorie($db);__N__                    if (!empty($cat_extid)) {__N__                        $result = $root_cat_object->fetch(\'\', \'\', Categorie::TYPE_PRODUCT, $cat_extid);__N__            	    } __N__            	    if (!empty($cat_id)) {__N__            	        $result = $root_cat_object->fetch($cat_id,\"\");__N__            	    }__N____N__        	        $__PAGE__TITLE__ = $root_cat_object->label;__N__                    $__PAGE__DESC__ = $root_cat_object->description;__N__                    __N__                    if (!empty($tag) || !empty($search)) {__N__                        $__PAGE__TITLE__ = $weblangs->trans(\"search\");__N__                    }__N____N__                }__N__                ?>__N__            <!-- include product container -->__N__            <?php includeContainer(\'products-list-grid\'); ?>__N__          </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);
UPDATE llx_website SET fk_default_home = 21__+MAX_llx_website_page__ WHERE rowid = __WEBSITE_ID__;

-- Page ID 22__+MAX_llx_website_page__ - Aliases legal-notice-quienes-somos --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(22__+MAX_llx_website_page__, 3__+MAX_llx_website_page__, __WEBSITE_ID__, 'legal-notice-quienes-somos', '', 'Legal Notice - Quiénes somos', '', 'es', '', '', '1', '2024-05-06 19:19:33', '2025-01-14 00:24:10', null, '', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N__		__N__		<!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> Legal notice - About us__N__		</div>__N__        <!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Legal_notice_section\" contenteditable=\"true\">__N__                    __N__                    __N__<div class=\"rte\">__N__		<h3>Presentación</h3>__N__<p>La asociación Dolibarr ofrece la plataforma DoliStore.com para ayudar a conectar a vendedores y compradores. Solo el servicio de visibilidad de los productos vendidos es proporcionado por la fundación. La fundación no garantiza la calidad de los productos comprados por el cliente.</p>__N__<p>La asociación Dolibarr, a través de DoliStore, recauda los pagos de los bienes vendidos en nombre de los autores/editoriales y gestiona la distribución de los fondos que les corresponden. En este sentido, la asociación actúa bajo la exención de autorización de institución de pago prevista en el artículo L521-3 I 2° del código monetario y financiero.</p>__N__<p>La asociación Dolibarr es una asociación francesa (Ley 1901) creada para promover y desarrollar el software ERP y CRM de código abierto Dolibarr.</p>__N__<p><strong>Información legal sobre la fundación:</strong></p>__N__<ul>__N__<li>WALDEC: W452006878</li>__N__<li>SIRÈNE: 52033993800018</li>__N__<li>NAF: 9499Z</li>__N__</ul>__N__<p>Más información en la página <a href=\"https://asso.dolibarr.org/index.php/Dolibarr_foundation\">https://asso.dolibarr.org/index.php/Dolibarr_foundation</a>.</p>__N__<h3>Principios de Protección de Datos</h3>__N__<p>Al utilizar el sitio DoliStore.com, usted acepta el procesamiento de sus datos personales tal como se describe en esta política de privacidad.</p>__N__<p><strong>Nuestros compromisos con los principios de protección de datos son los siguientes:</strong></p>__N__<ul>__N__<li><strong>Procesamiento legal, justo y transparente:</strong> Nuestras actividades de procesamiento de datos tienen motivos legítimos. Siempre consideramos sus derechos antes de procesar datos personales.</li>__N__<li><strong>Limitación de la finalidad:</strong> El procesamiento de datos está limitado al propósito para el cual se recolectaron los datos personales.</li>__N__<li><strong>Minimización de datos:</strong> Recolectamos y procesamos solo la cantidad mínima de datos personales necesarios para cualquier propósito.</li>__N__<li><strong>Periodo de almacenamiento:</strong> El procesamiento está limitado a un período de tiempo específico. No conservaremos sus datos personales más tiempo del necesario.</li>__N__<li><strong>Integridad:</strong> Hacemos todo lo posible para asegurar la exactitud, integridad y confidencialidad de los datos.</li>__N__</ul>__N__<h3>Definición de Derechos sobre los Datos Personales</h3>__N__<ul>__N__<li><strong>Derecho a la información:</strong> Usted debe saber si sus datos personales están siendo procesados; qué datos se recolectan, de dónde provienen, y por qué y por quién se procesan.</li>__N__<li><strong>Derecho de acceso:</strong> Usted tiene derecho a acceder a los datos recolectados de/sobre usted. Esto incluye su derecho a solicitar y obtener una copia de sus datos personales recolectados.</li>__N__<li><strong>Derecho de rectificación:</strong> Usted tiene derecho a solicitar la rectificación o eliminación de sus datos personales que sean inexactos o incompletos.</li>__N__<li><strong>Derecho de eliminación:</strong> En ciertas circunstancias, usted puede solicitar que sus datos personales sean eliminados de nuestros registros.</li>__N__<li><strong>Derecho a la restricción o a la oposición al procesamiento:</strong> Bajo ciertas condiciones, usted tiene derecho a restringir o oponerse al procesamiento de sus datos personales.</li>__N__<li><strong>Derecho a la portabilidad de los datos:</strong> Usted tiene derecho a obtener sus datos personales en un formato legible por máquina.</li>__N__<li><strong>Derecho a retirar su consentimiento:</strong> Usted tiene derecho a retirar cualquier consentimiento dado para el procesamiento de sus datos personales.</li>__N__</ul>__N__<h3>Datos que Recolectamos</h3>__N__<p><strong>Información proporcionada por los vendedores:</strong></p>__N__<ul>__N__<li>Dirección de correo electrónico, nombre, apellido, nombre de la empresa, número de empresa o fiscal (número de IVA intracomunitario), información de facturación.</li>__N__</ul>__N__<p><strong>Información proporcionada por los compradores:</strong></p>__N__<ul>__N__<li>Dirección de correo electrónico, nombre, apellido, nombre de la empresa, número de empresa o fiscal (número de IVA intracomunitario), información de facturación, estado de miembro o no de la asociación.</li>__N__</ul>__N__<p><strong>Nota:</strong> La información de pagos (tarjeta de crédito o ID de socio de pagos) no es recolectada ni conocida por DoliStore, ya que se proporciona directamente al proveedor de pagos.</p>__N__<p><strong>Información recolectada automáticamente:</strong></p>__N__<ul>__N__<li>Incluye la información almacenada automáticamente por las cookies de sesión o de análisis estadístico (basado en Google y Matomo).</li>__N__<li>También incluye el historial de compras.</li>__N__</ul>__N__<p><strong>Información de socios:</strong></p>__N__<ul>__N__<li>No recolectamos información de socios.</li>__N__</ul>__N__<p><strong>Enlaces a otros sitios:</strong></p>__N__<ul>__N__<li>Las páginas del sitio pueden incluir contenido incrustado (por ejemplo, videos, imágenes, artículos, enlaces). El contenido incrustado desde otros sitios se comporta de la misma manera que si el visitante estuviera en ese otro sitio. Estos sitios web podrían recolectar datos sobre usted (dirección IP, uso de cookies, herramientas de seguimiento de terceros) o rastrear sus interacciones con dicho contenido incrustado si usted tiene una cuenta y está conectado en su sitio web.</li>__N__</ul>__N__<h3>Uso de sus Datos Personales</h3>__N__<p>Usamos sus datos personales para los siguientes fines:</p>__N__<ul>__N__<li>Para identificarlo (correo electrónico de inicio de sesión y contraseña hasheada)</li>__N__<li>Para comunicarnos con usted en relación con los productos vendidos para los vendedores o los productos comprados para los compradores (correo electrónico)</li>__N__<li>Para mejorar su experiencia como vendedor o cliente y responder a sus preguntas (historial de compras o ventas)</li>__N__<li>Para cumplir con una obligación legal o contractual (datos de facturación)</li>__N__<li>Para realizar análisis e investigaciones para mejorar nuestros servicios (datos anónimos de estadísticas de consulta y navegación en el sitio web).</li>__N__</ul>__N__<p>Procesamos sus datos personales para cumplir con las obligaciones derivadas de la ley y/o usar sus datos personales para las opciones previstas por la ley. Nos reservamos el derecho de anonimizar los datos personales recolectados y usar esos datos anonimizados a largo plazo. Solo usaremos datos fuera del alcance de esta política si están anonimizados.</p>__N__<p>Podríamos procesar sus datos personales para otros fines no mencionados aquí. En ese caso, este documento se actualizará.</p>__N__<h3>Períodos de Retención de sus Datos</h3>__N__<p>Para los usuarios que se registran en nuestro sitio, almacenamos los datos personales indicados en su perfil. Todos los usuarios pueden ver, modificar o eliminar su información personal en cualquier momento.</p>__N__<p>También guardamos la información de facturación el tiempo necesario por razones contables u otras obligaciones derivadas de la ley, hasta su solicitud de eliminación de sus datos personales o el tiempo legal para los datos de facturación.</p>__N__<h3>Con Quién se Comparten sus Datos Personales</h3>__N__<p><strong>Vendedores:</strong> Los siguientes datos personales de los compradores se proporcionan a los vendedores para facilitar la prestación del servicio o mejorar la experiencia del cliente: correo electrónico, nombre y apellido, nombre del módulo comprado, su precio y fecha de compra.</p>__N__<p><strong>Compradores:</strong> Los siguientes datos personales de los vendedores se proporcionan a los compradores para facilitar la prestación del servicio o mejorar la experiencia del cliente: correo electrónico o URL de contacto del soporte del módulo (si el vendedor proporciona soporte).</p>__N__<p><strong>Entidades de pago:</strong> Para asegurar el rol de terceros en el pago, utilizamos los servicios de Stripe y Paypal. Les proporcionamos el correo electrónico y la dirección del comprador. La información sobre el método de pago no es almacenada por DoliStore sino recogida y almacenada directamente por Stripe o Paypal, quienes nos informan del éxito o fracaso de los pagos.</p>__N__<p><strong>Entidades legales:</strong> Divulgamos sus datos personales a terceros o a funcionarios cuando estamos legalmente obligados a hacerlo.</p>__N__<p><strong>Otros terceros fuera del Espacio Económico Europeo:</strong> No transmitimos datos a otros terceros que no sean los mencionados anteriormente. Cuando transferimos información personal a países que no forman parte del Espacio Económico Europeo (casos mencionados anteriormente para vendedores fuera de Europa o entidades de pago), nos aseguramos de que esta información se transfiera de acuerdo con este Aviso y en aplicación de las leyes aplicables a la protección de datos personales. Nos basamos en las decisiones de adecuación de la Comisión Europea o utilizamos contratos con garantías estándar publicadas por la Comisión Europea.</p>__N__<p><strong>Administradores y moderadores:</strong> La plataforma DoliStore es administrada y moderada por los miembros del Consejo de Administración de la asociación Dolibarr. Cada miembro del consejo de administración tiene derechos de acceso y modificación de la información en el perfil de los vendedores, los compradores y en la lista de ventas/compras.</p>__N__<p>La Asociación Dolibarr no se hace responsable del uso que puedan hacer de estos datos los vendedores o cualquier otro tercero con acceso autorizado.</p>__N__<p></p>__N__<h3>Cómo Protegemos sus Datos</h3>__N__<p>Hacemos todo lo posible para proteger sus datos personales.</p>__N__<p><strong>Encriptación de las comunicaciones:</strong> Utilizamos protocolos seguros para la comunicación y transferencia de datos (como HTTPS). Utilizamos la anonimización y la seudonimización cuando es apropiado.</p>__N__<p><strong>Supervisión:</strong> Supervisamos nuestros sistemas para detectar posibles vulnerabilidades y ataques.</p>__N__<p><strong>Copias de seguridad:</strong> Las copias de seguridad regulares están automatizadas.</p>__N__<p>Aunque hacemos todo lo posible, no podemos garantizar la seguridad total de la información. Sin embargo, nos comprometemos a informar a las autoridades competentes sobre violaciones de datos. También le informaremos si existe una amenaza para sus derechos o intereses. Haremos todo lo que esté razonablemente a nuestro alcance para prevenir las violaciones de seguridad y ayudar a las autoridades en caso de una violación.</p>__N__<p><strong>Contraseña:</strong> Su contraseña se conserva de manera cifrada a través de un cifrado no reversible (hash). Si tiene una cuenta con nosotros, debe mantener su nombre de usuario y contraseña en secreto.</p>__N__<h3>Cookies y Otras Tecnologías que Usamos</h3>__N__<p>Utilizamos cookies y/o tecnologías similares para habilitar la funcionalidad de sesión de usuario y obtener estadísticas anónimas de navegación en el sitio.</p>__N__<p>Una cookie es un pequeño archivo de texto almacenado en su computadora (en memoria o en el disco). Las cookies almacenan información utilizada para ayudar a operar los sitios. Solo podemos acceder a las cookies creadas por nuestro sitio. Puede controlar sus cookies a nivel del navegador. Desactivar las cookies puede impedirle usar ciertas funciones.</p>__N__<p><strong>Usamos cookies para los siguientes fines:</strong></p>__N__<ul>__N__<li><strong>Cookies necesarias:</strong> Estas cookies son necesarias para usar funciones esenciales en nuestro sitio, como el inicio de sesión y la persistencia de la sesión. Estas cookies no recolectan ninguna información personal.</li>__N__<li><strong>Cookies de funcionalidad:</strong> Estas cookies proporcionan funcionalidades que hacen que nuestro servicio sea más conveniente y permiten funciones más personalizadas. Por ejemplo, pueden recordar su nombre y dirección de correo electrónico en formularios de comentarios, por lo que no necesita volver a ingresar esta información la próxima vez.</li>__N__<li><strong>Cookies analíticas:</strong> Estas cookies se utilizan para rastrear el uso y rendimiento anónimo de nuestro sitio web y servicios.</li>__N__</ul>__N__<p>Puede eliminar las cookies almacenadas en su computadora a través de la configuración de su navegador. También puede controlar algunas cookies de terceros utilizando una plataforma de mejora de privacidad, como optout.aboutads.info o youronlinechoices.com. Para más información sobre cookies, visite allaboutcookies.org.</p>__N__<h3>Información de Contacto - DPO</h3>__N__<p>El Delegado de Protección de Datos (DPO) es el Presidente de la asociación Dolibarr. Su nombre se indica en esta página: <a href=\"https://wiki.dolibarr.org/index.php/Office_and_Board_Members\">https://wiki.dolibarr.org/index.php/Office_and_Board_Members</a>.</p>__N__<p>Cualquier solicitud relativa a sus datos personales puede hacerse por correo electrónico a <a>dolistore@dolibarr.org</a>.</p>__N__<h3>Modificaciones a esta Política de Privacidad</h3>__N__<p>Nos reservamos el derecho de hacer cambios a esta política de privacidad. Última modificación realizada el 14/05/2024.</p>__N__	</div>__N__	__N__	__N__				</section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 23__+MAX_llx_website_page__ - Aliases login --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(23__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'login', '', 'login', '', '', '', '', '1', '2024-03-13 15:47:35', '2025-01-16 14:57:29', null, '', 'page', '', '<?php__N__    if(!empty(GETPOST(\'action\')) && GETPOST(\'action\') == \"login\") {__N__        $customer_email = GETPOST(\'email\');__N__        $customer_passwd = GETPOST(\'passwd\');__N__        $back = GETPOST(\'back\');__N__        __N__        $login = ws_login($customer_email, $customer_passwd);__N____N__		if (!empty($login[\'status\']) && $login[\'status\'] == 1) {__N__        	session_start(); // start session__N__        	if(isset($_SESSION[\'user\'])){  //if session var already exist__N__                unset($_SESSION[\'user\']);__N__            }__N____N__            $_SESSION[\'user\'][\'id_user\'] = $login[\'userid\'];__N__            $_SESSION[\'user\'][\'pseudo\'] = $login[\'pseudo\'];__N__            $_SESSION[\'user\'][\'email\'] = $login[\'email\'];__N__            $_SESSION[\'user\'][\'socid\'] = $login[\'socid\'];__N__            $_SESSION[\'user\'][\'is_preferred_member\'] = $login[\'is_preferred_member\'];__N__            __N__            __N__            if($back == \'payement\'){__N__                redirectToContainer(\'payment\');__N__            }__N____N__            ws_refreshCart($login[\'socid\']);__N__            __N__            redirectToContainer(\'myaccount\');__N__        }else{__N__            $error++;__N__    		$error_messages[] = $weblangs->trans(\"authError\");__N__        }__N__    }__N__?>__N____N____N____N__<?php__N__    $back = GETPOST(\'back\');__N__?>__N__<div class=\"col-xs-12 col-sm-5\">__N__	__N__	<form action=\"login-register.php\" method=\"post\" id=\"login_form\" class=\"box\">__N__	    __N__	    <!--<input type=\"hidden\" name=\"token\" value=\"<?php echo newToken() ?>\">-->__N__			<h3 class=\"page-subheading\"><?php print $weblangs->trans(\"alreadyRegistered\"); ?></h3>__N__			<?php if (isset($error) && $error != 0): ?>__N__        		<div class=\'alert alert-danger\'>__N__            		<?php $add_s = ($error > 1) ? \"s\" : \"\"; ?>__N__            		<p><?php print $weblangs->trans(\"errorsOccurred\", $error, $add_s); ?></p>__N__            		<ol>__N__            		    <?php foreach ($error_messages as $key => $value): ?>__N__                    		<li><?php print $value; ?></li>__N__                    	<?php endforeach ?>__N__            		</ol>__N__            	</div>__N__        	<?php endif ?>__N__			<div class=\"form_content clearfix\">__N__				<div class=\"form-group\">__N__					<label for=\"email\"><?php print $weblangs->trans(\"Email\"); ?></label>__N__					<input class=\"is_required validate account_input form-control\" data-validate=\"isEmail\" type=\"text\" id=\"emaillogin\" name=\"email\" value=\"<?php if (isset($customer_email)){print $customer_email;} ?>\">__N__				</div>__N__				<div class=\"form-group\">__N__					<label for=\"passwd\"><?php print $weblangs->trans(\"Password\"); ?></label>__N__					<span><input class=\"is_required validate account_input form-control\" type=\"password\" data-validate=\"isPasswd\" id=\"passwdlogin\" name=\"passwd\" value=\"<?php if (isset($customer_passwd)){print $customer_passwd;} ?>\"></span>__N__				</div>__N__				<input type=\"hidden\" name=\"action\" value=\"login\">__N__				<input type=\"hidden\" name=\"back\" value=\"<?php print $back; ?>\">__N__				<p class=\"lost_password form-group\"><a href=\"forgot-password.php\" title=\"<?php print $weblangs->trans(\"recoverPass\"); ?>\" rel=\"nofollow\"><?php print $weblangs->trans(\"forgotPassword\"); ?></a></p>__N__				<p class=\"submit\">__N__					<button type=\"submit\" id=\"SubmitLogin\" name=\"SubmitLogin\" class=\"button btn btn-default button-medium\">__N__						<span>__N__							<?php print $weblangs->trans(\"signIn\"); ?>__N__							<i class=\"icon-chevron-right right\"></i>__N__						</span>__N__					</button>__N__				</p>__N__			</div>__N__	</form>__N__	__N__</div>__N__', '', 0);

-- Page ID 24__+MAX_llx_website_page__ - Aliases login-register --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(24__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'login-register', '', 'Login/Register', '', '', '', '', '1', '2024-03-13 10:07:51', '2025-01-10 15:18:49', null, '', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php __N__        includeContainer(\'header\'); __N__        $__PAGE__TITLE__ = $weblangs->trans(\"loginRegisterPageTitle\");__N__        $__PAGE__KEYWORDS__ = $weblangs->trans(\"loginRegisterPageKeywords\");__N__        $__PAGE__DESC__ = $weblangs->trans(\"loginRegisterPageDescription\");__N__    ?>__N__    __N__  </div>__N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"authentication\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__          <div class=\"clearfix\">__N__                <h1 class=\"page-heading\"><?php print $weblangs->trans(\"authentication\"); ?></h1>__N__                <div class=\"row\">__N__                    <?php includeContainer(\'login\'); ?>__N__                    <?php includeContainer(\'register\'); ?>__N__                </div>__N__          </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 25__+MAX_llx_website_page__ - Aliases manage-products --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(25__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'manage-products', '', 'manage-products', '', '', '', '', '1', '2024-07-03 08:34:43', '2025-01-15 22:16:10', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__$current_lang = $_SESSION[\'lang\'][\'code\'];__N__$weblangs->load(\"products\");__N____N____N__// If not login redirect to login.__N__if(empty($_SESSION[\'user\'][\'id_user\'])){__N__    redirectToContainer(\'login-register\');__N__}__N____N____N__// Get Account ID.__N__$user_id = $_SESSION[\'user\'][\'id_user\'];__N__$customer_account = new SocieteAccount($db);__N__$result = $customer_account->fetch($user_id);__N__$customer_id = $customer_account->fk_soc;__N____N__// Get customer ID.__N__$customer = new Societe($db);__N__$result = $customer->fetch($customer_id);__N____N__$isAdmin = false;__N____N__// To render view of another user__N__if (!empty(GETPOST(\'id_customer\'))) {__N__    // Only for members with a specific role__N__    require_once DOL_DOCUMENT_ROOT.\"/adherents/class/adherent.class.php\";__N__    $membre = new Adherent($db);__N__    $result = $membre->fetch(\'\', 0, $customer_id);__N__    __N__    $adminsCat = new Categorie($db);__N__    $idcategoryoftheboardteam = getDolGlobalInt(\'MARKETPLACE_MEMBER_CATEGORY_ADMIN_ID\');__N__	$adminsCat->fetch($idcategoryoftheboardteam);__N__	__N__	$result = $adminsCat->containsObject(\'member\', $membre->id);__N__	if ($result > 0) {__N__	    $isAdmin = true;__N__	    __N__        $customer_id = GETPOSTINT(\'id_customer\');__N__        // Get soc info.__N__        $socInfo = new Societe($db);__N__        $socInfo->fetch($customer_id);__N__        __N__        // Get soc acount email__N__        $sql = \"select rowid from \".MAIN_DB_PREFIX.\"societe_account where fk_soc = \".((int) $customer_id).\" AND fk_website = \".((int) $website->id).\" limit 1\";__N__        $result = $db->query($sql);__N__        $objsql = $db->fetch_object($result);__N__        __N__        // Get account info__N__        $cContacts = $socInfo->contact_array_objects();__N__        foreach ($cContacts as $cContact) {__N__            if ($cContact->ref_ext == $objsql->rowid) {__N__                $customer_firstname = $cContact->firstname;__N__                $customer_lastname = $cContact->lastname;__N__                $customer_email = $cContact->email;__N__                $customer_address = $cContact->address;__N__            }__N__        }__N__	}__N__}__N____N__// Get liste of products__N__$products_ids = array();__N____N__$sql = \'SELECT pf.fk_product, MIN(pf.datec) AS first_date \';__N__$sql .= \'FROM \'.MAIN_DB_PREFIX.\'product_fournisseur_price AS pf, \'.MAIN_DB_PREFIX.\'categorie_product AS cp \';__N__$sql .= \'WHERE pf.fk_soc = \'.((int) $customer_id).\' \';__N__$sql .= \'AND cp.fk_product = pf.fk_product \';__N__$sql .= \'AND cp.fk_categorie = \'.getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\").\' \';__N__$sql .= \'GROUP BY pf.fk_product \';__N__$sql .= \'ORDER BY first_date ASC\';__N____N__if ($result_products = $db->query($sql)) {__N__	while ($product_id = $result_products->fetch_object()) {__N__        $products_ids[] = $product_id->fk_product;__N__	}__N__}__N____N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php __N__        includeContainer(\'header\'); __N__        $__PAGE__TITLE__ = $weblangs->trans(\"manageProductsPageTitle\");__N__    ?>__N__  </div>__N____N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <a href=\"myaccount.php\" title=\"<?php print $weblangs->trans(\"myAccount\"); ?>\" data-gg=\"\"><?php print $weblangs->trans(\"manageProducts\"); ?></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"ListOfProductsServices\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__            <?php if (empty($products_ids)): ?>__N__                <h1 class=\"page-heading\"><?php print $weblangs->trans(\"ListOfProductsServices\"); ?></h1>__N__                <p class=\"alert alert-warning\"><?php print $weblangs->trans(\"noProductToDisplay\"); ?> </p>__N__            <?php else: ?>__N__                <div class=\"clearfix\">__N__                    <h1 class=\"page-heading\"><?php print $weblangs->trans(\"ListOfProductsServices\"); ?></h1>__N__                    <div id=\"block-history\" class=\"block-center\">__N__                        <div id=\"block-order-detail\" class=\"unvisible\" style=\"display: block;\">__N__                    		<div id=\"order-detail-content\" class=\"table_block table-responsive\">__N__                    			<table class=\"table table-bordered table-bordered-block-order-detail order-history\">__N__                    				<thead>__N__                    					<tr>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"coverImage\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"product\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"Nb\"); ?></th>__N__                    						<th class=\"item\" width=\"80\"><?php print $weblangs->trans(\"amountEarned\"); ?></th>__N__                    						<th class=\"last_item\"></th>__N__                    					</tr>__N__                    				</thead>__N__                    				<tbody>__N__                    					<!-- Customized products -->__N__                    					<!-- Classic products -->__N__                    					<?php foreach ($products_ids as $products_id): ?>__N__                    					    <?php__N__                    					        $weblangs->load(\"products\");__N__                                                // Get order object__N__                                                $product = new Product($db);__N__                                                $result = $product->fetch($products_id);__N__                                                __N__                                                // Get nbr of sales__N__                                                $sql = \"SELECT sum(d.qty) as qty, sum(d.total_ht) as total_ht\";__N__                                        		$sql .= \" FROM \".$db->prefix().\"commandedet as d, \".$db->prefix().\"commande as c, \".$db->prefix().\"societe as s\";__N__                                        		$sql .= \" WHERE c.rowid = d.fk_commande\";__N__                                        		$sql .= \" AND d.fk_product = \".((int) $product->id);__N__                                        		$sql .= \" AND c.fk_soc = s.rowid\";__N__                                        		$sql .= \" AND (c.facture = 1 OR c.note_private LIKE \'%Order imported%\')\";__N____N__                                        		$resql = $db->query($sql);__N__    		                                    $stats = $db->fetch_object($resql);__N__    		                                    __N__    		                                    // Calculate all discounts for this product__N__                                                $TOTAL_DISCOUNTS = 0;__N__                                                $sum_all_discounts = \"SELECT SUM(d.total_ht) as total \";__N__                                                $sum_all_discounts .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__                                                $sum_all_discounts .= \"WHERE c.rowid = d.fk_commande \";__N__                                                $sum_all_discounts .= \"AND d.description LIKE \'\" . ((int) $product->id) . \"# %\' \";__N__                                                $sum_all_discounts .= \"AND (c.facture = 1 OR c.note_private LIKE \'%Order imported%\' OR c.ref_ext IS NOT NULL) \";__N__                                                $sum_all_discounts .= \"AND c.module_source = \'marketplace\' \";__N__                                                $resql = $db->query($sum_all_discounts);__N__                                                $sells_discounts = $db->fetch_object($resql);__N__                                                $TOTAL_DISCOUNTS = $sells_discounts->total;__N__    		                                    __N__    		                                    // Get package__N__    		                                    $files_and_images = getPublicFilesOfObject($product);__N__            			                        foreach ($files_and_images as $key => $file) {__N__                                                    if ($file[\'position\'] == 100) {__N__                                                        $virtual_product_file = $file;__N__                                                    }__N__                                                }__N__                                            ?>__N__                        					<tr class=\"item\">__N__                        					    <td>__N__                        					        <img class=\"img-responsive\" src=\"<?php print getImagePublicURLOfObject($product,0); ?>\" alt=\"<?php print $product->label; ?>\" title=\"<?php print $product->label; ?>\" width=\"160\" itemprop=\"image\" style=\"margin: auto;\" />__N__                        					    </td>__N__                        					    <td>__N__                        						    <p>__N__                        						        <b><?php print $product->label; ?> <?php print $product->array_options[\'options_marketplace_module_version\']; ?> </b> __N__                        						        __N__                        						        <small> (<?php print $product->array_options[\'options_marketplace_min_version\']; ?> - <?php print $product->array_options[\'options_marketplace_max_version\']; ?>)</small>__N__                        						    </p>__N__                        						    <p>__N__                        						        <small class=\"cart_ref\">__N__                        						            <?php print $product->description; ?><br><br>__N__                        						            <?php print $weblangs->trans(\"CurrentProductPrice\"); ?>: <?php print price($product->price); ?> € <?php print $weblangs->trans(\"exclTax\"); ?>, <?php print price($product->price_ttc); ?> € <?php print $weblangs->trans(\"inclTax\"); ?> <br>__N__                                                            <?php print $weblangs->trans(\"ref\"); ?>: <?php print $product->ref; ?><br>__N__                                                            <?php print $weblangs->trans(\"status\"); ?>: <?php print ($product->status > 0) ? \'<span style = \"color: #28a745;\"> enabled </span>\' : \'<span style = \"color: #dc3545;\"> disabled </span>\'; ?><br>__N__                                                            <?php if (!empty($virtual_product_file[\'url\'])) { ?>__N__                                                                <?php print $weblangs->trans(\"file\"); ?>: <a href=\"<?php print $virtual_product_file[\'url\']; ?>\" target=\"_new\" ><?php print $virtual_product_file[\'filename\']; ?> <i class=\"icon-cloud-download\"></i></a><br>__N__                                                            <?php } ?>__N__                                                            <?php print $weblangs->trans(\"date\"); ?>: <?php print dol_print_date($product->date_creation, \'day\'); ?><br>__N__                        						        </small>__N__                        						    </p>__N__                        						</td>__N__                        						<td>__N__                        						    <p><?php print $stats->qty; ?></p>__N__    											</td>__N__                        						<td width=\"160\">__N__                        							<p><span class=\"price\"><?php print price($stats->total_ht + $TOTAL_DISCOUNTS); ?> €</span></p>__N__                        						</td>__N__                        						<td class=\"btn-table\">__N__                        						    <a href=\"edit-module-product.php?id=<?php print $product->id; ?>\" class=\"btn btn-default button button-small\"><span title=\"<?php print $weblangs->trans(\"edit\"); ?>\"> __N__                        						    <i class=\"icon-edit product-table-icons\" style=\"width:18px\"></i></span></a>__N__                        						    <br><br>__N__                        						    <a href=\"product-statistics.php?id=<?php print $product->id; ?>\" class=\"btn btn-default button button-small\"><span title=\"<?php print $weblangs->trans(\"listOfSells\"); ?>\"> __N__                        						    <i class=\"icon-shopping-cart product-table-icons\" style=\"width:18px\"></i></span></a>__N__                        						</td>__N__                        					</tr>__N__                    					<?php endforeach ?>__N__                    				</tbody>__N__                    			</table>__N__                    		</div>__N__                        </div>__N__                    </div>__N__                    <ul class=\"footer_links clearfix\">__N__                    	<li>__N__                    		<a class=\"btn btn-default button button-small\" href=\"myaccount.php\">__N__                    			<span>__N__                    				<i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"backToYourAccount\"); ?>__N__                    			</span>__N__                    		</a>__N__                    	</li>__N__                    	<li>__N__                    		<a class=\"btn btn-default button button-small\" href=\"index.php\">__N__                    			<span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"Home\"); ?></span>__N__                    		</a>__N__                    	</li>__N__                    </ul>__N__                </div>__N__            <?php endif ?>__N__          __N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 26__+MAX_llx_website_page__ - Aliases mensaje-de-bienvenida --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(26__+MAX_llx_website_page__, 54__+MAX_llx_website_page__, __WEBSITE_ID__, 'mensaje-de-bienvenida', '', 'mensaje de bienvenida', 'mensaje de bienvenida', 'es', '', '', '1', '2024-05-12 12:01:33', '2025-01-14 01:38:36', null, '', 'banner', '', '<section id=\"welcome_section\" contenteditable=\"true\">__N__  <div id=\"editorial_block_center\" class=\"editorial_block\">__N__    <a href=\"https://www.dolibarr.org\" title=\"\">__N__      <img class=\"img-responsive\"__N__        src=\"viewimage.php?modulepart=medias&entity=1&file=image/__WEBSITE_KEY__/img/dolibarr_logo.png\"__N__        alt=\"\" width=\"578\" height=\"160\" />__N__    </a>__N__    <div class=\"rte\">__N__        <br>__N__        <p>Este sitio es el mercado oficial para encontrar módulos y complementos para el proyecto <a__N__                href=\"https://www.dolibarr.org\" target=\"_blank\">Dolibarr ERP/CRM</a>.</p>__N__        <ul>__N__            <li><span style=\"color: #a45931;\"><strong>Si usted es un usuario Dolibarr</strong>:</span></li>__N__        </ul>__N__        <p>Puede buscar funcionalidades complementarias y encontrar módulos o características adicionales. Navegue por las__N__            categorías para encontrar su extensión o utilice el buscador en la parte superior La página ... La mayoría de__N__            los complementos/módulos son gratuitos, algunos son de pago (Los miembros de la asociación Dolibarr se pueden__N__            beneficiar de un descuento del 20% si la solicitud a la asociación se realiza una vez creada la cuenta en__N__            DoliStore y antes de la compra)</p>__N__        <ul>__N__            <li><span style=\"color: #a45931;\"><strong>Si usted es desarrollador</strong>:</span></li>__N__        </ul>__N__        <p>Puede enviar sus módulos con el precio de venta de su elección (o gratuitos). Para ello, basta con crear una__N__            cuenta y enviar el módulo.</p>__N__    </div>__N__  </div>__N__</section>', '', 0);

-- Page ID 27__+MAX_llx_website_page__ - Aliases mentions-legales-a-propos --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(27__+MAX_llx_website_page__, 3__+MAX_llx_website_page__, __WEBSITE_ID__, 'mentions-legales-a-propos', '', 'Mentions légales - Politique de confidentialité', '', 'fr', '', '', '1', '2024-05-06 19:12:53', '2025-01-14 00:54:26', null, '', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> __N____N____N__<div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N__		__N__		<!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__        <!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include left sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Legal_notice_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__				        __N__				        __N__		<h2>Présentation</h2>__N__<p><span style=\"color:#000000;\"><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>L\'association <b>Dolibarr</b> propose la plateforme <b>DoliStore.com</b> pour aider vendeur et acheteur à se rencontrer. Seul le service de visibilité des produits vendus est proposé par la fondation. La fondation ne garantit rien sur la qualité des produits achetés par le client.</span></span></span></p>__N__<p><br><em><span><span style=\"color:#000000;\"><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>L’association Dolibarr, via le DoliStore, collecte pour le compte des&nbsp;auteurs / éditeurs les paiements des biens vendus et gère le reversement des&nbsp;fonds leur revenant. A ce titre, l’association agit sous le couvert de l’exemption&nbsp;d’agrément d’établissement de paiement prévu à l’article L521-3 I 2° du code&nbsp;monétaire et financier.</span></span></span></span></em></p>__N__<p></p>__N__<p><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>L\'association Dolibarr est une association française (Loi 1901) créée pour contribuer à la promotion et au développement du logiciel ERP et CRM Open Source Dolibarr.</span></span></p>__N__<p><span style=\"color:#000000;\"><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>Informations légales sur la fondation&nbsp;:</span></span></span></p>__N__<ul>__N__<li>__N__<p><span style=\"color:#000000;\"><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>WALDEC&nbsp;: W452006878</span></span></span></p>__N__</li>__N__<li>__N__<p><span style=\"color:#000000;\"><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>SIRÈNE&nbsp;: 52033993800018</span></span></span></p>__N__</li>__N__<li>__N__<p><span style=\"color:#000000;\"><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>NAF&nbsp;: 9499Z</span></span></span></p>__N__</li>__N__</ul>__N__<p><span><span style=\"color:#000000;\"><span style=\"font-family:\'Liberation Sans\', sans-serif;\"><span>Plus d\'informations sur la page&nbsp;<a href=\"https://asso.dolibarr.org/index.php/Dolibarr_foundation\" target=\"_blank\">https://asso.dolibarr.org/index.php/Dolibarr_foundation</a></span></span></span></span></p>__N__<h2 class=\"western\"><br><br></h2>__N__<h2 class=\"western\">Principes de protection des données</h2>__N__<p>En utilisant le site<b> DoliStore.com</b>, vous acceptez le traitement de vos données personnelles tel que décrit dans cette politique de confidentialité.</p>__N__<p><br><br></p>__N__<p>Nos engagements vis-à-vis des principes de protection des données sont les suivants:</p>__N__<ul>__N__<li>__N__<p>Le traitement des données est légal, juste, transparent&nbsp;: nos activités de traitement des données ont des motifs légitimes. Nous considérons toujours vos droits avant de traiter des données personnelles.</p>__N__</li>__N__<li>__N__<p>Limitation des finalités&nbsp;: le traitement des données est limité à l’objectif pour lequel les données personnelles ont été collectées.</p>__N__</li>__N__<li>__N__<p>Minimisation&nbsp;: Nous collectons et traitons uniquement la quantité minimale de données personnelles requises à quelque fin que ce soit.</p>__N__</li>__N__<li>__N__<p>Durée de conservation&nbsp;: le traitement est limité avec une période de temps. Nous ne conserverons pas vos données personnelles plus longtemps que nécessaire.</p>__N__</li>__N__<li>__N__<p>Intégrité&nbsp;: Nous faisons de notre mieux pour assurer l’exactitude,&nbsp;l’intégrité et la confidentialité des données.</p>__N__</li>__N__</ul>__N__<p></p>__N__<p></p>__N__<h2 class=\"western\">Définition des droits sur les données personnelles</h2>__N__<ol>__N__<li>__N__<p>Droit à l’information – ce qui signifie que vous devez savoir si vos données personnelles sont en cours de traitement; quelles sont les données collectées, d’où elles proviennent et pourquoi et par qui elles sont traitées.</p>__N__</li>__N__<li>__N__<p>Droit d’accès – ce qui signifie que vous avez le droit d’accéder aux données collectées de / à votre sujet. Cela inclut votre droit de demander et d’obtenir une copie de vos données personnelles recueillies.</p>__N__</li>__N__<li>__N__<p>Droit de rectification – ce qui signifie que vous avez le droit de demander la rectification ou l’effacement de vos données personnelles qui sont inexactes ou incomplètes.</p>__N__</li>__N__<li>__N__<p>Droit d’effacement – ce qui signifie que dans certaines circonstances, vous pouvez demander que vos données personnelles soient effacées de nos archives.</p>__N__</li>__N__<li>__N__<p>Droit de restriction ou d’opposition au traitement – signifiant que certaines conditions s’appliquent, vous avez le droit de restreindre ou de vous opposer au traitement de vos données personnelles.</p>__N__</li>__N__<li>__N__<p>Droit à la portabilité des données – vous avez le droit d’obtenir vos données personnelles dans un format lisible par machine.</p>__N__</li>__N__<li>__N__<p>Droit de retirer votre consentement – vous avez le droit de retirer tout consentement donné pour le traitement de vos données personnelles.</p>__N__</li>__N__</ol>__N__<p></p>__N__<p></p>__N__<h2 class=\"western\">Les données que nous recueillons</h2>__N__<h3 class=\"western\"><strong>Informations que les vendeurs ont fournis</strong></h3>__N__<p>Les informations suivantes fournis par les vendeurs de modules sont collectées&nbsp;:</p>__N__<ul>__N__<li>__N__<p>- adresse e-mail, nom, prénom, nom de société, numéro entreprise ou fiscal (numéro de TVA intracommunautaire), informations de facturation.</p>__N__</li>__N__</ul>__N__<h3 class=\"western\"><strong>Informations que les acheteurs ont fournis</strong></h3>__N__<p><strong><span>Les informations suivantes fournis par les acheteurs de modules sont collectées&nbsp;:</span></strong></p>__N__<ul>__N__<li>__N__<p align=\"left\">- adresse e-mail, nom, prénom, nom de société, numéro entreprise ou fiscal (numéro de TVA intracommunautaire), informations de facturation, statut d’adhérent ou non à l’association</p>__N__<p>Note&nbsp;: Les informations de paiements (carte bancaire ou identifiant de partenaires de paiements) ne sont pas recueillies ni connues de DoliStore, car fournie directement au prestataire de paiement.</p>__N__</li>__N__</ul>__N__<h3 class=\"western\"><strong>Informations collectées automatiquement à votre sujet</strong></h3>__N__<p>Cela inclut les informations stockées automatiquement par les cookies de session ou d’analyse statistiques (basé sur Google et Matomo).</p>__N__<p>Cela inclut aussi l’historique d’achat.</p>__N__<h3 class=\"western\"><strong>Informations issues de partenaires</strong></h3>__N__<p>Nous ne recueillons pas d’informations issus de partenaires.</p>__N__<h3 class=\"western\"><span><strong>Liens vers </strong><strong>d’autres sites</strong></span></h3>__N__<p align=\"justify\">Les pages du site peuvent inclure des contenus intégrés (par exemple des vidéos, images, articles, liens…). Le contenu intégré depuis d’autres sites se comporte de la même manière que si le visiteur se rendait sur cet autre site, aussi ces sites web pourraient collecter des données sur vous (adresse IP, utiliser des cookies, embarquer des outils de suivis tiers) ou suivre vos interactions avec ces contenus embarqués si vous disposez d’un compte connecté sur leur site web.</p>__N__<p><br><br></p>__N__<h2 class=\"western\">Utilisation de vos données personnelles</h2>__N__<p>Nous utilisons vos données personnelles pour les finalités suivantes :</p>__N__<ul>__N__<li>__N__<p>pour vous identifier <span style=\"color:#888888;\">(email de de login et mot de passe hashé)</span></p>__N__</li>__N__<li>__N__<p>communiquer avec vous relativement aux produits vendus pour les vendeurs ou les produits achetés pour les acheteurs<span style=\"color:#888888;\"> (email)</span></p>__N__</li>__N__<li>__N__<p>améliorer votre expérience vendeur ou client et répondre à vos questions<span style=\"color:#888888;\"> (historique des achats ou vente)</span></p>__N__</li>__N__<li>__N__<p>remplir une obligation légale ou contractuelle <span style=\"color:#888888;\">(données de facturations)</span></p>__N__</li>__N__<li>__N__<p>mener des analyses et des recherches afin d\'améliorer nos services<span style=\"color:#888888;\"> (données anonymisés statistiques de consultation et navigation dans le site web).</span></p>__N__</li>__N__</ul>__N__<ul>__N__<li>__N__<p></p>__N__</li>__N__</ul>__N__<p>Nous traitons vos données personnelles afin de remplir les obligations découlant de la loi et / ou utiliser vos données personnelles pour les options prévues par la loi.</p>__N__<p>Nous nous réservons le droit d’anonymiser les données personnelles recueillies et d’utiliser ces données anonymisées sur le long terme.</p>__N__<p>Nous n’utiliserons des données en dehors du champ d’application de cette politique que si elles sont anonymisées.</p>__N__<p>Nous pourrions traiter vos données personnelles à d’autres fins qui ne sont pas mentionnées ici. Dans ce cas ce document fera l’objet d’une mise à jour.</p>__N__<p><br><br></p>__N__<h2 class=\"western\">Durées de stockage de vos données</h2>__N__<p>Pour les utilisateurs et utilisatrices qui s’enregistrent sur notre site, nous stockons les données personnelles indiquées dans leur profil. Tous les utilisateurs et utilisatrices peuvent voir, modifier ou supprimer leurs informations personnelles à tout moment.</p>__N__<p align=\"justify\">Nous sauvegardons aussi les informations de facturation aussi longtemps que nécessaire pour des raisons comptables ou d’autres obligations découlant de la loi, jusqu’à votre demande de suppression de vos données personnelles ou le temps légal pour les données de facturation.</p>__N__<h2 class=\"western\" align=\"justify\"><br><br></h2>__N__<h2 class=\"western\">Avec qui vos données personnelles sont partagées</h2>__N__<h3 class=\"western\">Les Vendeurs</h3>__N__<ul>__N__<li>__N__<p>Les données personnelles suivantes des acheteurs sont fournies aux vendeurs&nbsp;afin de permettre de fournir le service ou d’améliorer l’expérience client&nbsp;: email, nom et prénom, nom du module qui a été acheté avec son tarif et date d’achat.</p>__N__</li>__N__</ul>__N__<h3 class=\"western\">Les Acheteurs</h3>__N__<ul>__N__<li>__N__<p>Les données personnelles suivantes des vendeurs sont fournies aux acheteurs&nbsp;afin de permettre de fournir le service ou d’améliorer l’expérience client&nbsp;: email ou url de contact du support du module (si le vendeur fournit un support).</p>__N__</li>__N__</ul>__N__<h3 class=\"western\">Organisme de paiements</h3>__N__<p>Afin d’assurer le rôle de tiers de paiement, nous utilisons le service Stripe et Paypal. Nous transmettons à ces derniers l’email et adresse de l’acheteur. Les informations sur le mode de paiement ne sont pas stockées par DoliStore mais recueillies et stockées directement par Stripe ou Paypal qui nous informe du succès ou non des paiements.</p>__N__<h3 class=\"western\">Les Tiers et organismes légaux</h3>__N__<p>Nous divulguons vos données personnelles à des tiers ou à des fonctionnaires lorsque nous sommes légalement tenus de le faire.</p>__N__<h3 class=\"western\"><strong>Autres Tiers hors de l\'Espace Economique Européen</strong></h3>__N__<ul>__N__<li>__N__<p>Nous ne transmettons pas de données à d’autres tiers que ceux cités précédemment.</p>__N__<p>Lorsque nous transférons des informations personnelles à des pays ne faisant pas partie de l\'Espace économique européen (cas cités précédemment pour les vendeurs hors Europe ou les organismes de paiements), nous nous assurons que ces informations sont transférées en conformité avec la présente Notice et en application des lois applicables à la protection des données personnelles. Nous nous appuyons sur les décisions de la Commission européenne en matière d\'adéquation ou utilisons des contrats assortis de garanties standard publiés par la Commission européenne.</p>__N__</li>__N__</ul>__N__<h3 class=\"western\">Administrateurs et modérateurs</h3>__N__<p>La plateforme DoliStore est administré et modéré par les membres du Conseil d’Administration de l’association Dolibarr. Chaque membre du conseil d’administration a les droits d’accès et de modification des informations sur le profil des vendeurs, des acheteurs et sur la liste des ventes/achats.</p>__N__<p><br>The Dolibarr Association ne peut être tenu pour responsable de l\'utilisation qui pourrait être faite de ces données par les vendeurs ou tout autre tiers ayant autorisation d\'accès.</p>__N__<p></p>__N__<h2 class=\"western\">Comment nous sécurisons vos données</h2>__N__<p>Nous faisons de notre mieux pour protéger vos données personnelles.</p>__N__<h3 class=\"western\">Hébergement</h3>__N__<p>Le service est hébergé sous l\'offre Public Cloud d\'OVH SAS. R<span>CS Lille: 537 407 926,&nbsp;</span><span>2, rue Kellermann, 59100 Roubaix</span></p>__N__<h3 class=\"western\">Chiffrement des communications</h3>__N__<p>Nous utilisons des protocoles sécurisés pour la communication et le transfert de données (tel que le HTTPS). Nous utilisons l’anonymisation et le pseudonymisation lorsque cela est approprié.</p>__N__<h3 class=\"western\">Supervision</h3>__N__<p>Nous surveillons nos systèmes pour détecter d’éventuelles vulnérabilités et attaques.</p>__N__<h3 class=\"western\">Sauvegardes</h3>__N__<p>Des sauvegardes régulières sont automatisées et stockées chez notre hébergeur OVH sous forme de snapshot, mais aussi Google Drive sous forme de fichiers.</p>__N__<p>Même si nous faisons de notre mieux, nous ne pouvons pas garantir la sécurité totale de l’information. Cependant, nous nous engageons à informer les autorités compétentes des violations de données. Nous vous aviserons également s’il existe une menace pour vos droits ou intérêts. Nous ferons tout ce qui est raisonnablement possible pour prévenir les violations de la sécurité et aider les autorités en cas de violation.</p>__N__<h3 class=\"western\">Mot de passe</h3>__N__<p>Votre mot de passe est conservé de manière chiffré via un chiffrement non réversible (hash). Si vous avez un compte chez nous, sachez que vous devez garder votre nom d’utilisateur et votre mot de passe secrets.</p>__N__<h3 class=\"western\">Cookies et autres technologies que nous utilisons</h3>__N__<p>Nous utilisons des cookies et / ou des technologies similaires pour permettre la fonctionnalité de session utilisateur et obtenir des statistiques anonymes de navigations sur le site.</p>__N__<p>Un cookie est un petit fichier texte stocké sur votre ordinateur (en mémoire ou sur le disque). Les cookies stockent les informations utilisées pour aider à faire fonctionner les sites. Nous ne pouvons accéder qu’aux cookies créés par notre site. Vous pouvez contrôler vos cookies au niveau du navigateur. Choisir de désactiver les cookies peut vous empêcher d’utiliser certaines fonctions.</p>__N__<p><br><br></p>__N__<p><span><strong>Nous utilisons des cookies pour les finalités suivantes:</strong></span></p>__N__<ul>__N__<li>__N__<p>Cookies nécessaires: ces cookies sont nécessaires pour que vous puissiez utiliser certaines fonctionnalités importantes sur notre site Web, telles que la connexion et la persistance de votre sessions. Ces cookies ne collectent aucune information personnelle.</p>__N__</li>__N__<li>__N__<p>Cookies de fonctionnalité – ces cookies fournissent des fonctionnalités qui rendent l’utilisation de notre service plus pratique et permettent d’offrir des fonctionnalités plus personnalisées. Par exemple, ils peuvent se souvenir de votre nom et de votre adresse e-mail dans des formulaires de commentaire. Vous n’avez donc pas besoin de ressaisir cette information la prochaine fois que vous commentez.</p>__N__</li>__N__<li>__N__<p>Cookies analytiques: ces cookies sont utilisés pour suivre de manière anonyme l’utilisation et les performances de notre site Web et de nos services</p>__N__</li>__N__</ul>__N__<p><br><br></p>__N__<p>Vous pouvez supprimer les cookies stockés dans votre ordinateur via les paramètres de votre navigateur. Vous pouvez également contrôler certains cookies tiers en utilisant une plate-forme d’amélioration de la confidentialité, telle que&nbsp;<span><a href=\"http://optout.aboutads.info/#!/\" target=\"_blank\">optout.aboutads.info</a></span>&nbsp;ou&nbsp;<span><a href=\"http://www.youronlinechoices.com/\" target=\"_blank\">youronlinechoices.com</a></span>.&nbsp;Pour plus d’informations sur les cookies, visitez&nbsp;<span><a href=\"http://www.allaboutcookies.org/\" target=\"_blank\">allaboutcookies.org</a></span>.</p>__N__<p><br><br></p>__N__<h2 class=\"western\">Information de contact - DPO</h2>__N__<p><span><span><strong>Le responsable du traitement des données personnelles (DPO) est le&nbsp;Président de l\'association Dolibarr. </strong></span><span><strong>S</strong></span><span><strong>on nom </strong></span><span><strong>est indiqué </strong></span><span><strong>sur cette page&nbsp;:&nbsp;</strong></span></span></p>__N__<p><span><span><strong><a href=\"https://wiki.dolibarr.org/index.php/Office_and_Board_Members\">https://wiki.dolibarr.org/index.php/Office_and_Board_Members</a></strong></span></span></p>__N__<p></p>__N__<p>Toute demande concernant vos données personnelles peut être faite par mail à&nbsp;<span><b><a href=\"mailto:dolistore@dolibarr.org\">dolistore@dolibarr.org</a></b></span></p>__N__<p><br><br></p>__N__<h2 class=\"western\">Modifications de cette politique de confidentialité</h2>__N__<p>Nous nous réservons le droit d’apporter des modifications à cette politique de confidentialité.<br>Dernière modification effectuée le 14/05/2024</p>__N__<p></p>__N____N____N__                    	__N__                    </div>__N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__', '', 0);

-- Page ID 28__+MAX_llx_website_page__ - Aliases message-de-bienvenue --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(28__+MAX_llx_website_page__, 54__+MAX_llx_website_page__, __WEBSITE_ID__, 'message-de-bienvenue', '', 'message de bienvenue', 'message de bienvenue', 'fr', '', '', '1', '2024-05-12 10:58:10', '2025-01-14 01:38:43', null, '', 'banner', '', '<section id=\"welcome_section\" contenteditable=\"true\">__N__  <div id=\"editorial_block_center\" class=\"editorial_block\">__N__    <a href=\"https://www.dolibarr.org\" title=\"\">__N__      <img class=\"img-responsive\"__N__        src=\"viewimage.php?modulepart=medias&entity=1&file=image/__WEBSITE_KEY__/img/dolibarr_logo.png\"__N__        alt=\"\" width=\"578\" height=\"160\" />__N__    </a>__N__    <div class=\"rte\">__N__        <br>__N__        <p>Ce site est la place de marché officielle pour trouver des modules et extensions au projet <a__N__                href=\"http://www.dolibarr.fr\" target=\"_blank\">Dolibarr ERP/CRM</a>.</p>__N__        <ul>__N__            <li><span style=\"color: #a45931;\"><strong>Si vous êtes utilisateur de Dolibarr</strong></span> :</li>__N__        </ul>__N__        <p>Vous pouvez rechercher des fonctionnalités supplémentaires et trouver des modules ou extensions diverses.__N__            Naviguer dans les categories pour trouver votre extension ou utiliser le formulaire de recherche en haut de la__N__            page...</p>__N__        <p>La plupart des extensions/modules sont gratuits, certains sont payants (Les adhérents à l\'<a__N__                title=\"Dolibarr foundation\" href=\"https://asso.dolibarr.org\" target=\"_blank\">association Dolibarr</a>__N__            peuvent bénéficer de 20% de réduction si la demande est faite à l\'association une fois le compte DoliStore créé__N__            et avant l\'achat)</p>__N__        <ul>__N__            <li><strong><span style=\"color: #a45931;\">Si vous êtes développeur :</span></strong></li>__N__        </ul>__N__        <p>Vous pouvez soumettre vos modules à la vente au prix de votre choix (ou gratuit). Pour cela, il vous suffit de__N__            créer un compte, et soumettre votre module.</p>__N__        <p></p>__N__    </div>__N__  </div>__N__</section>', '', 0);

-- Page ID 29__+MAX_llx_website_page__ - Aliases messaggio-di-benvenuto --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(29__+MAX_llx_website_page__, 54__+MAX_llx_website_page__, __WEBSITE_ID__, 'messaggio-di-benvenuto', '', 'messaggio di benvenuto', 'messaggio di benvenuto', 'it', '', '', '1', '2024-05-12 11:59:51', '2025-01-13 19:56:02', null, '', 'banner', '', '<section id=\"welcome_section\" contenteditable=\"true\">__N__  <div id=\"editorial_block_center\" class=\"editorial_block\">__N__    <a href=\"https://www.dolibarr.org\" title=\"\">__N__      <img class=\"img-responsive\"__N__        src=\"viewimage.php?modulepart=medias&entity=1&file=image/__WEBSITE_KEY__/img/dolibarr_logo.png\"__N__        alt=\"\" width=\"578\" height=\"160\" />__N__    </a>__N__    <div class=\"rte\">__N__        <br>__N__        <p>Questo è il marketplace ufficiale dove trovare moduli e plugin per&nbsp;<a href=\"https://www.dolibarr.org\" target=\"_blank\">Dolibarr ERP/CRM</a>.</p>__N__        <ul>__N__        <li>Se sei un utente Dolibarr:</li>__N__        </ul>__N__        <p>Puoi cercare funzionalità aggiuntive e trovare vari moduli o estensioni. Sfoglia&nbsp;le categorie o usa il modulo di ricerca in alto&nbsp;per trovare il plugin&nbsp;adatto alle tue necessità...</p>__N__        <p>Molti modulsono gratuiti, altri sono a pagamento (I soci della <a href=\"https://asso.dolibarr.org\">Dolibarr Foundation</a>&nbsp;hanno diritto ad uno sconto del 20% facendo richiesta all\'associazione dopo aver creato il proprio account DoliStore. Per ricevere lo sconto del 20% bisogna attendere l\'approvazione della richiesta prima di effettuare gli acquisti)</p>__N__        <ul>__N__        <li><strong>Se sei uno sviluppatore:</strong></li>__N__        </ul>__N__        <p>Puoi pubblicare i tuoi moduli stabilendo&nbsp;tu il prezzo (se è gratis ancora meglio). Ti basta creare un account e inviare il tuo modulo usando il menu a sinistra.</p>__N__        <p></p>__N__    </div>__N__  </div>__N__</section>', '', 0);

-- Page ID 30__+MAX_llx_website_page__ - Aliases myaccount --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(30__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'myaccount', '', 'myaccount', '', '', '', '', '1', '2024-03-18 12:14:17', '2025-01-13 23:01:39', null, '', 'page', '', '<?php__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__includeContainer(\'_library_page_lib.php\', 1);__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__$action = GETPOST(\'action\', \'alpha\');__N__session_start(); // start session__N__if(!empty($action) && $action == \"logout\"){__N__    // Update Order details before unset session and logout__N__    ws_refreshOrder();__N__    unset($_SESSION[\'user\']);__N__    redirectToContainer(\'index\');__N__}__N__if(empty($_SESSION[\'user\'][\'id_user\'])){__N__    redirectToContainer(\'login-register\');__N__}__N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php__N__        includeContainer(\'header\');__N__        $__PAGE__TITLE__ = $weblangs->trans(\"myAccountPageTitle\");__N__    ?>__N__  </div>__N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"myAccount\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__            <div id=\"my-account\">__N__                <h1 class=\"page-heading\"><?php print $weblangs->trans(\"myAccount\"); ?></h1>__N__                <p class=\"info-account\"><?php print $weblangs->trans(\"welcomeToYourAccount\"); ?></p>__N__                <div class=\"row addresses-lists\">__N__                	<div class=\"col-xs-12 col-sm-6 col-lg-6\">__N__                		<ul class=\"myaccount-link-list\">__N__                		    <li><a href=\"account-information.php\" title=\"<?php print $weblangs->trans(\"personalInfo\"); ?>\"><i class=\"icon-user\"></i><span><?php print $weblangs->trans(\"personalInfo\"); ?></span></a></li>__N__                            <li><a href=\"order-history.php\" title=\"<?php print $weblangs->trans(\"orderHistoryDetails\"); ?>\"><i class=\"icon-list-ol\"></i><span><?php print $weblangs->trans(\"orderHistoryDetails\"); ?></span></a></li>__N__                        </ul>__N__                	</div>__N__                	<div class=\"col-xs-12 col-sm-6 col-lg-6\">__N__                        <ul class=\"myaccount-link-list\">__N__                		    <li><a href=\"edit-module-product.php\" title=\"<?php print $weblangs->trans(\"newModuleProduct\"); ?>\"><i class=\"icon-add\"></i><span><?php print $weblangs->trans(\"newModuleProduct\"); ?></span></a></li>__N__                		    <li><a href=\"manage-products.php\" title=\"<?php print $weblangs->trans(\"manageProducts\"); ?>\"><i class=\"icon-manage\"></i><span><?php print $weblangs->trans(\"manageProducts\"); ?></span></a></li>__N__                            <li><a href=\"income-payments.php\" title=\"<?php print $weblangs->trans(\"incomeAndPayments\"); ?>\"><i class=\"icon-euro\"></i><span><?php print $weblangs->trans(\"incomeAndPayments\"); ?></span></a></li>__N__                        </ul>__N__                    </div>__N__                </div>__N__                <ul class=\"footer_links clearfix\">__N__                    <li><a class=\"btn btn-default button button-small\" href=\"https://www.dolistore.com/\" title=\"<?php print $weblangs->trans(\"Home\"); ?>\"><span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"Home\"); ?></span></a></li>__N__                </ul>__N__            </div>__N__		</div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 31__+MAX_llx_website_page__ - Aliases myproducts --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(31__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'myproducts', '', 'myproducts', '', '', '', '', '1', '2024-06-30 13:45:26', '2024-06-30 15:45:26', null, '', 'page', '', '', '', 0);

-- Page ID 32__+MAX_llx_website_page__ - Aliases nota-legale-chi-siamo --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(32__+MAX_llx_website_page__, 3__+MAX_llx_website_page__, __WEBSITE_ID__, 'nota-legale-chi-siamo', '', 'Nota legale - Chi siamo', '', 'it', '', '', '1', '2024-05-06 19:20:07', '2025-01-14 00:25:11', null, '', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N__		__N__		<!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__        <!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Legal_notice_section\" contenteditable=\"true\">__N____N____N____N__<div class=\"rte\">__N__		<h3>Presentazione</h3>__N__<p>L\'associazione Dolibarr offre la piattaforma DoliStore.com per aiutare venditori e acquirenti a incontrarsi. Solo il servizio di visibilità dei prodotti venduti è fornito dalla fondazione. La fondazione non garantisce nulla sulla qualità dei prodotti acquistati dal cliente.</p>__N__<p>L\'associazione Dolibarr, attraverso DoliStore, raccoglie per conto degli autori/editori i pagamenti dei beni venduti e gestisce la distribuzione dei fondi spettanti. A questo proposito, l\'associazione agisce sotto l\'esenzione di autorizzazione dell\'istituzione di pagamento prevista dall\'articolo L521-3 I 2° del codice monetario e finanziario.</p>__N__<p>L\'associazione Dolibarr è un\'associazione francese (Legge 1901) creata per contribuire alla promozione e allo sviluppo del software ERP e CRM Open Source Dolibarr.</p>__N__<p><strong>Informazioni legali sulla fondazione:</strong></p>__N__<ul>__N__<li>WALDEC: W452006878</li>__N__<li>SIRÈNE: 52033993800018</li>__N__<li>NAF: 9499Z</li>__N__</ul>__N__<p>Maggiori informazioni sulla pagina <a href=\"https://asso.dolibarr.org/index.php/Dolibarr_foundation\">https://asso.dolibarr.org/index.php/Dolibarr_foundation</a>.</p>__N__<h3>Principi di Protezione dei Dati</h3>__N__<p>Utilizzando il sito DoliStore.com, accetti il trattamento dei tuoi dati personali come descritto in questa politica sulla privacy.</p>__N__<p><strong>I nostri impegni relativi ai principi di protezione dei dati sono i seguenti:</strong></p>__N__<ul>__N__<li><strong>Trattamento legale, equo e trasparente:</strong> Le nostre attività di trattamento dei dati hanno motivi legittimi. Consideriamo sempre i tuoi diritti prima di trattare dati personali.</li>__N__<li><strong>Limitazione della finalità:</strong> Il trattamento dei dati è limitato allo scopo per cui i dati personali sono stati raccolti.</li>__N__<li><strong>Minimizzazione dei dati:</strong> Raccogliamo e trattiamo solo la quantità minima di dati personali necessari per qualsiasi scopo.</li>__N__<li><strong>Periodo di conservazione:</strong> Il trattamento è limitato a un periodo di tempo specifico. Non conserveremo i tuoi dati personali più a lungo del necessario.</li>__N__<li><strong>Integrità:</strong> Facciamo del nostro meglio per garantire l\'accuratezza, l\'integrità e la riservatezza dei dati.</li>__N__</ul>__N__<h3>Definizione dei Diritti sui Dati Personali</h3>__N__<ul>__N__<li><strong>Diritto all\'informazione:</strong> Devi sapere se i tuoi dati personali sono in corso di trattamento; quali dati vengono raccolti, da dove provengono e perché e da chi vengono trattati.</li>__N__<li><strong>Diritto di accesso:</strong> Hai il diritto di accedere ai dati raccolti su di te. Ciò include il diritto di richiedere e ottenere una copia dei tuoi dati personali raccolti.</li>__N__<li><strong>Diritto di rettifica:</strong> Hai il diritto di richiedere la rettifica o la cancellazione dei tuoi dati personali che sono inesatti o incompleti.</li>__N__<li><strong>Diritto di cancellazione:</strong> In determinate circostanze, puoi richiedere che i tuoi dati personali vengano cancellati dai nostri archivi.</li>__N__<li><strong>Diritto alla restrizione o all\'opposizione al trattamento:</strong> Sotto determinate condizioni, hai il diritto di limitare o opporti al trattamento dei tuoi dati personali.</li>__N__<li><strong>Diritto alla portabilità dei dati:</strong> Hai il diritto di ottenere i tuoi dati personali in un formato leggibile da una macchina.</li>__N__<li><strong>Diritto di ritirare il consenso:</strong> Hai il diritto di ritirare qualsiasi consenso dato per il trattamento dei tuoi dati personali.</li>__N__</ul>__N__<h3>Dati che Raccogliamo</h3>__N__<p><strong>Informazioni fornite dai venditori:</strong></p>__N__<ul>__N__<li>Indirizzo email, nome, cognome, nome della società, numero aziendale o fiscale (numero di IVA intracomunitaria), informazioni di fatturazione.</li>__N__</ul>__N__<p><strong>Informazioni fornite dagli acquirenti:</strong></p>__N__<ul>__N__<li>Indirizzo email, nome, cognome, nome della società, numero aziendale o fiscale (numero di IVA intracomunitaria), informazioni di fatturazione, stato di membro o meno dell\'associazione.</li>__N__</ul>__N__<p><strong>Nota:</strong> Le informazioni di pagamento (carta di credito o ID del partner di pagamento) non sono raccolte né conosciute da DoliStore, poiché fornite direttamente al fornitore di pagamento.</p>__N__<p><strong>Informazioni raccolte automaticamente:</strong></p>__N__<ul>__N__<li>Includono le informazioni memorizzate automaticamente dai cookie di sessione o di analisi statistica (basato su Google e Matomo).</li>__N__<li>Includono anche la cronologia degli acquisti.</li>__N__</ul>__N__<p><strong>Informazioni dai partner:</strong></p>__N__<ul>__N__<li>Non raccogliamo informazioni dai partner.</li>__N__</ul>__N__<p><strong>Link ad altri siti:</strong></p>__N__<ul>__N__<li>Le pagine del sito possono includere contenuti incorporati (ad esempio video, immagini, articoli, link). Il contenuto incorporato da altri siti si comporta allo stesso modo come se il visitatore si recasse su quell\'altro sito. Questi siti web potrebbero raccogliere dati su di te (indirizzo IP, utilizzo dei cookie, strumenti di tracciamento di terze parti) o tracciare le tue interazioni con tali contenuti incorporati se hai un account e sei connesso al loro sito web.</li>__N__</ul>__N__<h3>Uso dei Tuoi Dati Personali</h3>__N__<p>Utilizziamo i tuoi dati personali per i seguenti scopi:</p>__N__<ul>__N__<li>Per identificarti (email di accesso e password hashata)</li>__N__<li>Per comunicare con te relativamente ai prodotti venduti per i venditori o ai prodotti acquistati per gli acquirenti (email)</li>__N__<li>Per migliorare la tua esperienza come venditore o cliente e rispondere alle tue domande (cronologia degli acquisti o delle vendite)</li>__N__<li>Per adempiere a un obbligo legale o contrattuale (dati di fatturazione)</li>__N__<li>Per condurre analisi e ricerche al fine di migliorare i nostri servizi (dati anonimi di statistiche di consultazione e navigazione nel sito web).</li>__N__</ul>__N__<p>Trattiamo i tuoi dati personali per adempiere agli obblighi derivanti dalla legge e/o per utilizzare i tuoi dati personali per le opzioni previste dalla legge. Ci riserviamo il diritto di anonimizzare i dati personali raccolti e di utilizzare tali dati anonimi a lungo termine. Utilizzeremo i dati al di fuori dell\'ambito di questa politica solo se sono anonimizzati.</p>__N__<p>Potremmo trattare i tuoi dati personali per altri scopi non menzionati qui. In tal caso, questo documento sarà aggiornato.</p>__N__<h3>Periodi di Conservazione dei Tuoi Dati</h3>__N__<p>Per gli utenti che si registrano sul nostro sito, memorizziamo i dati personali indicati nel loro profilo. Tutti gli utenti possono vedere, modificare o eliminare le loro informazioni personali in qualsiasi momento.</p>__N__<p>Conserviamo anche le informazioni di fatturazione per il tempo necessario per ragioni contabili o per altri obblighi derivanti dalla legge, fino alla tua richiesta di eliminazione dei dati personali o per il tempo legale per i dati di fatturazione.</p>__N__<h3>Con Chi Condividiamo i Tuoi Dati Personali</h3>__N__<p><strong>Venditori:</strong> I seguenti dati personali degli acquirenti sono forniti ai venditori per facilitare la fornitura del servizio o migliorare l\'esperienza del cliente: email, nome e cognome, nome del modulo acquistato, prezzo e data di acquisto.</p>__N__<p><strong>Acquirenti:</strong> I seguenti dati personali dei venditori sono forniti agli acquirenti per facilitare la fornitura del servizio o migliorare l\'esperienza del cliente: email o URL di contatto del supporto del modulo (se il venditore fornisce supporto).</p>__N__<p><strong>Entità di pagamento:</strong> Per garantire il ruolo di terzi nel pagamento, utilizziamo i servizi di Stripe e Paypal. Forniamo loro l\'email e l\'indirizzo dell\'acquirente. Le informazioni sul metodo di pagamento non sono memorizzate da DoliStore ma raccolte e memorizzate direttamente da Stripe o Paypal, che ci informano sul successo o meno dei pagamenti.</p>__N__<p><strong>Entità legali:</strong> Divulghiamo i tuoi dati personali a terzi o a funzionari quando siamo legalmente obbligati a farlo.</p>__N__<p><strong>Altri terzi al di fuori dello Spazio Economico Europeo:</strong> Non trasmettiamo dati ad altri terzi che non siano quelli citati in precedenza. Quando trasferiamo informazioni personali a paesi che non fanno parte dello Spazio Economico Europeo (casi menzionati in precedenza per i venditori al di fuori dell\'Europa o per le entità di pagamento), ci assicuriamo che tali informazioni siano trasferite in conformità con questa Informativa e in applicazione delle leggi applicabili alla protezione dei dati personali. Facciamo affidamento sulle decisioni di adeguatezza della Commissione Europea o utilizziamo contratti con garanzie standard pubblicati dalla Commissione Europea.</p>__N__<p><strong>Amministratori e moderatori:</strong> La piattaforma DoliStore è amministrata e moderata dai membri del Consiglio di Amministrazione dell\'associazione Dolibarr. Ogni membro del consiglio di amministrazione ha i diritti di accesso e modifica delle informazioni sul profilo dei venditori, degli acquirenti e sulla lista delle vendite/acquisti.</p>__N__<p></p>__N__<p>L\'Associazione Dolibarr non può essere ritenuta responsabile dell\'uso che potrebbe essere fatto di questi dati da parte dei venditori o di qualsiasi altro terzo con accesso autorizzato.</p>__N__<p></p>__N__<h3>Come Proteggiamo i Tuoi Dati</h3>__N__<p>Facciamo del nostro meglio per proteggere i tuoi dati personali.</p>__N__<p><strong>Crittografia delle comunicazioni:</strong> Utilizziamo protocolli sicuri per la comunicazione e il trasferimento dei dati (come HTTPS). Utilizziamo l\'anonimizzazione e la pseudonimizzazione quando appropriato.</p>__N__<p><strong>Monitoraggio:</strong> Monitoriamo i nostri sistemi per rilevare eventuali vulnerabilità e attacchi.</p>__N__<p><strong>Backup:</strong> I backup regolari sono automatizzati.</p>__N__<p>Anche se facciamo del nostro meglio, non possiamo garantire la sicurezza totale delle informazioni. Tuttavia, ci impegniamo a informare le autorità competenti delle violazioni dei dati. Ti informeremo anche se c\'è una minaccia per i tuoi diritti o interessi. Faremo tutto il possibile per prevenire violazioni della sicurezza e assistere le autorità in caso di violazione.</p>__N__<p><strong>Password:</strong> La tua password è conservata in modo crittografato tramite crittografia non reversibile (hash). Se hai un account con noi, devi mantenere segreti il tuo nome utente e la tua password.</p>__N__<h3>Cookies e Altre Tecnologie che Usiamo</h3>__N__<p>Utilizziamo cookie e/o tecnologie simili per abilitare la funzionalità di sessione utente e ottenere statistiche anonime di navigazione sul sito.</p>__N__<p>Un cookie è un piccolo file di testo memorizzato sul tuo computer (in memoria o su disco). I cookie memorizzano informazioni utilizzate per aiutare il funzionamento dei siti. Possiamo accedere solo ai cookie creati dal nostro sito. Puoi controllare i tuoi cookie a livello di browser. La scelta di disabilitare i cookie potrebbe impedire l\'uso di alcune funzionalità.</p>__N__<p><strong>Utilizziamo cookie per i seguenti scopi:</strong></p>__N__<ul>__N__<li><strong>Cookie necessari:</strong> Questi cookie sono necessari per utilizzare funzioni essenziali nel nostro sito, come il login e la persistenza della sessione. Questi cookie non raccolgono informazioni personali.</li>__N__<li><strong>Cookie di funzionalità:</strong> Questi cookie forniscono funzionalità che rendono il nostro servizio più conveniente e permettono funzionalità più personalizzate. Ad esempio, possono ricordare il tuo nome e il tuo indirizzo email nei moduli di commento, così non devi reinserire queste informazioni la prossima volta.</li>__N__<li><strong>Cookie analitici:</strong> Questi cookie sono utilizzati per tracciare l\'uso e le prestazioni anonime del nostro sito web e servizi.</li>__N__</ul>__N__<p>Puoi eliminare i cookie memorizzati sul tuo computer attraverso le impostazioni del browser. Puoi anche controllare alcuni cookie di terze parti utilizzando una piattaforma di miglioramento della privacy, come optout.aboutads.info o youronlinechoices.com. Per maggiori informazioni sui cookie, visita allaboutcookies.org.</p>__N__<h3>Informazioni di Contatto - DPO</h3>__N__<p>Il responsabile del trattamento dei dati personali (DPO) è il Presidente dell\'associazione Dolibarr. Il suo nome è indicato su questa pagina: <a href=\"https://wiki.dolibarr.org/index.php/Office_and_Board_Members\">https://wiki.dolibarr.org/index.php/Office_and_Board_Members</a>.</p>__N__<p>Qualsiasi richiesta riguardante i tuoi dati personali può essere fatta via email a <a>dolistore@dolibarr.org</a>.</p>__N__<h3>Modifiche a Questa Politica sulla Privacy</h3>__N__<p>Ci riserviamo il diritto di apportare modifiche a questa politica sulla privacy. Ultima modifica effettuata il 14/05/2024.</p>__N__	</div>__N__				        __N__				        __N____N____N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 33__+MAX_llx_website_page__ - Aliases order --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(33__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'order', '', 'order', '', '', '', '', '1', '2024-03-26 14:44:16', '2025-01-15 22:56:43', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP __N__?>__N__<div id=\"page\">__N__	<div class=\"header-container\">__N__		<?php includeContainer(\'header\'); ?>__N__	</div>__N__	<div class=\"columns-container\">__N__		<div id=\"columns\" class=\"container\">__N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"<?php print $weblangs->trans(\"backHome\"); ?>\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"yourShoppingCart\"); ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__			<div id=\"slider_row\" class=\"row\">__N__				<div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__			</div>__N__			<div class=\"row\">__N__				<!-- include lefet sidebar container -->__N__				<?php includeContainer(\'sidebar\'); ?>__N__				<div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__					<div class=\"clearfix\">__N__						<h1 class=\"page-heading\"><?php print $weblangs->trans(\"cartSummary\"); ?>__N__						<span class=\"heading-counter\"><?php print $weblangs->trans(\"yourCartContains\"); ?>:__N__    						<?php if ($_SESSION[\'products\']): ?>__N__                                <span class=\"ajax_cart_no_product\"><?php print count($_SESSION[\'products\']); ?></span> <?php if(count($_SESSION[\'products\']) > 1){ print $weblangs->trans(\"products\");}else{ print $weblangs->trans(\"product\");} ?>__N__                            <?php else: ?>__N__                                <span id=\"ajax_cart_no_product\">0</span> <?php print $weblangs->trans(\"product\"); ?>__N__                            <?php endif ?>__N__						</span>__N__						</h1>__N__						<?php if (!$_SESSION[\'products\']): ?>__N__                            <p class=\"alert alert-warning\"><?php print $weblangs->trans(\"cartIsEmpty\"); ?></p>__N__                        <?php else: ?>__N__							<div id=\"order-detail-content\" class=\"table_block table-responsive\">__N__							    __N__							    <?php if (getDolGlobalInt(\"MARKETPLACE_BLOCK_SALES\")): ?>__N__                                    <div class=\"block-sells-notification\">__N__                                        <?php print $weblangs->trans(\"marketplacePurchasesDisabled\"); ?>__N__                                    </div>__N__                                <?php endif ?>__N__                                __N__								<table id=\"cart_summary\" class=\"table table-bordered stock-management-off\">__N__									<thead>__N__										<tr>__N__											<th class=\"cart_product first_item\"><?php print $weblangs->trans(\"product\"); ?></th>__N__											<th class=\"cart_description item\"><?php print $weblangs->trans(\"description\"); ?></th>__N__											<th class=\"cart_unit item\"><?php print $weblangs->trans(\"unitPrice\"); ?></th>__N__											<th class=\"cart_quantity item\"><?php print $weblangs->trans(\"quantity\"); ?></th>__N__											<th class=\"cart_total item\"><?php print $weblangs->trans(\"total\"); ?></th>__N__											<th class=\"cart_delete last_item\">&nbsp;</th>__N__										</tr>__N__									</thead>__N__									__N__									<tbody>__N__                                        <?php $total = 0; ?>__N__                                        <?php foreach ($_SESSION[\'products\'] as $cart_product): ?>__N__                                            <tr id=\"product_<?php print $cart_product[\'product_id\']; ?>\" class=\"cart_item\">__N__    											<td class=\"cart_product\">__N__    												<a href=\"product.php?id=<?php print $cart_product[\'product_id\']; ?>\"><img src=\"<?php print $cart_product[\'product_thumb\']; ?>\" id=\"product_img_<?php print $cart_product[\'product_id\']; ?>\" alt=\"<?php print $cart_product[\'product_name\']; ?>\" width=\"98\" height=\"98\"></a>__N__    											</td>__N__    											<td class=\"cart_description\">__N__    												<p class=\"product-name\"><a href=\"product.php?id=<?php print $cart_product[\'product_id\']; ?>\"><?php print $cart_product[\'product_name\']; ?></a></p>__N__    												<small class=\"cart_ref\"><?php print $weblangs->trans(\"sku\"); ?> : <?php print $cart_product[\'product_ref\']; ?></small>__N__    											</td>__N__    											<td class=\"cart_unit\" data-title=\"Unit price\">__N__    												<span class=\"price\" id=\"product_price\"><span class=\"price\" id=\"product_price_<?php print $cart_product[\'product_id\']; ?>\"><?php print price($cart_product[\'product_price\']); ?></span> €</span>__N__    											</td>__N__    __N__    											<td class=\"cart_quantity text-center\">__N__    __N__    												<input type=\"hidden\" value=\"1\" name=\"quantity_<?php print $cart_product[\'product_id\']; ?>_hidden\">__N__    												<input size=\"2\" type=\"text\" autocomplete=\"off\" class=\"cart_quantity_input form-control grey\" value=\"<?php print $cart_product[\'product_qty\']; ?>\" name=\"quantity_<?php print $cart_product[\'product_id\']; ?>\">__N__    												<div class=\"cart_quantity_button clearfix\">__N__    													<a rel=\"nofollow\" class=\"product_quantity_down btn btn-default button-minus button-minus-order\" id=\"cart_quantity_down\" data-field-qty=\"quantity_<?php print $cart_product[\'product_id\']; ?>\" data-ref=\"<?php print $cart_product[\'product_id\']; ?>\" href=\"\" title=\"<?php print $weblangs->trans(\"subtract\"); ?>\">__N__    														<span><i class=\"icon-minus\"></i></span>__N__    													</a>__N__    													<a rel=\"nofollow\" class=\"product_quantity_up btn btn-default button-plus button-plus-order\" id=\"cart_quantity_up\" data-field-qty=\"quantity_<?php print $cart_product[\'product_id\']; ?>\" data-ref=\"<?php print $cart_product[\'product_id\']; ?>\" href=\"\" title=\"<?php print $weblangs->trans(\"add\"); ?>\"><span><i class=\"icon-plus\"></i></span></a>__N__    												</div>__N__    											</td>__N__    											<td class=\"cart_total\" data-title=\"Total\">__N__    												<span class=\"price\"><span class=\"total_line\" id=\"total_product_price_<?php print $cart_product[\'product_id\']; ?>\"><?php print price($cart_product[\'product_price\']*$cart_product[\'product_qty\']); ?></span> €</span>__N__    											</td>__N__    											<td class=\"cart_delete text-center\" data-title=\"Delete\">__N__    												<div>__N__    													<a rel=\"nofollow\" title=\"<?php print $weblangs->trans(\"delete\"); ?>\" class=\"cart_quantity_delete ajax_cart_block_remove_link\" data-code=\"<?php print $cart_product[\'product_id\']; ?>\" href=\"\"><i class=\"icon-trash\"></i></a>__N__    												</div>__N__    											</td>__N__    										</tr>__N__										__N__                                            	__N__                                            <?php__N__                                                $subtotal = ($cart_product[\'product_price\'] * $cart_product[\'product_qty\']);__N__                                                $total = ($total + $subtotal);__N__                                            ?>__N__                                        <?php endforeach ?>__N__										__N__									</tbody>__N__									<tfoot>__N__										<tr class=\"cart_total_price\">__N__											<td rowspan=\"5\" colspan=\"2\" id=\"cart_voucher\" class=\"cart_voucher\">__N__											</td>__N__											<td colspan=\"2\" class=\"text-right\"><?php print $weblangs->trans(\"totalProductsTaxIncl\"); ?></td>__N__											<td colspan=\"2\" class=\"price\" ><span id=\"total_product\"><?php print price($total); ?></span> €</td>__N__										</tr>__N__										<tr class=\"cart_total_delivery\">__N__											<td colspan=\"2\" class=\"text-right\"><?php print $weblangs->trans(\"Shipping\"); ?></td>__N__											<td colspan=\"2\" class=\"price\" id=\"total_shipping\"><?php print $weblangs->trans(\"freeShipping\"); ?></td>__N__										</tr>__N____N__										<tr class=\"cart_total_price\">__N__											<td colspan=\"2\" class=\"total_price_container text-right\">__N__												<span><?php print $weblangs->trans(\"total\"); ?></span>__N__											</td>__N__											<td colspan=\"2\" class=\"price\" id=\"total_price_container\">__N__												<span><span id=\"total_price\"><?php print price($total); ?></span> €</span>__N__											</td>__N__										</tr>__N__									</tfoot>__N__								</table>__N__							</div>__N____N__							<p class=\"cart_navigation clearfix\">__N__							    <?php if (!getDolGlobalInt(\"MARKETPLACE_BLOCK_SALES\") || in_array($_SESSION[\'user\'][\'id_user\'], array_map(\'trim\', explode(\',\', getDolGlobalString(\"MARKETPLACE_ADMIN_USER_IDS\"))))): ?>__N__                                    <a href=\"payment.php\" class=\"button btn btn-default standard-checkout button-medium\" title=\"<?php print $weblangs->trans(\"LoginCheckout\"); ?>\">__N__    									<span><?php print $retVal = (empty($_SESSION[\'user\'][\'id_user\'])) ? $weblangs->trans(\"LoginCheckout\") : $weblangs->trans(\"proceedToCheckout\") ; ?><i class=\"icon-chevron-right right\"></i></span>__N__    								</a>__N__                                <?php endif ?>__N____N__								<a href=\"\" onclick=\"history.go(-1)\" class=\"button-exclusive btn btn-default\" title=\"<?php print $weblangs->trans(\"continueShopping\"); ?>\">__N__									<i class=\"icon-chevron-left\"></i><?php print $weblangs->trans(\"continueShopping\"); ?>__N__								</a>__N__							</p>__N____N____N__						<?php endif ?>__N__					</div>__N__				</div>__N__			</div>__N__		</div>__N__	</div>__N__	<!-- .columns-container -->__N__	<div class=\"footer-container\">__N__		<?php includeContainer(\'footer\'); ?>__N__	</div>__N__</div>', '', 0);

-- Page ID 34__+MAX_llx_website_page__ - Aliases order-details --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(34__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'order-details', '', 'order details', '', '', '', '', '1', '2024-04-24 10:40:25', '2025-01-15 11:06:39', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N__include_once DOL_DOCUMENT_ROOT.\'/ecm/class/ecmfiles.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/security2.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/lib/date.lib.php\';__N____N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__$order_ref = GETPOST(\'ref\', \'alpha\');__N____N__// If not login redirect to login.__N__if(empty($_SESSION[\'user\'][\'id_user\'])){__N__    redirectToContainer(\'login-register\');__N__}__N____N__// Check if all necessary parameters are passed.__N__if (empty($order_ref)) {__N__	redirectToContainer(\'404\');__N__    exit;__N__}__N____N__// Get Account ID.__N__$user_id = $_SESSION[\'user\'][\'id_user\'];__N__$customer_account = new SocieteAccount($db);__N__$result = $customer_account->fetch($user_id);__N__$customer_id = $customer_account->fk_soc;__N____N__// Get customer ID.__N__$customer = new Societe($db);__N__$result = $customer->fetch($customer_id);__N____N__// To render view of another user__N__if (!empty(GETPOST(\'id_customer\'))) {__N__    // Only for members with a specific role__N__    require_once DOL_DOCUMENT_ROOT.\"/adherents/class/adherent.class.php\";__N__    $membre = new Adherent($db);__N__    $result = $membre->fetch(\'\', 0, $customer_id);__N__    __N__    $adminsCat = new Categorie($db);__N__	$adminsCat->fetch(1);__N__	__N__	$result = $adminsCat->containsObject(\'member\', $membre->id);__N__	if ($result > 0) {__N__	    __N__        $customer_id = GETPOST(\'id_customer\');__N__	}__N__}__N____N__// Check if there is a paid order for this customer with the sent information.__N__$sql_find_order = \"SELECT c.rowid, c.ref, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__$sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__$sql_find_order .= \"WHERE c.fk_soc = \" . $customer_id . \" and c.ref = \'\" . $order_ref . \"\' and c.fk_statut= 1 and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__$sql_find_order .= \"limit 1\";__N__$find_order = $db->query($sql_find_order);__N__$obj_order = $db->fetch_object($find_order);__N____N__if (empty($obj_order)) {__N__    redirectToContainer(\'404\');__N__} else {__N__    // Get order object__N__    $order_ref = $obj_order->ref;__N__    $order_object = new Commande($db);__N__    $result = $order_object->fetch(\'\', $order_ref);__N__    if ($result < 0) {__N__    	redirectToContainer(\'404\');__N__    }__N__    __N__    // Get invoice object__N__    $order_object->fetchObjectLinked();__N__    __N__    if (!empty($order_object->linkedObjects[\'facture\'])) {__N__        $linked_invoices = $order_object->linkedObjects[\'facture\'];__N__        $last_invoice_object = $linked_invoices[reset(array_keys($linked_invoices))];__N__        if ($last_invoice_object instanceof Facture) {__N__            $invoice_object = $last_invoice_object;__N__        }__N__        __N__        // Get payment details__N__        $sql_payment_details = \"SELECT c.libelle AS payment_method \";__N__        $sql_payment_details .= \"FROM \";__N__        $sql_payment_details .= \"\".MAIN_DB_PREFIX.\"paiement_facture AS pf \";__N__        $sql_payment_details .= \"JOIN \".MAIN_DB_PREFIX.\"paiement AS p ON pf.fk_paiement = p.rowid \";__N__        $sql_payment_details .= \"LEFT JOIN \".MAIN_DB_PREFIX.\"c_paiement AS c ON p.fk_paiement = c.id \";__N__        $sql_payment_details .= \"WHERE \";__N__        $sql_payment_details .= \"pf.fk_facture = \" . $invoice_object->id ;__N__        __N__        $find_payment_details = $db->query($sql_payment_details);__N__        $obj_payment = $db->fetch_object($find_payment_details);__N__        $payment_method = $obj_payment->payment_method;__N__        __N__        __N__        // Generate invoice PDF (share it)__N__        $sql_invoice_pdf = \"select lef.rowid as invoice_pdf_id \";__N__        $sql_invoice_pdf .= \"from \".MAIN_DB_PREFIX.\"ecm_files lef \";__N__        $sql_invoice_pdf .= \"where lef.src_object_type = \'facture\' and lef.src_object_id = \" . $invoice_object->id ;__N____N__        $find_invoice_pdf = $db->query($sql_invoice_pdf);__N__        $obj_invoice_pdf = $db->fetch_object($find_invoice_pdf);__N__        $invoice_pdf_id = $obj_invoice_pdf->invoice_pdf_id;__N____N__        $ecmfile = new EcmFiles($db);__N__    	$result = $ecmfile->fetch($invoice_pdf_id);__N__    	if ($result > 0 && empty($ecmfile->share)) {__N__    		$ecmfile->share = getRandomPassword(true);__N__    		$result = $ecmfile->update($user);__N__    		if ($result < 0) {__N__    			setEventMessages($ecmfile->error, $ecmfile->errors, \'warnings\');__N__    		}__N__    	}__N__    	$invoice_pdf_link = DOL_URL_ROOT . \"/document.php?hashp=\" . $ecmfile->share;__N____N__    } else {__N__        $payment_method = \"\";__N__        $invoice_object = null;__N__    }__N__}__N____N____N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php__N__        includeContainer(\'header\'); __N__        $__PAGE__TITLE__ = $weblangs->trans(\"orderDetailsPageTitle\");__N__    ?>__N__  </div>__N____N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"<?php print $weblangs->trans(\"backHome\"); ?>\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <a href=\"order-history.php\" title=\"<?php print $weblangs->trans(\"orderHistory\"); ?>\" data-gg=\"\"><?php print $weblangs->trans(\"orderHistory\"); ?></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"orderDetails\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__          <div class=\"clearfix\">__N__                <h1 class=\"page-heading\"><?php print $weblangs->trans(\"orderDetails\"); ?></h1>__N__                <div id=\"block-history\" class=\"block-center\">__N__                    <div id=\"block-order-detail\" class=\"unvisible\" style=\"display: block;\">__N__                    	<div class=\"info-order box\">__N__                    	    <p class=\"dark\">__N__                				<?php print $weblangs->trans(\"orderReference\"); ?> <strong><?php print $order_object->ref; ?></strong> - <?php print $weblangs->trans(\"placedOn\"); ?> <strong><?php print dol_print_date($order_object->date, \'day\'); ?></strong>__N__                				<span style=\"background-color:#DDEEFF; border-color:#DDEEFF;padding: 4px 10px;float:right;\" class=\"label dark\"><?php print $weblangs->trans(\"paymentAccepted\"); ?></span>__N__                			</p>__N__                    		<p><strong class=\"dark\"><?php print $weblangs->trans(\"paymentMethod\"); ?> : </strong> <span class=\"color-myaccount\"><?php print $payment_method; ?></span></p>__N__                    		<p class=\"download_invoice\">__N__                    			<i class=\"icon-file-text\"></i>__N__                    			<?php__N__                    			    if ($invoice_object === null) {__N__                    			        print $weblangs->trans(\"ifYouNeedAnInvoice\", \"https://wwwold.dolistore.com\", \"wwwold.dolistore.com\");__N__                    			    } else{ ?>__N__                    			        <a target=\"_blank\" href=\"<?php print $invoice_pdf_link; ?>\"><?php print $weblangs->trans(\"downloadInvoicePDF\"); ?></a>__N__                    			    <?php } __N__                    			?>__N__                    		</p>__N__                    	</div>__N__                    __N__                    __N__                    	<div class=\"adresses_bloc\">__N__                    		<div class=\"row\">__N__                    			<div class=\"col-xs-12 col-sm-6\">__N__                    				<ul class=\"address item full_width box\">__N__                    					<li>__N__                    						<h3 class=\"page-subheading\"><?php print $weblangs->trans(\"invoiceAddress\"); ?></h3>__N__                    					</li>__N__                    					<li><span class=\"address_firstname\"><?php print $customer->name; ?></span></li>__N__                    					<li><span class=\"address_address1\"><?php print $customer->address; ?></span></li>__N__                    					<li><span class=\"address_Country:name\"><?php print $customer->country; ?></span></li>__N__                    					<li><span class=\"address_phone\"></span></li>__N__                    				</ul>__N__                    			</div>__N__                    		</div>__N__                    	</div>__N__                    __N__                    	<form action=\"\" method=\"post\">__N__                    		<div id=\"order-detail-content\" class=\"table_block table-responsive\">__N__                    			<table class=\"table table-bordered table-bordered-block-order-detail\">__N__                    				<thead>__N__                    					<tr>__N__                    						<th class=\"first_item\"><?php print $weblangs->trans(\"product\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"download\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"quantity\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"unitPrice\"); ?></th>__N__                    						<th class=\"last_item\"><?php print $weblangs->trans(\"totalPrice\"); ?></th>__N__                    					</tr>__N__                    				</thead>__N__                    				<tfoot>__N__                    					<tr class=\"item\">__N__                    						<td colspan=\"1\">__N__                    							<strong> <?php print $weblangs->trans(\"TotalHT\"); ?> </strong>__N__                    						</td>__N__                    						<td colspan=\"4\">__N__                    							<span class=\"price\"><?php print price($order_object->total_ht); ?> €</span></span>__N__                    						</td>__N__                    					</tr>__N__                    					<tr class=\"totalprice item\">__N__                    						<td colspan=\"1\">__N__                    							<strong><?php print $weblangs->trans(\"TotalTTC\"); ?></strong>__N__                    						</td>__N__                    						<td colspan=\"4\">__N__                    							<span class=\"price\"><?php print price($order_object->total_ttc); ?> €</span></span>__N__                    						</td>__N__                    					</tr>__N__                    				</tfoot>__N__                    				<tbody>__N__                    					<!-- Customized products -->__N__                    					<!-- Classic products -->__N__                    					<?php $lines = $order_object->lines; ?>__N__                    					<?php foreach ($lines as $line): ?>__N__                    					    <?php__N__                                                $product = new Product($db);__N__                                                $ret = $product->fetch($line->fk_product);__N__                                            ?>__N__                        					<tr class=\"item\">__N__                        						<td class=\"cart_description\">__N__    												<p class=\"product-name\"><a target=\"_blank\" href=\"product.php?id=<?php print $product->id; ?>\"><?php print $line->desc; ?> <i class=\"icon-external-link\"></i></a></p>__N__    												<small class=\"cart_ref\"><?php print $weblangs->trans(\"sku\"); ?> : <?php print $product->ref; ?></small>__N__    											</td>__N__    											<td class=\"download_icon\">__N__                        						    <?php __N__                        						        // Get attached file__N__        												$files = getPublicFilesOfObject($product);__N__        												$url_attached_file = \'\';__N__        												foreach ($files as $file) {__N__                                                            if ($file[\'position\'] == 100) {__N__                                                                $url_attached_file = $file[\'url\'];__N__                                                            }__N__                                                        }__N__                                                        // Check Link Validity__N__                                                        $now = dol_now();__N__                                                        $one_year_ago = dol_time_plus_duree($now, -1, \'y\');__N__                                                        $isValidLink = 1;__N__                                                        if ($order_object->date < $one_year_ago) {__N__                                                            $isValidLink = 0;__N__                                                        }__N__    												?>__N__    												<?php if ($isValidLink == 1): ?>__N__    												    <p><a target=\"_blank\" href=\"_service_download.php?t=paied&r=<?php print $order_object->ref; ?>&p=<?php print $line->fk_product; ?>&u=<?php print $user_id; ?>\"><i class=\"icon-cloud-download\"></i></a></p>__N__    												    <!--<p><a target=\"_blank\" href=\"<?php //print $url_attached_file; ?>\"><i class=\"icon-cloud-download\"></i></a></p>-->__N__    												<?php else: ?>__N__    												    <p><?php print $weblangs->trans(\"invalidLink\"); ?> </p>__N__    												<?php endif ?>__N__    											</td>__N__                        						<td class=\"return_quantity\">__N__                        							<span class=\"order_qte_span\"><?php print $line->qty; ?></span>__N__                        						</td>__N__                        						<td>__N__                        						    <p><?php print price($line->price); ?> €</span></p>__N__                        						</td>__N__                        						<td>__N__                        							<p><?php print price($line->total_ttc); ?> €</span></p>__N__                        						</td>__N__                        					</tr>__N__                    					<?php endforeach ?>__N__                    					__N__                    				</tbody>__N__                    			</table>__N__                    		</div>__N__                    	</form>__N__                    </div>__N__                </div>__N__                <ul class=\"footer_links clearfix\">__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"myaccount.php\">__N__                			<span>__N__                				<i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"backToYourAccount\"); ?>__N__                			</span>__N__                		</a>__N__                	</li>__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"index.php\">__N__                			<span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"home\"); ?></span>__N__                		</a>__N__                	</li>__N__                </ul>__N__          </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 35__+MAX_llx_website_page__ - Aliases order-history --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(35__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'order-history', '', 'order history', '', '', '', '', '1', '2024-04-26 08:50:17', '2025-01-15 23:10:13', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOSTINT(\'cat\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N____N__// If not login redirect to login.__N__if(empty($_SESSION[\'user\'][\'id_user\'])){__N__    redirectToContainer(\'login-register\');__N__}__N____N____N__// Get Account ID.__N__$user_id = $_SESSION[\'user\'][\'id_user\'];__N__$customer_account = new SocieteAccount($db);__N__$result = $customer_account->fetch($user_id);__N__$customer_id = $customer_account->fk_soc;__N____N__// Get customer ID.__N__$customer = new Societe($db);__N__$result = $customer->fetch($customer_id);__N____N__$isAdmin = false;__N____N__// To render view of another user__N__if (!empty(GETPOST(\'id_customer\'))) {__N__    // Only for members with a specific role__N__    require_once DOL_DOCUMENT_ROOT.\"/adherents/class/adherent.class.php\";__N__    $membre = new Adherent($db);__N__    $result = $membre->fetch(\'\', 0, $customer_id);__N__    __N__    $adminsCat = new Categorie($db);__N__	$adminsCat->fetch(1);__N__	__N__	$result = $adminsCat->containsObject(\'member\', $membre->id);__N__	if ($result > 0) {__N__	    $isAdmin = true;__N____N__        $customer_id = GETPOST(\'id_customer\');__N__        // Get soc info.__N__        $socInfo = new Societe($db);__N__        $socInfo->fetch($customer_id);__N__        __N__        // Get soc acount email__N__        $sql = \"select rowid from \".MAIN_DB_PREFIX.\"societe_account where fk_soc = \".((int) $customer_id).\" AND fk_website = \".((int) $website->id).\" limit 1\";__N__        $result = $db->query($sql);__N__        $objsql = $db->fetch_object($result);__N__        __N__        // Get account info__N__        $cContacts = $socInfo->contact_array_objects();__N__        foreach ($cContacts as $cContact) {__N__            if ($cContact->ref_ext == $objsql->rowid) {__N__                $customer_firstname = $cContact->firstname;__N__                $customer_lastname = $cContact->lastname;__N__                $customer_email = $cContact->email;__N__                $customer_address = $cContact->address;__N__            }__N__        }__N__	}__N__}__N____N__// Get all paid orders for this customer when module_source is Marketplace.__N__$sql_find_orders = \"SELECT c.rowid, c.ref, c.fk_statut, c.fk_soc, c.date_commande, c.module_source \";__N__$sql_find_orders .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__$sql_find_orders .= \"WHERE c.fk_soc = \" . ((int) $customer_id) . \" and c.fk_statut= 1 and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__$sql_find_orders .= \"ORDER BY c.date_commande desc \";__N__$resql = $db->query($sql_find_orders);__N__if ($resql) {__N__    $orders_id = array();__N__	while ($obj = $db->fetch_object($resql)) {__N__	    $orders_id[] = $obj->rowid;__N__	}__N__}/* else {__N__	print $weblangs->trans(\"noOrderFounded\");__N__	exit();__N__}*/__N____N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php __N__        includeContainer(\'header\');__N__        $__PAGE__TITLE__ = $weblangs->trans(\"orderHistoryPageTitle\");__N__    ?>__N__  </div>__N____N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <a href=\"myaccount.php\" title=\"<?php print $weblangs->trans(\"myAccount\"); ?>\" data-gg=\"\"><?php print $weblangs->trans(\"myAccount\"); ?></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"orderHistory\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__            <?php if (empty($orders_id)): ?>__N__                <h1 class=\"page-heading\"><?php print $weblangs->trans(\"orderHistory\"); ?></h1>__N__                <p class=\"alert alert-warning\"><?php print $weblangs->trans(\"noOrderFounded\"); ?> </p>__N__            <?php else: ?>__N__              <div class=\"clearfix\">__N__                    <h1 class=\"page-heading\"><?php print $weblangs->trans(\"orderHistory\"); ?></h1>__N__                    <div id=\"block-history\" class=\"block-center\">__N__                        <div id=\"block-order-detail\" class=\"unvisible\" style=\"display: block;\">__N__                    		<div id=\"order-detail-content\" class=\"table_block table-responsive\">__N__                    			<table class=\"table table-bordered table-bordered-block-order-detail order-history\">__N__                    				<thead>__N__                    					<tr>__N__                    						<th class=\"first_item\"><?php print $weblangs->trans(\"orderRef\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"products\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"date\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"totalPrice\"); ?></th>__N__                    						<th class=\"item\" width=\"80\"><?php print $weblangs->trans(\"paymentMethod\"); ?></th>__N__                    						<th class=\"item\"><?php print $weblangs->trans(\"invoice\"); ?></th>__N__                    						<th class=\"last_item\"><?php print $weblangs->trans(\"details\"); ?></th>__N__                    					</tr>__N__                    				</thead>__N__                    				<tbody>__N__                    					<!-- Customized products -->__N__                    					<!-- Classic products -->__N__                    					<?php foreach ($orders_id as $order_id): ?>__N__                    					    <?php__N__                                                // Get order object__N__                                                $order_object = new Commande($db);__N__                                                $result = $order_object->fetch($order_id);__N__                                                __N__                                                // Get invoice object__N__                                                $order_object->fetchObjectLinked();__N__                                                if (!empty($order_object->linkedObjects[\'facture\'])) {__N__    												$linked_invoices = $order_object->linkedObjects[\'facture\'];__N__                                                    $last_invoice_object = $linked_invoices[reset(array_keys($linked_invoices))];__N__                                                    if ($last_invoice_object instanceof Facture) {__N__                                                        $invoice_object = $last_invoice_object;__N__                                                    }__N__    __N__    												// Get payment details__N__    												$sql_payment_details = \"SELECT c.libelle AS payment_method \";__N__    												$sql_payment_details .= \"FROM \";__N__    												$sql_payment_details .= \"\".MAIN_DB_PREFIX.\"paiement_facture AS pf \";__N__    												$sql_payment_details .= \"JOIN \".MAIN_DB_PREFIX.\"paiement AS p ON pf.fk_paiement = p.rowid \";__N__    												$sql_payment_details .= \"LEFT JOIN \".MAIN_DB_PREFIX.\"c_paiement AS c ON p.fk_paiement = c.id \";__N__    												$sql_payment_details .= \"WHERE \";__N__    												$sql_payment_details .= \"pf.fk_facture = \" . $invoice_object->id ;__N__    												__N__    												$find_payment_details = $db->query($sql_payment_details);__N__    												$obj_payment = $db->fetch_object($find_payment_details);__N__    												$payment_method = $obj_payment->payment_method;__N__    __N__    												// Get invoice PDF__N__    												$sql_invoice_pdf = \"select lef.rowid, lef.share \";__N__    												$sql_invoice_pdf .= \"from \".MAIN_DB_PREFIX.\"ecm_files lef \";__N__    												$sql_invoice_pdf .= \"where lef.src_object_type = \'facture\' and lef.src_object_id = \" . $invoice_object->id ;__N__    __N__    												$find_invoice_pdf = $db->query($sql_invoice_pdf);__N__    												$obj_invoice_pdf = $db->fetch_object($find_invoice_pdf);__N__    												$invoice_pdf_link = DOL_URL_ROOT . \"/document.php?hashp=\" . $obj_invoice_pdf->share;__N__    __N__                                                } else {__N__    												$payment_method = \"\";__N__    												$invoice_pdf_link = \"#\";__N__                                                }__N__                                            ?>__N__                        					<tr class=\"item\">__N__                        					    <td>__N__                        						    <p><small class=\"cart_ref\"><?php print $order_object->ref; ?></small>__N__                        						</td>__N__                        						<td class=\"order-history\">__N__                        						    <?php $order_lines = $order_object->lines; ?>__N__                        						    <ul class=\"order-history-products-list\">__N__                        						    <?php foreach ($order_lines as $order_line): ?>__N__                        			                    <li><?php print $order_line->desc; ?></li>__N__    												<?php endforeach ?>__N__    												</ul>__N__    											</td>__N__                        						<td>__N__    												<p><?php print dol_print_date($order_object->date, \'day\'); ?></p>__N__    											</td>__N__                        						<td>__N__                        							<p><span class=\"price\"><?php print price($order_object->total_ttc); ?> €</span></p>__N__                        						</td>__N__                        						<td>__N__                        						    <p><?php print $payment_method; ?></p>__N__                        						</td>__N__                        						<td>__N__                        						    <?php if ($invoice_pdf_link != \"#\"): ?>__N__                            						    <p class=\"invoice-pdf-link\">__N__                                                			<i class=\"icon-file-text\"></i>__N__                                                			<a target=\"_blank\" href=\"<?php print $invoice_pdf_link; ?>\"> <?php print $weblangs->trans(\"invoicePdf\"); ?></a>__N__                                                		</p>__N__                                                	<?php endif ?>__N__                        						</td>__N__                        						<td class=\"btn-table\">__N__                        						    <a href=\"order-details.php?ref=<?php print $order_object->ref; ?>\" class=\"btn btn-default button button-small\"><span><?php print $weblangs->trans(\"details\"); ?> <i class=\"icon-chevron-right right\"></i></span></a>__N__                        						</td>__N__                        					</tr>__N__                    					<?php endforeach ?>__N__                    				</tbody>__N__                    			</table>__N__                    		</div>__N__                        </div>__N__                    </div>__N__                    <ul class=\"footer_links clearfix\">__N__                    	<li>__N__                    		<a class=\"btn btn-default button button-small\" href=\"myaccount.php\">__N__                    			<span>__N__                    				<i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"backToYourAccount\"); ?>__N__                    			</span>__N__                    		</a>__N__                    	</li>__N__                    	<li>__N__                    		<a class=\"btn btn-default button button-small\" href=\"index.php\">__N__                    			<span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"Home\"); ?></span>__N__                    		</a>__N__                    	</li>__N__                    </ul>__N__              </div>__N__          __N__            <?php endif ?>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 36__+MAX_llx_website_page__ - Aliases pagamenti-e-sicurezza --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(36__+MAX_llx_website_page__, 2__+MAX_llx_website_page__, __WEBSITE_ID__, 'pagamenti-e-sicurezza', '', 'Pagamenti e sicurezza', 'Pagamenti e sicurezza', 'it', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 22:13:17', '2025-01-14 02:26:59', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N____N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N__            __N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"about_payement_section\" contenteditable=\"true\">__N__				<div class=\"rte\">__N__                  <h2>Pagamenti sicuri</h2>__N__                  <p>&nbsp;</p>__N__                  <h3>Perché dovrei pagare se il software è rilasciato sotto licenza Open Source &nbsp;(GPL, ...) ?</h3>__N__                  <p>La maggior parte dei prodotti disponibili sulla piattaforma sono gratuiti e possono essere scaricati liberamente. In tali casi non è previsto alcun pagamento.</p>__N__                  <p>In alcuni casi gli autori decidono di richiedere un pagamento a fronte del loro lavoro. I due approcci non sono in conflitto (Vendita e distribuzione libera sotto licenza OpenSource): La <strong>&nbsp;Free Software Foundationche ha creato la celebre</strong>&nbsp;licenza GPL, una delle licenze più usate per il software&nbsp;OpenSource, permette ed incoraggia questa ciò e fornisce qualche spiegazione sulla seguente pagina: <br>__N__                    <a href=\"http://www.gnu.org/philosophy/selling.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.html</a>__N__                  </p>__N__                  <p>&nbsp;</p>__N__                  <h3>Pagamento sicuro</h3>__N__                  <p>Tutti i pagamenti sono protetti con&nbsp;SSL.</p>__N__                  <p>&nbsp;</p>__N__                  <h3>Usare Visa/Mastercard/Paypal</h3>__N__                  <p>I pagamenti effettuati tramite carta di credito vengono processati tramite Stripe.</p>__N__                  <p>Per i pagamenti tramite Paypal vengono usati i servizi online forniti da Paypal&nbsp;stessa.</p>__N__                </div>__N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 37__+MAX_llx_website_page__ - Aliases paiements-et-securisation --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(37__+MAX_llx_website_page__, 2__+MAX_llx_website_page__, __WEBSITE_ID__, 'paiements-et-securisation', '', 'Paiements et sécurisation', 'Paiements et sécurisation', 'fr', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 22:10:45', '2025-01-16 01:36:38', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N____N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N__            __N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"about_payement_section\" contenteditable=\"true\">__N__				<div class=\"rte\">__N__                  <h2>Paiement sécurisé</h2>__N__                  <p>&nbsp;</p>__N__                  <h3>Quand et pourquoi un paiement si le logiciel est en OpenSource (GPL, ...) ?</h3>__N__                  <p>La plupart des produits disponibles sur cette place de marché sont gratuit et peuvent être téléchargés directement depuis leur fiche. Aucun paiement dans ce cas n\'est requis.</p>__N__                  <p>Toutefois, certains auteurs decident de faire payer quelquechose en échange de la distribution de leur travail. Il n\'y a aucun problème à conciler les 2 approches (Prix pour distribuer du code face à&nbsp; licence OpenSource): La <strong>Free Software Foundation</strong>, qui a créé la licence GNU GPL, une des licence pour les logiciels libre les plus utilisées, autorise et même encourage cela et en donne les explications, sur cette page : <br>__N__                    <a href=\"http://www.gnu.org/philosophy/selling.fr.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.fr.html</a>__N__                  </p>__N__                  <p>&nbsp;</p>__N__                  <h3>Notre offre de paiement sécurisé</h3>__N__                  <p>Les paiements sont sécurisé avec SSL</p>__N__                  <p>&nbsp;</p>__N__                  <h3>Utilisation de Visa/Mastercard/Paypal</h3>__N__                  <p>Les paiements par carte bancaire sont assurés par un service de Stripe.</p>__N__                  <p>Les paiement par porte monnaie électronique sont assurés via le service de paiement en ligne de Paypal.</p>__N__                </div>__N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 38__+MAX_llx_website_page__ - Aliases payment --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(38__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'payment', '', 'payment', '', '', '', '', '1', '2024-03-29 15:29:50', '2025-01-10 10:15:26', null, '', 'page', '', '<?php__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N____N__if(empty($_SESSION[\'user\'][\'id_user\'])) {__N__    $login_page_url = \"index.php?website=\".$website->ref.\"&pageref=login-register&back=payement\";__N__    header(\"Location:\".$login_page_url);__N__    exit;__N__}__N__                        __N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__?>__N____N__<div id=\"page\">__N__	<div class=\"header-container\">__N__		<?php__N__		    includeContainer(\'header\');__N__		    $__PAGE__TITLE__ = $weblangs->trans(\"paymentPageTitle\");__N__		?>__N__	</div>__N__	<div class=\"columns-container\">__N__		<div id=\"columns\" class=\"container\">__N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"yourShoppingCart\"); ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__			<div id=\"slider_row\" class=\"row\">__N__				<div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__			</div>__N__			<div class=\"row\">__N__				<!-- include lefet sidebar container -->__N__				<?php includeContainer(\'sidebar\'); ?>__N__				<div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__					<div class=\"clearfix\">__N____N__                        <?php__N__                            if(!empty($_SESSION[\'products\'])){__N__                                __N__                                include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__                                require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N____N__                                // Load user and its permissions__N__                                $result = $user->fetch(\'\', \'admin\');	// Load user for login \'admin\'. Comment line to run as anonymous user.__N__                                if (!$result > 0) {__N__                                	dol_print_error(null, $user->error);__N__                                	exit;__N__                                }__N__                                $user->getrights();__N__                                __N__                                $user_id = $_SESSION[\'user\'][\'id_user\'];__N__                                $customer = new SocieteAccount($db);__N__                                $result = $customer->fetch($user_id);__N__                                $customer_id = $customer->fk_soc;__N__                                if (empty($customer_id)) {__N__                                	dol_print_error(null, $customer->error);__N__                                	exit;__N__                                }__N__                                __N__                                $com = new Commande($db);__N__                            __N__                                $com->socid          = $customer_id;__N__                                $com->date           = dol_now();__N__                                $com->note_private   = \'Order from the marketplace\';__N__                                $com->module_source  = \'marketplace\';__N__                                $com->pos_source	 = dol_getmypid() . \"@\" . $website->id;__N__                                $com->remise_percent = 0;__N__                                __N__                                $db->begin();__N__                                __N__                                // Check if there is an order for this user.__N__                                /*$sql_find_order = \"SELECT c.rowid, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__                                $sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__                                $sql_find_order .= \"WHERE c.fk_soc = \" . $customer_id . \" and c.fk_statut= 1 and c.facture = 0 and c.module_source = \'Marketplace\' \";__N__                                $sql_find_order .= \"order by c.date_creation desc \";__N__                                $sql_find_order .= \"limit 1\";*/__N__                                __N__                                // Check if there is an order for this user.__N__                                $sql_find_order = \"SELECT c.rowid, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__                                $sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__                                $sql_find_order .= \"WHERE c.fk_soc = \" . $customer_id . \" and c.fk_statut= 1 and c.facture = 0 and c.ref_ext is null and c.date_commande >= DATE_SUB(NOW(), INTERVAL 30 DAY) and c.module_source = \'Marketplace\' \";__N__                                $sql_find_order .= \"order by c.date_creation desc \";__N__                                $sql_find_order .= \"limit 1\";__N__                                __N__                                $find_order = $db->query($sql_find_order);__N__                                $obj_order = $db->fetch_object($find_order);__N__                                __N__                                // If there is an order, update the current unpaid order lines by SESSION articles.__N__                                if (!empty($obj_order)) {__N__                                    $com->fetch($obj_order->rowid);__N__                                    $com->fetch_lines();__N__                                    $lines = $com->lines;__N__                                    $com->setDraft($user);__N__                                    __N__                                    // remove current order lines __N__                                    foreach ($lines as $line){__N__                                        $ree = $com->deleteLine($user,$line->id);__N__                                        //print $com->error . \'<br>\';__N__                                    }__N__                                    //exit();__N__                                } else {__N__                                    $result = $com->create($user);__N__                                }__N__                                __N__                                if ($result >= 0) {__N__                                    foreach ($_SESSION[\'products\'] as $session_product) {__N__                                        // Get  product__N__                                        $product = new Product($db);__N__                                        $result = $product->fetch($session_product[\'product_id\']);__N__                                        if (!$result > 0) {__N__                                        	dol_print_error($db, $product->error);__N__                                        	exit;__N__                                        }__N__                                        __N__                                        // Get seller__N__                                        $sql_get_seller_id = \"select lpfp.fk_soc __N__                                            from \".MAIN_DB_PREFIX.\"product_fournisseur_price lpfp __N__                                            where lpfp.fk_product =\" .$session_product[\'product_id\'] . \" LIMIT 1\";__N__                                        $resql = $db->query($sql_get_seller_id);__N__                                		$objsql = $db->fetch_object($resql);__N__                                		__N__                                		if(!empty($objsql->fk_soc)){__N__                                		    $thirdparty_seller = new Societe($db);__N__                                            $thirdparty_seller->fetch($objsql->fk_soc);__N__                                		}else{__N__                                		    // To complete with default third party __N__                                		}__N__                                		__N__                                		// Get buyer__N__                                	    $thirdparty_buyer = new Societe($db);__N__                                        $result = $thirdparty_buyer->fetch($customer_id);__N__                                        if (!$result > 0) {__N__                                        	dol_print_error($db, $thirdparty_buyer->error);__N__                                        	exit;__N__                                        }__N__                                        __N__                                        $tva_tx = get_default_tva($thirdparty_seller, $thirdparty_buyer, $product->id);__N__                                        __N__                                        // Check discount__N__                            			$discount = marketplace_check_discount($product->id);__N__                            			$discount_percent = ($discount[\'mode\'] === \'percent\') ? $discount[\'value\'] : 0;__N__                                        __N__                                        $result = $com->addline($product->label, $product->price, $session_product[\'product_qty\'], $tva_tx, 0, 0, $product->id, $discount_percent, 0, 0, $product->price_base_type, $product->price_ttc, \'\', \'\', $product->type);__N__                            			if ($result <= 0) {__N__                            				dol_print_error($db, $product->error);__N__                            				exit;__N__                            			}__N__                            			__N__                            			// TODO__N__                    					if ($discount[\'mode\'] === \'amount\' && $discount[\'value\'] > 0) {__N__                                            // Add amount discount__N__                    					}__N____N__                                    } __N__                                    __N__                                    $result = $com->valid($user);__N__                            		if ($result > 0) {__N__                            			$db->commit();__N__                                        $order_is_created = \'1\';__N__                                        $order_id = $com->id;__N__                            		} else {__N__                            			$db->rollback();__N__                            			dol_print_error($db, $com->error);__N__                            		}__N__                            	} else {__N__                            		$db->rollback();__N__                            		dol_print_error($db, $com->error);__N__                            	}__N__                            }__N__                            __N__        __N__                            if (isset($order_is_created)){__N__                                $commande = new Commande($db);__N__                                $ret = $commande->fetch($order_id);__N__                                __N__                                $commande->fetch_lines();__N__                                $lines = $commande->lines;__N__                            }__N__                        ?>__N____N__						<h1 class=\"page-heading\"><?php print $weblangs->trans(\"cartSummary\"); ?>__N__    						<span class=\"heading-counter\"><?php print $weblangs->trans(\"yourCartContains\"); ?>:__N__        						<?php if (isset($lines)): ?>__N__                                    <span class=\"ajax_cart_no_product\"><?php print count($lines); ?></span> <?php if(count($lines) > 1){ print $weblangs->trans(\"products\");}else{ print $weblangs->trans(\"product\");} ?>__N__                                <?php else: ?>__N__                                    <span id=\"ajax_cart_no_product\">0</span> <?php print $weblangs->trans(\"product\"); ?>__N__                                <?php endif ?>__N__    						</span>__N__						</h1>__N__						<?php if (!$_SESSION[\'products\'] || !isset($order_is_created)): ?>__N__                            <?php if (!$_SESSION[\'products\']): ?>__N__                                <p class=\"alert alert-warning\"><?php print $weblangs->trans(\"cartIsEmpty\"); ?></p>__N__                            <?php endif ?>__N__                            <?php if (!isset($order_is_created)): ?>__N__                                <p class=\"alert alert-warning\"><?php print $weblangs->trans(\"errorOccurred\"); ?> </p>__N__                            <?php endif ?>__N__                            __N__                            __N__                        <?php else: ?>__N__							<div id=\"order-detail-content\" class=\"table_block table-responsive\">__N__								<table id=\"cart_summary\" class=\"table table-bordered stock-management-off\">__N__									<thead>__N__										<tr>__N__											<th class=\"cart_product first_item\"><?php print $weblangs->trans(\"product\"); ?></th>__N__											<th class=\"cart_description item\"><?php print $weblangs->trans(\"description\"); ?></th>__N__											<th class=\"cart_unit item text-center\"><?php print $weblangs->trans(\"unitPrice\"); ?></th>__N__											<th class=\"cart_quantity item text-center\"><?php print $weblangs->trans(\"quantity\"); ?></th>__N__											<th class=\"cart_total item cart_total_payment\"><?php print $weblangs->trans(\"total\"); ?></th>__N__										</tr>__N__									</thead>__N__									__N__									<tbody>__N__                                        <?php $total = 0; ?>__N__                                        __N__                                        <?php foreach ($lines as $line): ?>__N__                                            <?php__N__                                                $product = new Product($db);__N__                                                $ret = $product->fetch($line->fk_product);__N__                                            ?>__N__                                            <tr id=\"product_<?php print $product->id; ?>\" class=\"cart_item\">__N__    											<td class=\"cart_product\">__N__    												<a href=\"product.php?id=<?php print $product->id; ?>\"><img src=\"<?php print getImagePublicURLOfObject($product,1);; ?>\" id=\"product_img_<?php print $product->id; ?>\" alt=\"<?php print $product->name; ?>\" width=\"98\" height=\"98\"></a>__N__    											</td>__N__    											<td class=\"cart_description\">__N__    												<p class=\"product-name\"><a href=\"product.php?id=<?php print $product->id; ?>\"><?php print $line->desc; ?></a></p>__N__    												<small class=\"cart_ref\"><?php print $weblangs->trans(\"sku\"); ?> : <?php print $product->ref; ?></small>__N__    											</td>__N__    											<td class=\"cart_unit\" data-title=\"Unit price\">__N__    												<span class=\"price\" id=\"product_price\"><span class=\"price\" id=\"product_price_<?php print $product->id; ?>\"><?php print price($line->price); ?></span> €</span>__N__    											</td>__N__    __N__    											<td class=\"cart_quantity text-center\">__N__                                                    <span class=\"text-center\"><?php print $line->qty; ?></span>__N__    											</td>__N__    											<td class=\"cart_total cart_total_payment\" data-title=\"Total\">__N__    												<span class=\"price\"><span class=\"total_line\" id=\"total_product_price_<?php print $product->id; ?>\"><?php print price($line->total_ttc); ?></span> €</span>__N__    											</td>__N__    										</tr>__N__                                        <?php endforeach ?>__N__                                        __N__                                        <tfoot>__N__										<tr class=\"cart_total_price\">__N__											<td rowspan=\"5\" colspan=\"2\" id=\"cart_voucher\" class=\"cart_voucher\">__N__											</td>__N__											<td colspan=\"2\" class=\"text-right\"><?php print $weblangs->trans(\"totalProductsTaxIncl\"); ?></td>__N__											<td colspan=\"2\" class=\"price\" ><span id=\"total_product\"><?php print price($commande->total_ttc); ?></span> €</td>__N__										</tr>__N__										<tr class=\"cart_total_delivery\">__N__											<td colspan=\"2\" class=\"text-right\"><?php print $weblangs->trans(\"shipping\"); ?></td>__N__											<td colspan=\"2\" class=\"price\" id=\"total_shipping\"><?php print $weblangs->trans(\"freeShipping\"); ?></td>__N__										</tr>__N____N__										<tr class=\"cart_total_price\">__N__											<td colspan=\"2\" class=\"total_price_container text-right\">__N__												<span><?php print $weblangs->trans(\"total\"); ?></span>__N__											</td>__N__											<td colspan=\"2\" class=\"price\" id=\"total_price_container\">__N__												<span><span id=\"total_price\"><?php print price($commande->total_ttc); ?></span> €</span>__N__											</td>__N__										</tr>__N__									</tfoot>__N__								</table>__N__							</div>__N__    						__N__    						<?php if (!getDolGlobalInt(\"MARKETPLACE_BLOCK_SALES\") || in_array($_SESSION[\'user\'][\'id_user\'], array_map(\'trim\', explode(\',\', getDolGlobalString(\"MARKETPLACE_ADMIN_USER_IDS\"))))): ?>__N__    							<div id=\"HOOK_PAYMENT\">__N__    							    <?php $current_lang = $_SESSION[\'lang\'][\'code\']; ?>__N__    							    <?php __N__        							    require_once DOL_DOCUMENT_ROOT.\'/core/lib/payments.lib.php\';__N__        							    $urlforframe = getOnlinePaymentUrl(0, \'order\', $commande->ref, 0, \'\', $website->virtualhost);__N__    							    ?>__N__        				            <iframe frameborder=\"0\" style=\"overflow:hidden;height:100%;width:100%\" height=\"100%\" width=\"100%\" src=\"<?php print $urlforframe ?>&ws=<?php print $website->ref; ?>&lang=<?php print $current_lang; ?>&paymentmethod=stripe\"></iframe>__N__    							</div>__N__    						<?php else: ?>__N__    						    <div class=\"block-sells-notification\">__N__                                    <?php print $weblangs->trans(\"marketplacePurchasesDisabled\"); ?>__N__                                </div>__N__    						<?php endif ?>__N__    						__N__						<?php endif ?>__N__					</div>__N__				</div>__N__			</div>__N__		</div>__N__	</div>__N__	<!-- .columns-container -->__N__	<div class=\"footer-container\">__N__		<?php includeContainer(\'footer\'); ?>__N__	</div>__N__</div>__N____N__', '', 0);

-- Page ID 39__+MAX_llx_website_page__ - Aliases paymentok --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(39__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'paymentok', '', 'paymentok', '', '', '', '', '1', '2024-04-22 12:33:58', '2025-01-16 05:34:17', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__$fulltag = GETPOST(\'fulltag\', \'alpha\');__N__$param_order_id = preg_match(\'/ORD=([^\\.]+)/\', $fulltag, $reg_order) ? $reg_order[1] : 0;__N__$param_customer_id = preg_match(\'/CUS=([^\\.]+)/\', $fulltag, $reg_customer) ? $reg_customer[1] : 0;__N____N__dol_syslog(\"The page paymentok.php is called with tag=\".$tag.\" fulltag=\".$fulltag);__N____N__// If not login redirect to login__N__if (empty($_SESSION[\'user\'][\'id_user\'])) {__N__    redirectToContainer(\'login-register\');__N__}__N____N__// Check if all necessary parameters are passed.__N__if (empty($fulltag) || empty($param_order_id) || empty($param_customer_id)) {__N__	print \'An error has occurred. Bad value for some parameters.\';__N__	exit;__N__}__N____N__// Check if the customer_id passed via GET is the same as the one stored in the session.__N__$user_id = $_SESSION[\'user\'][\'id_user\'];__N__$customer = new SocieteAccount($db);__N__$result = $customer->fetch($user_id);__N__$customer_id = $customer->fk_soc;__N__if ($customer_id != $param_customer_id) {__N__	print \'An error has occurred. Id of login account in session is not of the same thirdparty than the thirdparty ID received in parameter CUS.\';__N__	exit;__N__}__N____N__// Check if there is a paid order for this customer with the sent information.__N__$sql_find_order = \"SELECT c.rowid, c.ref, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__$sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__$sql_find_order .= \"WHERE c.fk_soc = \" . $customer_id . \" and c.rowid = \" . $param_order_id . \" and c.fk_statut= 1 and c.facture = 1 and c.module_source = \'marketplace\' \";__N__$sql_find_order .= \"limit 1\";__N__$find_order = $db->query($sql_find_order);__N__$obj_order = $db->fetch_object($find_order);__N____N__if (empty($obj_order)) {__N__    print \'An error has occurred. Order with ID received \'.$param_order_id.\' and thirdparty found from session \'.$customer_id.\' was not found in database.\';__N__    print $sql_find_order;__N__	exit;__N__} else {__N__    $order_ref = $obj_order->ref;__N__    $order_id = $obj_order->rowid;__N__    if(isset($_SESSION[\'products\'])){__N__        unset($_SESSION[\'products\']);__N__    }__N__}__N__// END PHP __N__?>__N__<div id=\"page\">__N__	<div class=\"header-container\">__N__		<?php __N__		    includeContainer(\'header\');__N__		    $__PAGE__TITLE__ = $weblangs->trans(\"paymentOkPageTitle\");__N__		?>__N__		<?php__N__            marketplaceNotifySellersBuyerByEmail($order_id);__N__		?>__N__	</div>__N__	<div class=\"columns-container\">__N__		<div id=\"columns\" class=\"container\">__N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> Payment Success __N__			</div>__N__			<!--  Breadcrumb  -->__N__			<div id=\"slider_row\" class=\"row\">__N__				<div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__			</div>__N__			<div class=\"row\">__N__				<!-- include lefet sidebar container -->__N__				<?php includeContainer(\'sidebar\'); ?>__N__				<div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__					<div class=\"clearfix payment_accepted\">__N__					    <h1><?php print $weblangs->trans(\"paymentAccepted\"); ?></h1>__N__                        <p><?php print $weblangs->trans(\"paymentSuccessProcessed\"); ?></p>__N__                        <p><?php print $weblangs->trans(\"youWillBeRedirectedToOrderPage\"); ?></p>__N__                        <div class=\"countdown-container\">__N__                            <div id=\"countdown\">5</div>__N__                        </div>__N__					</div>__N__				</div>__N__			</div>__N__		</div>__N__	</div>__N__	<!-- .columns-container -->__N__	<div class=\"footer-container\">__N__		<?php includeContainer(\'footer\'); ?>__N__	</div>__N__</div>__N____N__<?php__N__if (!defined(\'USEDOLIBARRSERVER\') && $website->virtualhost) {__N__	$url_order_details = $website->virtualhost . \'/order-details.php?ref=\'.urlencode($order_ref);__N__} else {__N__	$url_order_details = DOL_URL_ROOT.\'/public/website/index.php?website=\'.urlencode($website->ref).\'&pageref=order-details&ref=\'.urlencode($order_ref);__N__}__N__?>__N____N__<script>__N__$(document).ready(function() {__N__  var urlOrderDetails = \"<?php echo $url_order_details; ?>\";__N__  var count = 5;__N____N__  var countdownInterval = setInterval(function() {__N__    count--;__N__    $(\"#countdown\").text(count);__N__    __N__    if (count <= 0) {__N__      clearInterval(countdownInterval);__N__      window.location.href = urlOrderDetails;__N__    }__N__  }, 1000);__N__});__N__</script>__N____N__', '', 0);

-- Page ID 40__+MAX_llx_website_page__ - Aliases product --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(40__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'product', '', 'product', 'product', '', '', '', '1', '2024-02-02 16:48:47', '2025-01-16 05:15:59', null, '', 'page', '<script type=\"text/javascript\">__N__$(document).ready(function() {__N__    let scrollContainer = document.querySelector(\"#thumbs_list_frame\");__N__    let backBtn = document.getElementById(\"view_scroll_left\");__N__    let nextBtn = document.getElementById(\"view_scroll_right\");__N__    __N__    nextBtn.addEventListener(\"click\", (evt) => {__N__    	scrollContainer.style.scrollBehavior = \"smooth\";__N__    	scrollContainer.scrollLeft += 300;__N__    });__N__    __N__    backBtn.addEventListener(\"click\", (evt) => {__N__    	scrollContainer.style.scrollBehavior = \"smooth\";__N__    	scrollContainer.scrollLeft -= 300;__N__    });__N__});__N__</script>', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N____N__// END PHP ?> __N__<html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"bodywebsite\" class=\"bodywebsite bodywebpage-\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->__N__            <?php includeContainer(\'sidebar\'); ?>__N__            __N__            <?php__N__                $current_lang = $_SESSION[\'lang\'][\'code\'];__N__                $product_id = GETPOST(\'id\', \'alpha\');__N__                $product_extid = GETPOST(\'extid\', \'alpha\');__N__                __N__                $product = new Product($db);__N__                if (!empty($product_id)) {__N__                    $result = $product->fetch($product_id);__N__                } else {__N__                    $result = $product->fetch(\'\', \'\', $product_extid);__N__                }__N__                __N__                if ($result <= 0 || $product->status != 1) {__N__                    // No product to display__N__                    print $weblangs->trans(\"noProductToDisplay\");__N__                } else {__N__                    __N__                    $__PAGE__TITLE__ = $product->label;__N__                    $__PAGE__KEYWORDS__ = $product->array_options[\'options_marketplace_module_keywords\'];__N__                    $__PAGE__DESC__ = $product->description;__N____N__                    // check discount and calculate discounted price__N__        		    $discount = marketplace_check_discount($product->id);__N__        		    $discounted_price = marketplace_calculate_discounted_price($product->price_ttc, $discount);__N__            ?>__N__                <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N____N__				__N__              <div itemscope itemtype=\"http://schema.org/Product\">__N__                <div class=\"primary_block row\">__N__                  <div class=\"container hideonsmartphone\">__N__                    <div class=\"top-hr\"></div>__N__                  </div>__N__                  <!-- left infos-->__N__                  <div class=\"pb-left-column col-xs-12 col-sm-4 col-md-5\">__N__                    <!-- product img-->__N__                    <div id=\"image-block\" class=\"clearfix\">__N__                      <span id=\"view_full_size\">__N__                        <img id=\"bigpic\" itemprop=\"image\" src=\"<?php print(getImagePublicURLOfObject($product,1)); ?>\" title=\"<?php print $product->label; ?>\" alt=\"<?php print $product->label; ?>\" width=\"458\" height=\"458\" />__N__                        <a href=\"<?php print(getImagePublicURLOfObject($product,1)); ?>\" src=\"<?php print(getImagePublicURLOfObject($product,1)); ?>\" class=\"span_link no-print lightbox_trigger\" id=\"view_large_button\"><?php print $weblangs->trans(\"PhotoViewLarger\"); ?></a>__N__                      </span>__N__                    </div>__N__                  </div>__N__                  <!-- end pb-left-column -->__N__                  <!-- end left infos-->__N__                  <!-- center infos -->__N__                  <div class=\"pb-center-column col-xs-12 col-sm-5 col-md-5\">__N__                    <h1 itemprop=\"name\"><?php print $product->label; ?></h1>__N__                      <p id=\"product_reference\">__N__                        <label><?php print $weblangs->trans(\"model\"); ?> </label>__N__                        <span class=\"editable\"><?php print $product->ref; ?></span>__N__                      </p>__N__                    <?php if(strtotime($product->date_creation) > strtotime(\'-30 days\')): ?>__N__                      <p id=\"product_condition\">__N__                        <label><?php print $weblangs->trans(\"condition\"); ?> </label>__N__                        <link itemprop=\"itemCondition\" href=\"https://schema.org/NewCondition\" />__N__                        <span class=\"editable\"><?php print $weblangs->trans(\"new\"); ?></span>__N__                      </p>__N__                    <?php endif ?>__N__                    <div id=\"short_description_block\">__N__                      <div id=\"short_description_content\" class=\"rte align_justify\" itemprop=\"description\">__N__                        <p>__N__                        <?php __N__                          if (isset($product->description)){__N__                            print $product->description;__N__                          }__N__                        ?>__N__                      </div>__N____N__                      <!---->__N__                    </div>__N__                    <!-- end short_description_block -->__N____N__                    <!-- Out of stock hook -->__N__                    <div id=\"oosHook\" style=\"display: none;\"></div>__N__                    <!-- usefull links-->__N__                    <br>__N__                    <ul id=\"usefull_link_block\" class=\"clearfix no-print\">__N__                      <!-- __N____N____N__	<br><b>This module has not been sold enough or has been on sale for a too short to have statistics</b><li id=\"left_share_fb\"><a href=\"http://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.dolistore.com%2Fen%2Fmodules%2F1998-Advanced-Notifier.html&amp;t=Advanced+Notifier\" class=\"_blank\">Share on Facebook!</a></li> -->__N__                      <li class=\"print\">__N__                        <a href=\"javascript:print();\"> <?php print $weblangs->trans(\"print\"); ?> </a>__N__                      </li>__N__                    </ul>__N__                  </div>__N__                  <!-- end center infos-->__N__                  <!-- pb-right-column-->__N__                  <div class=\"pb-right-column col-xs-12 col-sm-3 col-md-2\">__N__                      __N__                      __N__                    <!-- add to cart form-->__N__                    <?php if ($product->price_ttc > 0): ?>__N__                        <form class=\"addtocart\" method=\"post\">__N__                    <?php endif ?>__N__                      <!-- hidden datas -->__N__                      <p class=\"hidden\">__N__                        <input type=\"hidden\" name=\"product_id\" value=\"<?php print $product->id; ?>\">__N__                        <input type=\"hidden\" name=\"product_thumb\" value=\"<?php print getImagePublicURLOfObject($product,1); ?>\">__N__                      </p>__N__                      <div class=\"box-info-product\">__N__                        <div class=\"content_prices clearfix\">__N__                          <!-- prices -->__N__                          <div class=\"price\">__N__                            <p class=\"our_price_display\" itemprop=\"offers\" itemscope itemtype=\"http://schema.org/Offer\">__N__                              <link itemprop=\"availability\" href=\"https://schema.org/InStock\" />__N__                                <?php if ($product->price_ttc > 0): ?>__N__                                    <?php if ($discounted_price != $product->price_ttc): ?>__N__                                    	<span class=\"price product-price original-price-product-view\"> <?php print price($product->price_ttc); ?> € </span>__N__                                    	<span class=\"price product-price\" id=\"our_price_display\"><?php print price($discounted_price); ?> €</span>__N__                                    <?php else: ?>__N__                					    <span id=\"our_price_display\"><?php print price($product->price_ttc); ?> €</span>__N__                					<?php endif ?>__N__                				<?php else: ?>__N__                    			    <span class=\"our_price_display\"> FREE </span>__N__                    			<?php endif ?>__N__					__N__                              __N__                              <!-- tax incl. -->__N__                              <meta itemprop=\"price\" content=\"<?php print price($product->price_ttc); ?>\" />__N__                              <meta itemprop=\"priceCurrency\" content=\"EUR\" />__N__                            </p>__N__                            <p id=\"reduction_percent\" style=\"display:none;\">__N__                              <span id=\"reduction_percent_display\"></span>__N__                            </p>__N__                            <p id=\"reduction_amount\" style=\"display:none\">__N__                              <span id=\"reduction_amount_display\"></span>__N__                            </p>__N__                            <p id=\"old_price\" class=\"hidden\">__N__                              <span id=\"old_price_display\"></span>__N__                              <!-- tax incl. -->__N__                            </p>__N__                          </div>__N__                          <!-- end prices -->__N__                          <div class=\"clear\"></div>__N__                        </div>__N__                        <!-- end content_prices -->__N__                        <?php if ($product->price_ttc > 0): ?>__N__                            <div class=\"product_attributes clearfix\">__N__                              <!-- quantity wanted -->__N__                              <p id=\"quantity_wanted_p\">__N__                                <label><?php print $weblangs->trans(\"Quantity\"); ?></label>__N__                                <input type=\"text\" name=\"product_quantity\" id=\"quantity_wanted\" class=\"text\" value=\"1\" />__N__                                <a href=\"#\" data-field-qty=\"product_quantity\" class=\"btn btn-default button-minus product_quantity_down\">__N__                                  <span>__N__                                    <i class=\"icon-minus\"></i>__N__                                  </span>__N__                                </a>__N__                                <a href=\"#\" data-field-qty=\"product_quantity\" class=\"btn btn-default button-plus product_quantity_up\">__N__                                  <span>__N__                                    <i class=\"icon-plus\"></i>__N__                                  </span>__N__                                </a>__N__                                <span class=\"clearfix\"></span>__N__                              </p>__N__                            </div>__N__                        <?php endif ?>__N__                        <!-- end product_attributes -->__N__                        <div class=\"box-cart-bottom\">__N__                          <div>__N____N__                            <?php if ($product->price_ttc > 0): ?>__N__                                <p id=\"add_to_cart\" class=\"buttons_bottom_block no-print\">__N__                                  <button class=\"btn btn-default btn-lg btn-add-to-cart-product\">__N__                                    <i class=\"icon-cart-plus\"></i> <p><?php print $weblangs->trans(\"addToCart\"); ?></p>__N__                                  </button>__N__                                </p>__N__                			<?php else: ?>__N__                			    <?php __N__    						        // Get attached file__N__									$files = getPublicFilesOfObject($product);__N__									$url_attached_file = \'\';__N__									foreach ($files as $file) {__N__                                        if ($file[\'position\'] == 100) {__N__                                            $url_attached_file = $file[\'url\'];__N__                                        }__N__                                    }__N__								?>__N__								<?php if (!empty($url_attached_file)) : ?>__N__                    			    <a href=\"_service_download.php?t=free&p=<?php print $product->id; ?>\" target=\"new\">__N__                    			         <p id=\"add_to_cart\" class=\"buttons_bottom_block no-print\">__N__                                            <button class=\"btn btn-default btn-lg btn-add-to-cart-product\">__N__                                                <i class=\"icon-cloud-download\"></i> <p><?php print $weblangs->trans(\"download\"); ?></p>__N__                                            </button>__N__                                        </p>__N__                                    </a>__N__                                <?php else : ?>__N__                                    <!-- Disabled button with message -->__N__                                    <p id=\"add_to_cart\" class=\"buttons_bottom_block no-print\">__N__                                        <button class=\"btn btn-default btn-lg btn-add-to-cart-product\" disabled style=\"opacity: 0.5;\" title=\"<?php print $weblangs->trans(\"NoAttachedFileFound\"); ?>\">__N__                                            <i class=\"icon-cloud-download\"></i>__N__                                            <p><?php print $weblangs->trans(\"download\"); ?></p>__N__                                        </button>__N__                                        <p style=\"__N__                                            color: #721c24;__N__                                            font-size: 11.5px;__N__                                            max-width: 90%;__N__                                            margin: 0px auto;__N__                                        \">__N__                                            <?php print $weblangs->trans(\"NoAttachedFileFound\"); ?>__N__                                        </p>__N__                                    </p>__N__                                <?php endif; ?>__N__                			<?php endif ?>__N__                          </div>__N__                        </div>__N__                        <!-- end box-cart-bottom -->__N__                      </div>__N__                      <!-- end box-info-product -->__N__                    </form>__N__                  </div>__N__                  <!-- end pb-right-column-->__N__                  __N__                  <!-- thumbnails -->__N__                  <div id=\"views_block\" class=\"clearfix \">__N__                      <?php if (getNbOfImagePublicURLOfObject($product) > 4): ?>__N__                        <span class=\"view_scroll_spacer\">__N__                        	<a id=\"view_scroll_left\" class=\"\" title=\"<?php print $weblangs->trans(\"otherViews\"); ?>\" href=\"javascript:{}\"> Previous </a>__N__                        </span>__N__                      <?php endif ?>__N__                    <div id=\"thumbs_list\">__N__                      <ul id=\"thumbs_list_frame\">__N__                        <?php for ($i=1; $i <= getNbOfImagePublicURLOfObject($product) ; $i++): ?>__N__                          <li id=\"thumbnail_<?php print $i; ?>\">__N__                            <a href=\"<?php print getImagePublicURLOfObject($product,$i); ?>\" src=\"<?php print getImagePublicURLOfObject($product,$i); ?>\" class=\"lightbox_trigger\" title=\"<?php print $product->label; ?>\">__N__                              <img class=\"img-responsive\" id=\"thumb_9597\" src=\"<?php print getImagePublicURLOfObject($product,$i); ?>\" alt=\"<?php print $product->label; ?>\" title=\"<?php print $product->label; ?>\" height=\"80\" width=\"80\" itemprop=\"image\" />__N__                            </a>__N__                          </li>__N__                        <?php endfor ?>__N__                      </ul>__N__                    </div>__N__                    <!-- end thumbs_list -->__N__                    <?php if (getNbOfImagePublicURLOfObject($product) > 4): ?>__N__                        <a id=\"view_scroll_right\" title=\"<?php print $weblangs->trans(\"otherViews\"); ?>\" href=\"javascript:{}\"> Next </a>__N__                    <?php endif ?>__N__                  </div>__N__                  <!-- end thumbnails -->__N__                </div>__N__                <!-- end primary_block -->__N__                <!-- More info -->__N__                <section class=\"page-product-box\">__N__                  <div>__N__                  <table class=\"info-table-box\">__N__                    <tbody>__N__                        <tr>__N__                            <td>__N__                                <ul class=\"info-list-box\">__N__                                  <?php if (isset($product->array_options[\'options_marketplace_module_version\'])): ?>__N__                                    <li><b><?php print $weblangs->trans(\"moduleVersion\"); ?></b> <span class=\"infos-module\"><?php print $product->array_options[\'options_marketplace_module_version\']; ?></span> </li>__N__                                  <?php endif ?>__N__                                  <?php if (isset($product->array_options[\'options_marketplace_min_version\']) && $product->array_options[\'options_marketplace_max_version\']): ?>__N__                                    <li><b><?php print $weblangs->trans(\"compatibility\"); ?></b> <span class=\"infos-module\"><?php print $product->array_options[\'options_marketplace_min_version\']; ?> - <?php print $product->array_options[\'options_marketplace_max_version\']; ?></span> </li>__N__                                  <?php endif ?>__N__                                  <?php if (isset($product->date_creation)): ?>__N__                                    <li><b><?php print $weblangs->trans(\"releaseDate\"); ?></b> <span class=\"infos-module\"><?php print $product->date_creation; ?></span> </li>__N__                                  <?php endif ?>__N__                                </ul>__N__                            </td>__N__                            <td>__N__                                <ul class=\"info-list-box\">__N__                                  <?php if (isset($product->date_modification)): ?>__N__                                    <li><b><?php print $weblangs->trans(\"lastUpdate\"); ?></b> <span class=\"infos-module\"><?php print $product->date_modification; ?></span> </li>__N__                                  <?php endif ?>__N__                                  <?php if (isset($product->array_options[\'options_marketplace_contact_support\'])): ?>__N__                                    <li><b><?php print $weblangs->trans(\"contactSupport\"); ?></b> <span class=\"infos-module\"><?php print $product->array_options[\'options_marketplace_contact_support\']; ?></span> </li>__N__                                  <?php endif ?>__N__                                </ul>__N__                            </td>__N__                        </tr>__N__                    </tbody>__N__                  </table>__N__                  </div>__N__                  <h3 class=\"page-product-heading\"><?php print $weblangs->trans(\"moreInfo\"); ?></h3>__N__                  <!-- full description -->__N__                  <div class=\"rte\">__N__                    <?php__N__                        if (isset($product->multilangs[$current_lang][\"other\"])){__N__                            print $product->multilangs[$current_lang][\"other\"];__N__                        }__N__                    ?>__N__                  </div>__N__                  <br>__N__                  <br>__N__                  <!--<ul id=\"usefull_link_block\" class=\"clearfix no-print\">__N__                    <br>__N__                    <b>This module has not been sold enough or has been on sale for a too short to have statistics</b>__N__                    <li id=\"left_share_fb\">__N__                      <a href=\"#\" class=\"_blank\">Share on Facebook!</a>__N__                    </li>__N__                  </ul>-->__N__                </section>__N__                <!--end  More info -->__N__                <!--HOOK_PRODUCT_TAB -->__N__                <section class=\"page-product-box\"></section>__N__                <!--end HOOK_PRODUCT_TAB -->__N__                <!-- description & features -->__N__              </div>__N__              <!-- itemscope product wrapper -->__N__              </div>__N__            </div>__N__            <?php } ?>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__    __N__    <!-- Disabled, file does not exists__N__    <script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__    -->__N__    __N__  </body>__N__</html>', '', 0);

-- Page ID 41__+MAX_llx_website_page__ - Aliases product-statistics --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(41__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'product-statistics', '', 'product statistics', '', '', '', '', '1', '2024-07-10 09:54:18', '2025-01-14 01:21:25', null, '', 'page', '', '<?php // BEGIN PHP__N__session_start(); // start session__N__require_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT . \'/core/lib/categories.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__$product_id = GETPOST(\'id\');__N__$current_lang = $_SESSION[\'lang\'][\'code\'];__N__$weblangs->load(\"companies\");__N____N____N__// If not login redirect to login.__N__if(empty($_SESSION[\'user\'][\'id_user\'])){__N__    redirectToContainer(\'login-register\');__N__}__N____N____N__// Get Account ID.__N__$user_id = $_SESSION[\'user\'][\'id_user\'];__N__$customer_account = new SocieteAccount($db);__N__$result = $customer_account->fetch($user_id);__N__$customer_id = $customer_account->fk_soc;__N____N__// Get customer ID.__N__$customer = new Societe($db);__N__$result = $customer->fetch($customer_id);__N____N__// Check if this product is owned by this customer__N__$product = new Product($db);__N__$result = $product->fetch($product_id);__N__$sql = \'SELECT count(rowid) as prices FROM \'.MAIN_DB_PREFIX.\'product_fournisseur_price WHERE fk_product = \'.((int) $product_id).\' and fk_soc = \'.((int) $customer_id);__N__$resql = $db->query($sql);__N__$is_owner = $db->fetch_object($resql);__N__if ($is_owner->prices == 0) {__N__    // To render view of another user__N__    if (!empty(GETPOST(\'id_customer\'))) {__N__        // Only for members with a specific role__N__        require_once DOL_DOCUMENT_ROOT.\"/adherents/class/adherent.class.php\";__N__        $membre = new Adherent($db);__N__        $result = $membre->fetch(\'\', 0, $customer_id);__N__        __N__        $adminsCat = new Categorie($db);__N__    	$adminsCat->fetch(1);__N__    	__N__    	$result = $adminsCat->containsObject(\'member\', $membre->id);__N__    	if ($result <= 0) {__N__            redirectToContainer(\'manage-products\');__N__    	}__N__    } else {__N__        redirectToContainer(\'manage-products\');__N__    }__N__}__N__// END PHP __N__?>__N__<div id=\"page\">__N__  <div class=\"header-container\">__N__    <?php __N__        includeContainer(\'header\');__N__        $__PAGE__TITLE__ = $weblangs->trans(\"productStatisticsPageTitle\");__N__    ?>__N__  </div>__N____N__  <div class=\"columns-container\">__N__    <div id=\"columns\" class=\"container\">__N__        <!--  Breadcrumb  -->__N__        <div class=\"breadcrumb clearfix\">__N__        	<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <a href=\"myaccount.php\" title=\"<?php print $weblangs->trans(\"myAccount\"); ?>\" data-gg=\"\"><?php print $weblangs->trans(\"manageProducts\"); ?></a>__N__        	<span class=\"navigation-pipe\">&gt;</span> <?php print $weblangs->trans(\"orderHistory\"); ?>__N__        </div>__N__        <!--  Breadcrumb  -->__N__      <div id=\"slider_row\" class=\"row\">__N__        <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__      </div>__N__      <div class=\"row\">__N__        <!-- include lefet sidebar container -->__N__        <?php includeContainer(\'sidebar\'); ?>__N__        <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__          <div class=\"clearfix\">__N__                <?php__N__                    // Get product object__N__                    $product = new Product($db);__N__                    $result = $product->fetch($product_id);__N__                ?>__N__                <h1 class=\"page-heading\"><?php print $weblangs->trans(\"product\"); ?> : <?php print $product->label; ?></h1>__N__                <div id=\"block-history\" class=\"block-center\">__N__                    <div id=\"block-order-detail\" class=\"unvisible\" style=\"display: block;\">__N__                		<div id=\"order-detail-content\" class=\"table_block table-responsive\">__N__                			<table class=\"table table-bordered table-bordered-block-order-detail order-history\">__N__                				<thead>__N__                					<tr>__N__                						<th class=\"item\" width=\"50\">#</th>__N__                						<th class=\"item\" width=\"150\"><?php print $weblangs->trans(\"orderRef\"); ?></th>__N__                						<th class=\"item\"><?php print $weblangs->trans(\"ThirdPartyName\"); ?></th>__N__                						<th class=\"item\" width=\"120\"><?php print $weblangs->trans(\"date\"); ?></th>__N__                						<th class=\"last_item\"><?php print $weblangs->trans(\"amountEarned\"); ?></th>__N__                					</tr>__N__                				</thead>__N__                				<tbody>__N__                				    <?php__N__                				    // Get list of orders for this product __N__                					$orders_for_product = \"SELECT c.rowid, c.ref, c.fk_statut, c.fk_soc, c.date_commande, c.module_source , d.total_ht \";__N__                                    $orders_for_product .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__                                    $orders_for_product .= \"WHERE c.rowid = d.fk_commande and d.fk_product = \" . ((int) $product->id) . \" and c.fk_statut IN (1,3) and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__                                    $orders_for_product .= $db->order(\"date_commande\", \"DESC\");__N__                                    if ($result_orders = $db->query($orders_for_product)) {__N__                                        $i = 1;__N__                                    	while ($order_details = $result_orders->fetch_object()) {__N__                                    	    if (!empty($conf->cache[\'thirdparty\'][$order_details->fk_soc])) {__N__                                    	        $customer = $conf->cache[\'thirdparty\'][$order_details->fk_soc];__N__                                    	    } else {__N__                                    	        $customer = new Societe($db);__N__                                    	        $customer->fetch($order_details->fk_soc);__N__                                    	    __N__                                    	        $conf->cache[\'thirdparty\'][$order_details->fk_soc] = $customer;__N__                                    	    }__N__                                    	    __N__                                    	    // Calculate discount for this order line__N__                                            $TOTAL_DISCOUNTS = 0;__N__                                            $sum_all_discounts = \"SELECT SUM(d.total_ht) as total \";__N__                                            $sum_all_discounts .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d \";__N__                                            $sum_all_discounts .= \"WHERE c.rowid = d.fk_commande \";__N__                                            $sum_all_discounts .= \"AND c.rowid = \".$order_details->rowid.\" \";__N__                                            $sum_all_discounts .= \"AND d.description LIKE \'\" . ((int) $product->id) . \"# %\' \";__N__                                            $sum_all_discounts .= \"AND (c.facture = 1 OR c.note_private LIKE \'%Order imported%\' OR c.ref_ext IS NOT NULL) \";__N__                                            $sum_all_discounts .= \"AND c.module_source = \'Marketplace\' \";__N__                                            $resql = $db->query($sum_all_discounts);__N__                                            $sells_discounts = $db->fetch_object($resql);__N__                                            $TOTAL_DISCOUNTS = $sells_discounts->total;__N__                                    ?>__N__                    					<tr class=\"item\">__N__                    					    <td>__N__                    					        <p><?php print $i; ?></p>__N__                    					    </td>__N__                    					    <td>__N__                    					        <p><?php print $order_details->ref; ?></p>__N__                    					    </td>__N__                    					    <td>__N__                    						        <b><?php print $customer->name; ?></b><br>__N____N__                    						        <small class=\"cart_ref\">__N__                                                        <?php print $weblangs->trans(\"Email\"); ?>: <?php print $customer->email; ?><br>__N__                                                        <?php print $weblangs->trans(\"registredOn\"); ?>: <?php print dol_print_date($customer->date_creation, \'day\'); ?>__N__                    						        </small>__N____N__                    						</td>__N__                    						<td>__N__                    						    <p><?php print dol_print_date($order_details->date_commande, \'day\'); ?></p>__N__											</td>__N__                    						<td width=\"160\">__N__                    							<p><span class=\"price\"><?php print price($order_details->total_ht); ?> €</span> <?php if ($TOTAL_DISCOUNTS) { print \"(\" . price($TOTAL_DISCOUNTS) . \")\"; } ?> </p>__N__                    						</td>__N__                    					</tr>__N__                					    <?php__N__                					    $i++;__N__                                    	}__N__                                    }__N__                                    ?>__N__                				</tbody>__N__                			</table>__N__                		</div>__N__                    </div>__N__                </div>__N__                <ul class=\"footer_links clearfix\">__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"myaccount.php\">__N__                			<span>__N__                				<i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"backToYourAccount\"); ?>__N__                			</span>__N__                		</a>__N__                	</li>__N__                	<li>__N__                		<a class=\"btn btn-default button button-small\" href=\"index.php\">__N__                			<span><i class=\"icon-chevron-left\"></i> <?php print $weblangs->trans(\"Home\"); ?></span>__N__                		</a>__N__                	</li>__N__                </ul>__N__          </div>__N__        </div>__N__      </div>__N__    </div>__N__  </div>__N__  <!-- .columns-container -->__N__  <div class=\"footer-container\">__N__    <?php includeContainer(\'footer\'); ?>__N__  </div>__N__</div>', '', 0);

-- Page ID 42__+MAX_llx_website_page__ - Aliases products-list-grid --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(42__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'products-list-grid', '', 'product list grid', 'product list grid', '', '', '', '1', '2024-02-02 16:48:47', '2025-01-16 14:52:28', null, '', 'blogpost', '', '<script type=\"text/javascript\">__N__  var displayList = false;__N__  var page_name = \'tt\';__N__  var quickView = false;__N__  var request = window.location.href;__N__  var display = \"grid\";__N__</script>__N____N__<?php // BEGIN PHP__N__includeContainer(\'_library_page_lib.php\', 1);__N__$current_lang = $_SESSION[\'lang\'][\'code\'];__N__$current_lang_short_code = $_SESSION[\'lang\'][\'shortcode\'];__N____N____N__$root_cat_object = new Categorie($db);__N____N__if(GETPOST(\'cat\', \'alpha\')){__N__	$root_category_id = GETPOST(\'cat\', \'alpha\');__N__}__N____N__if(GETPOST(\'extcat\', \'alpha\')){__N__	$root_category_extid = GETPOST(\'extcat\', \'alpha\');__N__}__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$list = GETPOST(\'list\', \'alpha\');__N__$search_words = GETPOST(\'search_query\', \'alpha\');__N__$cat = GETPOST(\'cat\', \'alpha\');__N__$extcat = GETPOST(\'extcat\', \'alpha\');__N____N__$isHomePage = !GETPOST(\'tag\', \'alpha\') && !GETPOST(\'cat\', \'alpha\') && !GETPOST(\'list\', \'alpha\') && !GETPOST(\'search_query\', \'alpha\') && !GETPOST(\'extcat\', \'alpha\');__N____N__if (!empty($search_words)) {__N__    $keywords = explode(\" \", $search_words);__N__    $request = \'\';__N__    $order = \'ORDER BY CASE \';__N____N__    foreach ($keywords as $key => $value) {__N__        if ($key != 0) {__N__            $request .= \" OR \";__N__        }__N__        $value = $db->escape($db->escapeforlike($value));__N____N__        // Build the search conditions for labels, notes, and vendor names__N__        $request .= \"(ol.label LIKE \'%\" . $value . \"%\' OR __N__                    ol.note LIKE \'\" . $value . \" %\'  OR __N__                    ol.note LIKE \'% \" . $value . \" %\'  OR __N__                    ol.note LIKE \'% \" . $value . \"\' OR__N__                    ol.note LIKE \'%>\" . $value . \" %\' OR__N__                    ol.note LIKE \'% \" . $value . \"<%\' OR__N__                    s.nom LIKE \'%\" . $value . \"%\')\";__N____N__        // Define the order of results based on matching criteria__N__        // Level 1: Full match in the label__N__        $order .= \"WHEN ol.label LIKE \'\" . $value . \" %\' THEN 1 \";__N__        $order .= \"WHEN ol.label LIKE \'% \" . $value . \" %\' THEN 1 \";__N__        $order .= \"WHEN ol.label LIKE \'% \" . $value . \"\' THEN 1 \";__N____N__        // Level 2: Partial match in the label or vendor name__N__        $order .= \"WHEN ol.label LIKE \'%\" . $value . \"%\' THEN 2 \";__N__        $order .= \"WHEN s.nom LIKE \'%\" . $value . \"%\' THEN 2 \";__N____N__        // Level 3: Full Match in the notes(Long description) field__N__        $order .= \"WHEN ol.note LIKE \'\" . $value . \" %\' THEN 3 \";__N__        $order .= \"WHEN ol.note LIKE \'% \" . $value . \" %\' THEN 3 \";__N__        $order .= \"WHEN ol.note LIKE \'% \" . $value . \"\' THEN 3 \";__N__        $order .= \"WHEN ol.note LIKE \'%>\" . $value . \" %\' THEN 3 \";__N__        $order .= \"WHEN ol.note LIKE \'% \" . $value . \"<%\' THEN 3 \";__N____N__        //$order .= \"WHEN ol.description LIKE \'%\" . $value . \"%\' THEN 4 \";__N__    }__N__    __N__    // Finalize filter and order__N__    $filter = \"($request) AND (o.tosell = 1) \";__N__    $order .= \" END, o.datec DESC\";  // Complete the order clause__N__} else {__N__    $filter = \'o.tosell = 1\';__N__}__N____N__$page_no = GETPOST(\'p\', \'alpha\');__N__if(empty($page_no)) {__N__	$page_no = 1;__N__}__N____N__$limit = GETPOST(\'n\', \'alpha\');__N__if(empty($limit)) {__N__	$limit = 11;__N__}else{__N__	$limit = $limit -1;__N__}__N____N__$orderby = GETPOST(\'orderby\', \'alpha\');__N__switch ($orderby) {__N__	case \'price\':__N__		$sortfield = \'price_ttc\';__N__		break;__N__	case \'name\':__N__		$sortfield = \'label\';__N__		break;__N__	case \'reference\':__N__		$sortfield = \'ref\';__N__		break;__N__	default:__N__		$sortfield = \'datec\';__N__		break;__N__}__N____N__$orderway = GETPOST(\'orderway\', \'alpha\');__N__switch ($orderway) {__N__	case \'asc\':__N__		$sortorder = \"ASC\";__N__		break;__N__	case \'desc\':__N__		$sortorder = \"DESC\";__N__		break;__N__	default:__N__		$sortorder = \"DESC\";__N__		break;__N__}__N____N__if ($page_no == 1) {__N__	$offset = 0;__N__}else{__N__	$offset = ( $limit * ($page_no-1) )+($page_no - 1);__N__}__N____N__$id = null;__N__$type  = Categorie::TYPE_PRODUCT;__N__$is_for_sell = 1;__N____N__if (empty($tag)) {__N__	if (isset($root_category_id) || isset($root_category_extid)) {__N__	    if (isset($root_category_id)) {__N__	        $result = $root_cat_object->fetch($root_category_id,\"\");__N__	    } else {__N__	        $result = $root_cat_object->fetch(\'\', \'\', Categorie::TYPE_PRODUCT, $root_category_extid);__N__	    }__N__		__N__		if ($result <= 0) {__N__			redirectToContainer(\'404\');__N__		}__N__		$root_category_id = $root_cat_object->id;__N__		$root_category_label = $root_cat_object->label;__N__	} else {__N__	    if ($isHomePage && getDolGlobalInt(\'MARKETPLACE_ROOT_CATEGORY_ID_BIS\')) {__N__    	    // To force ID of category for v20 products only on Home page__N__    		$result = $root_cat_object->fetch(getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID_BIS\"));__N__	    } else {__N__    		$result = $root_cat_object->fetch(getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\"));__N__	    }__N__		if ($result <= 0) {__N__			redirectToContainer(\'404\');__N__		}__N__		$root_category_label = $root_cat_object->label;__N__		$root_category_id = $root_cat_object->id;__N__	}__N__} else {__N__    if ($tag == \"Specials\") {__N__        $result = $root_cat_object->fetch(getDolGlobalInt(\"MARKETPLACE_SPECIAL_CATEGORY_ID\"));__N__    } else {__N__        $result = $root_cat_object->fetch(\"\", $tag);__N__    }__N__	__N__	if ($result <= 0) {__N__		dol_print_error($db, $root_cat_object->error); exit;__N__	}__N__	$root_category_label = $root_cat_object->label;__N__	$root_category_id = $root_cat_object->id;__N__}__N__$root_category_type = $root_cat_object->type;__N____N__// If Goodies category, redirect to specific page__N__if ($root_category_label == \'Goodies\') {__N__    redirectToContainer(\'goodies\');__N__}__N____N____N__if($root_category_id == getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\") && empty($tag) && empty($search_words) && $list == \"new\") {__N__    $delay_for_new = (int) getDolGlobalInt(\'MARKETPLACE_DELAY_FOR_NEW\', 30);__N__    $dateTime = new \\DateTime();__N__    $interval = new \\DateInterval(\'P\'.$delay_for_new.\'D\');__N__    $dateTime->sub($interval);__N__    $request = \"o.datec > \'\" . $dateTime->format(\'Y-m-d H:i:s\') . \"\'\";__N__    $filter = \"(\".$request . \") And (o.tosell=1)\";__N__}__N____N__// END PHP ?>__N____N__<?php__N__// Count SQL__N__/*$countSql = \"SELECT c.fk_product \";__N__$countSql .= \"FROM llx_categorie_product as c, \";__N__$countSql .= \"llx_product as o, \";__N__$countSql .= \"llx_product_lang as ol \";__N__$countSql .= \"WHERE o.entity IN (1) AND c.fk_categorie = \".$root_category_id.\" AND c.fk_product = o.rowid AND ol.fk_product = o.rowid \";__N__$countSql .= \"AND ol.lang = \'\".$db->escape($current_lang).\"\' AND \";__N__$countSql .= $filter;__N____N__$resql = $db->query($countSql);__N__$count_prods = $resql->num_rows;__N____N__// PRODUCT SQL__N__$sql = \"SELECT c.fk_product as id, o.ref, o.ref_ext, ol.label, ol.description, o.datec, o.price_ttc \";__N__$sql .= \"FROM llx_categorie_product as c, \";__N__$sql .= \"llx_product as o, \";__N__$sql .= \"llx_product_lang as ol \";__N__$sql .= \"WHERE o.entity IN (1) AND c.fk_categorie = \".$root_category_id.\" AND c.fk_product = o.rowid AND ol.fk_product = o.rowid \";__N__$sql .= \"AND ol.lang = \'\".$db->escape($current_lang).\"\' AND \";__N__$sql .= $filter;*/__N____N__// Count SQL__N__$countSql = \"SELECT c.fk_product \";__N__$countSql .= \"FROM llx_categorie_product as c \";__N__$countSql .= \"INNER JOIN llx_product as o ON c.fk_product = o.rowid \";__N__$countSql .= \"INNER JOIN llx_product_lang as ol ON ol.fk_product = o.rowid \";__N__$countSql .= \"LEFT JOIN llx_product_fournisseur_price as pfp ON pfp.fk_product = o.rowid \";__N__$countSql .= \"LEFT JOIN llx_societe as s ON pfp.fk_soc = s.rowid \";__N__$countSql .= \"WHERE o.entity IN (1) AND c.fk_categorie = \" . ((int) $root_category_id) . \" AND \";__N__$countSql .= \"ol.lang = \'\" . $db->escape($current_lang) . \"\' AND \";__N__$countSql .= $filter;__N__$sql .= \" GROUP BY c.fk_product \"; // Added GROUP BY clause to handle multiple supplier prices__N____N__$resql = $db->query($countSql);__N__$count_prods = $resql->num_rows;__N____N__// PRODUCT SQL__N__$sql = \"SELECT c.fk_product as id, o.ref, o.ref_ext, ol.label, ol.description, o.datec, o.price_ttc \";__N__$sql .= \"FROM llx_categorie_product as c \";__N__$sql .= \"INNER JOIN llx_product as o ON c.fk_product = o.rowid \";__N__$sql .= \"INNER JOIN llx_product_lang as ol ON ol.fk_product = o.rowid \";__N__$sql .= \"LEFT JOIN llx_product_fournisseur_price as pfp ON pfp.fk_product = o.rowid \";__N__$sql .= \"LEFT JOIN llx_societe as s ON pfp.fk_soc = s.rowid \";__N__$sql .= \"WHERE o.entity IN (1) AND c.fk_categorie = \" . ((int) $root_category_id) . \" AND \";__N__$sql .= \"ol.lang = \'\" . $db->escape($current_lang) . \"\' AND \";__N__$sql .= $filter;__N__$sql .= \" GROUP BY c.fk_product, o.ref, o.ref_ext, ol.label, ol.description, o.datec, o.price_ttc, s.nom\"; // Added GROUP BY clause to handle multiple supplier prices__N____N__if ($sortfield == \'datec\' && $sortorder == \'DESC\' && !empty($search_words)) {__N__    $sql .= \" \" . $order;__N__} else {__N__    // Home page: random order__N__    if ($isHomePage) {__N__        $sql .= \" ORDER BY RAND() \";__N__    } else {__N__        $sql .= $db->order($sortfield, $sortorder);__N__    }__N__}__N____N__if ($limit > 0 || $offset > 0) {__N__	$sql .= $db->plimit($limit + 1, $offset);__N__}__N____N__$total_no_of_pages = ceil($count_prods / ($limit + 1));__N__$second_last = $total_no_of_pages - 1; // total pages minus 1__N__$previous_page = $page_no - 1;__N__$next_page = $page_no + 1;__N__$test = \"\";__N__?>__N__<?php if ($count_prods > 0 && (strlen($search_words) == 0 || strlen($search_words) > 1)): ?>__N__	<?php if (GETPOST(\'cat\', \'alpha\') != \'\' || GETPOST(\'extcat\', \'alpha\') != \'\'): ?>__N__	    <section id=\"category_info_section\" contenteditable=\"true\">__N__    		<div class=\"content_scene_cat\">__N__    		    <?php__N__        		    $__PAGE__TITLE__ = $root_cat_object->label;__N__                    $__PAGE__DESC__ = $root_cat_object->description;__N__    		    ?>__N__    			<!-- Category image -->__N__    			<div class=\"content_scene_cat_bg\">__N__    				<div class=\"cat_desc\">__N__    					<?php__N__    					    if ($root_cat_object->id == getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\")) {__N__                                print \'<span class=\"category-name\">\' . $weblangs->trans(\"newProducts\") . \'</span>\';__N__                            } else {__N__                                print \'<span class=\"category-name\">\' . $root_cat_object->label . \'</span>\';__N__                            }__N__                        ?>__N__    					<div class=\"rte\">__N__    						<p>__N__    						<?php __N__    						    if ($root_cat_object->id != getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\")) {__N__    						        print $root_cat_object->description;__N__    						    }__N__    						?>__N__						    </p>__N__    					</div>__N__    				</div>__N__    			</div>__N__    		</div>__N__		</section>__N__	<?php endif ?>__N____N__	<?php if (GETPOST(\'tag\', \'alpha\') != \"\" || GETPOST(\'cat\', \'alpha\') != \"\" || GETPOST(\'search_query\', \'alpha\') != \"\" || GETPOST(\'extcat\', \'alpha\') != \'\'): ?>__N__	<section id=\"search_info_section\" contenteditable=\"true\">__N__		<h1 class=\"page-heading product-listing\">__N__			<?php if (GETPOST(\'cat\', \'alpha\') != \'\' || GETPOST(\'extcat\', \'alpha\') != \'\'): ?>__N__				<span class=\"cat-name\"><?php if ($root_cat_object->id != getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\")) {print $root_cat_object->label;} ?></span>__N__			<?php else: ?>__N__				<span class=\"cat-name\"><?php print $weblangs->trans(\"search\"); ?>__N__				<?php if (!empty($tag)): ?>__N__					\"<?php print $tag; ?>\"</span>__N__				<?php endif ?>__N__				<?php if (!empty($keywords)): ?>__N__					<?php foreach ($keywords as $key => $value): ?>__N__						\"<?php print $value; ?>\"</span>__N__					<?php endforeach ?>__N__				<?php endif ?>__N__			<?php endif ?>__N__			<span class=\"heading-counter\"><?php print $weblangs->trans(\"nbrOfProducts\", $count_prods); ?></span>__N__			__N__		</h1>__N__	</section>__N__	<?php endif ?>__N____N__	<?php if (GETPOST(\'tag\', \'alpha\') != \"\" || GETPOST(\'cat\', \'alpha\') != \"\" || GETPOST(\'search_query\', \'alpha\') != \"\" || GETPOST(\'extcat\', \'alpha\') != \'\'): ?>__N__		<div class=\"content_sortPagiBar clearfix\">__N__		<div class=\"sortPagiBar clearfix\">__N__		    __N__			<ul class=\"display hidden-xs\">__N__    			<li class=\"display-title\"><section id=\"grid_list_bottom_section\" contenteditable=\"true\"><?php print $weblangs->trans(\"view\"); ?></section></li>__N__    			<li id=\"grid\" class=\"selected\">__N__    				<a rel=\"nofollow\" href=\"#\" title=\"Grid\">__N__    				<i class=\"icon-th-large\"></i><?php print $weblangs->trans(\"grid\"); ?> </a>__N__    			</li>__N__    			<li id=\"list\">__N__    				<a rel=\"nofollow\" href=\"#\" title=\"List\">__N__    				<i class=\"icon-th-list\"></i><?php print $weblangs->trans(\"list\"); ?> </a>__N__    			</li>__N__			</ul>__N__			<form id=\"productsSortForm\" action=\"\" class=\"productsSortForm\">__N__			<div class=\"select selector1\">__N__				<label for=\"selectProductSort\"><?php print $weblangs->trans(\"sortBy\"); ?></label>__N__				<div class=\"\" id=\"uniform-selectProductSort\" style=\"width: 190.4px;\">__N__				<!--<span style=\"width: 180.4px; user-select: none;\">Price: Lowest first</span>-->__N__				<select id=\"selectProductSort\" class=\"selectProductSort form-control\">__N__					<!--<option value=\"\">--</option>-->__N__					<option value=\"date:desc\" <?php (($orderway == \"desc\" && $orderby == \"date\") || empty($orderway)) ? print \'selected=\"selected\"\' : \'\' ; ?>><?php print $weblangs->trans(\"dateNewestFirst\"); ?></option>__N__					<option value=\"price:asc\" <?php ($orderway == \"asc\" && $orderby == \"price\") ? print \'selected=\"selected\"\' : \'\' ; ?>><?php print $weblangs->trans(\"priceLowestFirst\"); ?></option>__N__					<option value=\"price:desc\" <?php ($orderway == \"desc\" && $orderby == \"price\") ? print \'selected=\"selected\"\' : \'\' ; ?>><?php print $weblangs->trans(\"priceHighestFirst\"); ?></option>__N__					<option value=\"name:asc\" <?php ($orderway == \"asc\" && $orderby == \"name\") ? print \'selected=\"selected\"\' : \'\' ; ?>><?php print $weblangs->trans(\"productNameAToZ\"); ?></option>__N__					<option value=\"name:desc\" <?php ($orderway == \"desc\" && $orderby == \"name\") ? print \'selected=\"selected\"\' : \'\' ; ?>><?php print $weblangs->trans(\"productNameZToA\"); ?></option>__N__					<option value=\"reference:asc\" <?php ($orderway == \"asc\" && $orderby == \"reference\") ? print \'selected=\"selected\"\' : \'\' ; ?>><?php print $weblangs->trans(\"referenceLowestFirst\"); ?></option>__N__					<option value=\"reference:desc\" <?php ($orderway == \"desc\" && $orderby == \"reference\") ? print \'selected=\"selected\"\' : \'\' ; ?>><?php print $weblangs->trans(\"referenceHighestFirst\"); ?></option>__N__				</select>__N__				</div>__N__			</div>__N__			</form>__N__			<!-- /Sort products -->__N__			<!-- nbr product/page -->__N__			<form action=\"\" method=\"get\" class=\"nbrItemPage\">__N__			<div class=\"clearfix selector1\">__N__				<label for=\"nb_item\"> <?php print $weblangs->trans(\"show\"); ?> </label>__N__				<div class=\"\" id=\"uniform-nb_item\" style=\"width: 57.4px;\">__N__				<!--<span style=\"width: 47.4px; user-select: none;\">12</span>-->__N__				<select name=\"n\" id=\"nb_item\" class=\"form-control\">__N__					<option value=\"12\" <?php (($limit + 1) == 12) ? print \'selected=\"selected\"\' : \'\' ; ?> >12</option>__N__					<option value=\"24\" <?php (($limit + 1) == 24) ? print \'selected=\"selected\"\' : \'\' ; ?>>24</option>__N__					<option value=\"60\" <?php (($limit + 1) == 60) ? print \'selected=\"selected\"\' : \'\' ; ?>>60</option>__N__				</select>__N__				</div>__N__				<span><?php print $weblangs->trans(\"perPage\"); ?></span>__N__			</div>__N__			</form>__N__			<!-- /nbr product/page -->__N__		</div>__N__		__N____N__		<div class=\"top-pagination-content clearfix\">__N__            <?php if ($total_no_of_pages > 1): ?>__N__                <!-- show all -->__N__                <div id=\"pagination\" class=\"pagination clearfix\">__N__                    <form class=\"showall\" action=\"\" method=\"get\">__N__                        <div>__N__                            <button type=\"submit\" class=\"btn btn-default button exclusive-medium\">__N__                                <span><?php print $weblangs->trans(\"showAll\"); ?></span>__N__                            </button>__N__                            <input name=\"n\" id=\"nb_item\" class=\"hidden\" value=\"<?php print $count_prods; ?>\">__N__                        </div>__N__                    </form>__N__        __N__                    <!-- show all -->__N__                    <ul class=\"pagination\">__N__                        <li id=\"pagination_previous\" class=\"pagination_previous\" <?php if($page_no <= 1){ echo \"disabled\"; } ?>>__N__                            <a <?php if($page_no > 1){ echo \"href=\'?p=$previous_page\'\"; } ?>>__N__                                <i class=\"icon-chevron-left\"></i>__N__                                <b><?php print $weblangs->trans(\"previous\"); ?></b>__N__                            </a>__N__                        </li>__N__        __N__                        <?php__N__                        $start_page = max(1, $page_no - 2);__N__                        $end_page = min($total_no_of_pages, $page_no + 2);__N__        __N__                        if ($total_no_of_pages <= 10) {__N__                            // Affiche toutes les pages si <= 10__N__                            for ($counter = 1; $counter <= $total_no_of_pages; $counter++) {__N__                                if ($counter == $page_no) {__N__                                    echo \"<li class=\'active current\'><span><span>$counter</span></span></li>\";  __N__                                } else {__N__                                    echo \"<li><a href=\'?p=$counter\'><span>$counter</span></a></li>\";__N__                                }__N__                            }__N__                        } else {__N__                            if ($start_page > 1) {__N__                                echo \"<li><a href=\'?p=1\'><span>1</span></a></li>\";__N__                                if ($start_page > 2) {__N__                                    echo \"<li><span><span><a>...</a></span></span></li>\";__N__                                }__N__                            }__N__                            for ($counter = $start_page; $counter <= $end_page; $counter++) {__N__                                if ($counter == $page_no) {__N__                                    echo \"<li class=\'active\'><span><span>$counter</span></span></li>\";__N__                                } else {__N__                                    echo \"<li><a href=\'?p=$counter\'><span>$counter</span></a></li>\";__N__                                }__N__                            }__N__                            if ($end_page < $total_no_of_pages) {__N__                                if ($end_page < $total_no_of_pages - 1) {__N__                                    echo \"<li><span><span><a>...</a></span></span></li>\";__N__                                }__N__                                echo \"<li><a href=\'?p=$total_no_of_pages\'><span>$total_no_of_pages</span></a></li>\";__N__                            }__N__                        }__N__                        ?>__N__        __N__                        <li class=\"pagination_next <?php if($page_no >= $total_no_of_pages){ echo \'disabled\'; } ?>\">__N__                            <a <?php if($page_no < $total_no_of_pages) { echo \"href=\'?p=$next_page\'\"; } ?>>__N__                                <b><?php print $weblangs->trans(\"next\"); ?></b>__N__                                <i class=\"icon-chevron-right\"></i>__N__                            </a>__N__                        </li>__N__                    </ul>__N__                </div>__N__            <?php endif ?>__N__        __N__            <div class=\"product-count\">__N__                <?php print $weblangs->trans(\"showing\"); ?> __N__                <?php print $offset + 1; ?> - __N__                <?php if(($offset + $limit +1) > $count_prods) { print $count_prods; } else { print $offset + $limit +1; } ?> __N__                <?php print $weblangs->trans(\"of\"); ?> __N__                <?php print $count_prods; ?> __N__                <?php print $weblangs->trans(\"items\"); ?>__N__            </div>__N__        </div>__N____N__		__N__		</div>__N__	<?php endif ?>__N____N__	<ul id=\"homefeatured\" class=\"product_list grid row homefeatured tab-pane\">__N__		<?php__N____N__		//$prods = $root_cat_object->getObjectsInCateg(Categorie::TYPE_PRODUCT, 0,$limit, $offset,$sortfield,$sortorder,$filter,\'\',$current_lang);__N__		//foreach ($prods as $key => $product){__N__		__N__		if ($resql = $db->query($sql)) {__N__		    $key = 0;__N__			while ($product = $resql->fetch_object()) {__N__			    $product->element = \"product\";__N__    		    // check discount and calculate discounted price__N__    		    $discount = marketplace_check_discount($product->id);__N__    		    $discounted_price = marketplace_calculate_discounted_price($product->price_ttc, $discount);__N__    		    //$discount = function_exists(\'marketplace_check_discount\') ? marketplace_check_discount($product->id) : 0;__N__    		    //$discounted_price = function_exists(\'marketplace_calculate_discounted_price\') ? marketplace_calculate_discounted_price($product->price_ttc, $discount) : $product->price_ttc;__N__    __N__    			$thumb = getImagePublicURLOfObject($product,1);__N__    			// Add some css class for each position__N__    			switch ($key) {__N__        			case \'0\':__N__        				$position_class = \"first-in-line first-item-of-tablet-line first-item-of-mobile-line\";__N__        				break;__N__        			case \'1\':__N__        				$position_class = \"last-item-of-mobile-line\";__N__        				break;__N__        			case \'2\':__N__        				$position_class = \"last-item-of-tablet-line first-item-of-mobile-line\";__N__        				break;__N__        			case \'3\':__N__        				$position_class = \"last-in-line first-item-of-tablet-line last-item-of-mobile-line\";__N__        				break;__N__        			case \'4\':__N__        				$position_class = \"first-in-line first-item-of-mobile-line\";__N__        				break;__N__        			case \'5\':__N__        				$position_class = \"last-item-of-tablet-line last-item-of-mobile-line\";__N__        				break;__N__        			case \'6\':__N__        				$position_class = \"first-item-of-tablet-line first-item-of-mobile-line\";__N__        				break;__N__        			case \'7\':__N__        				$position_class = \"last-in-line last-item-of-mobile-line\";__N__        				break;__N__        			case \'8\':__N__        				$position_class = \"first-in-line last-item-of-tablet-line first-item-of-mobile-line\";__N__        				break;__N__        			case \'9\':__N__        				$position_class = \"first-item-of-tablet-line last-item-of-mobile-line\";__N__        				break;__N__        			case \'10\':__N__        				$position_class = \"first-item-of-mobile-line\";__N__        				break;__N__        			case \'11\':__N__        				$position_class = \"last-in-line last-item-of-tablet-line last-item-of-mobile-line\";__N__        				break;__N__        			case \'12\':__N__        				$position_class = \"first-in-line last-line first-item-of-tablet-line first-item-of-mobile-line\";__N__        				break;__N__        			case \'13\':__N__        				$position_class = \"last-line last-item-of-mobile-line\";__N__        				break;__N__        			case \'14\':__N__        				$position_class = \"last-line last-item-of-tablet-line first-item-of-mobile-line last-mobile-line\";__N__        				break;__N__        			case \'15\':__N__        				$position_class = \"last-in-line last-line first-item-of-tablet-line last-item-of-mobile-line last-mobile-line\";__N__        				break;__N__    			}__N__        		?>__N__        		<li class=\"ajax_block_product col-xs-12 col-sm-4 col-md-3 <?php print $position_class; ?>\">__N__        		<div class=\"product-container\">__N__        			<div class=\"left-block\">__N__        			<div class=\"product-image-container\">__N__        				<a class=\"product_img_link\" href=\"product.php?id=<?php print $product->id; ?>&title=<?php print dolSlugify($product->label); ?>&l=<?php print $current_lang_short_code; ?>\" title=\"<?php print $product->label; ?>\">__N__        					<img class=\"replace-2x img-responsive\" src=\"<?php print $thumb; ?>\" alt=\"\" title=\"<?php print $product->label; ?>\" width=\"250\" height=\"250\" />__N__        				</a>__N__        				<div class=\"content_price\">__N__            				<?php if ($product->price_ttc > 0): ?>__N__            				    <?php if ($discounted_price != $product->price_ttc): ?>__N__                                	<span class=\"price product-price original-price\"> <?php print price($product->price_ttc); ?> € </span>__N__                                	<span class=\"price product-price\"> <?php print price($discounted_price); ?> € </span>__N__                                <?php else: ?>__N__            					    <span class=\"price product-price\"> <?php print price($product->price_ttc); ?> € </span>__N__            					<?php endif ?>__N__            				<?php else: ?>__N__                			    <span class=\"price product-price\"> FREE </span>__N__                			<?php endif ?>__N__        				</div>__N__        			</div>__N__        			</div>__N__        			<div class=\"right-block\">__N__        			<h5 class=\"list-grid-product-title\">__N__        				<a class=\"product-name truncate2\" href=\"product.php?id=<?php print $product->id; ?>&title=<?php print dolSlugify($product->label); ?>&l=<?php print $current_lang_short_code; ?>\" title=\"<?php print $product->label; ?>\"> <?php print $product->label; ?> </a>__N__        			</h5>__N__        			<p class=\"product-desc truncate2\"> __N__        				<?php __N__        				if(!empty($product->description)){__N__        					print dol_escape_htmltag($product->description); __N__        				}__N__        				?> __N__        			</p>__N__        			<div class=\"content_price\">__N__        			    <?php if ($product->price_ttc > 0): ?>__N__            			    <?php if ($discounted_price != $product->price_ttc): ?>__N__                            	<span class=\"price product-price original-price\"> <?php print price($product->price_ttc); ?> € </span>__N__                            	<span class=\"price product-price\"> <?php print price($discounted_price); ?> € </span>__N__                            <?php else: ?>__N__            				    <span class=\"price product-price\"> <?php print price($product->price_ttc); ?> € </span>__N__            				<?php endif ?>__N__            			<?php else: ?>__N__            			    <span class=\"price product-price\"> FREE </span>__N__            			<?php endif ?>__N__        			</div>__N__        			<div class=\"button-container\">__N__        			    <form class=\"addtocart\" method=\"post\">__N__        			        <input type=\"hidden\" name=\"product_id\" value=\"<?php print $product->id; ?>\">__N__        			        <input type=\"hidden\" name=\"product_thumb\" value=\"<?php print getImagePublicURLOfObject($product,1); ?>\">__N__        			        <input type=\"hidden\" name=\"product_quantity\" value=\"1\">__N__        			        <?php if ($product->price_ttc > 0): ?>__N__        			            <button type=\"submit\" class=\"button ajax_add_to_cart_button\"><span><?php print $weblangs->trans(\"addToCart\"); ?></span></button>__N__        			        <?php endif ?>__N__            				<a class=\"button lnk_view btn btn-default\" href=\"product.php?id=<?php print $product->id; ?>&title=<?php print dolSlugify($product->label); ?>&l=<?php print $current_lang_short_code; ?>\" title=\"View\">__N__            				    <span><?php print $weblangs->trans(\"More\"); ?></span>__N__            				</a>__N__        				</form>__N__        			</div>__N__        			<div class=\"product-flags\"></div>__N__        			<div class=\"functional-buttons clearfix\"></div>__N__        			</div>__N__        		</div>__N__        		<!-- .product-container> -->__N__        		</li>__N__		<?php __N__			    $key++;__N__			} __N__		}__N__		?>__N__	</ul>__N____N____N__	<?php if (GETPOST(\'tag\', \'alpha\') != \"\" || GETPOST(\'cat\', \'alpha\') != \"\" || GETPOST(\'search_query\', \'alpha\') != \"\" || GETPOST(\'extcat\', \'alpha\') != \'\'): ?>__N__		<div class=\"content_sortPagiBar\">__N__		    <div class=\"bottom-pagination-content clearfix\">__N__                <?php if ($total_no_of_pages > 1): ?>__N__                    <!-- show all -->__N__                    <div id=\"pagination\" class=\"pagination clearfix\">__N__                        <form class=\"showall\" action=\"\" method=\"get\">__N__                            <div>__N__                                <button type=\"submit\" class=\"btn btn-default button exclusive-medium\">__N__                                    <span><?php print $weblangs->trans(\"showAll\"); ?></span>__N__                                </button>__N__                                <input name=\"n\" id=\"nb_item\" class=\"hidden\" value=\"<?php print $count_prods; ?>\">__N__                            </div>__N__                        </form>__N__            __N__                        <!-- show all -->__N__                        <ul class=\"pagination\">__N__                            <li id=\"pagination_previous\" class=\"pagination_previous\" <?php if($page_no <= 1){ echo \"disabled\"; } ?>>__N__                                <a <?php if($page_no > 1){ echo \"href=\'?p=$previous_page\'\"; } ?>>__N__                                    <i class=\"icon-chevron-left\"></i>__N__                                    <b><?php print $weblangs->trans(\"previous\"); ?></b>__N__                                </a>__N__                            </li>__N__            __N__                            <?php__N__                            $start_page = max(1, $page_no - 2);  // Deux pages avant la page actuelle__N__                            $end_page = min($total_no_of_pages, $page_no + 2);  // Deux pages après la page actuelle__N__            __N__                            if ($total_no_of_pages <= 10) {__N__                                // Affiche toutes les pages si <= 10__N__                                for ($counter = 1; $counter <= $total_no_of_pages; $counter++) {__N__                                    if ($counter == $page_no) {__N__                                        echo \"<li class=\'active current\'><span><span>$counter</span></span></li>\";  __N__                                    } else {__N__                                        echo \"<li><a href=\'?p=$counter\'><span>$counter</span></a></li>\";__N__                                    }__N__                                }__N__                            } else {__N__                                // Affiche deux pages avant et après la page actuelle__N__                                if ($start_page > 1) {__N__                                    echo \"<li><a href=\'?p=1\'><span>1</span></a></li>\";__N__                                    if ($start_page > 2) {__N__                                        echo \"<li><span><span><a>...</a></span></span></li>\";__N__                                    }__N__                                }__N__                                for ($counter = $start_page; $counter <= $end_page; $counter++) {__N__                                    if ($counter == $page_no) {__N__                                        echo \"<li class=\'active\'><span><span>$counter</span></span></li>\";__N__                                    } else {__N__                                        echo \"<li><a href=\'?p=$counter\'><span>$counter</span></a></li>\";__N__                                    }__N__                                }__N__                                if ($end_page < $total_no_of_pages) {__N__                                    if ($end_page < $total_no_of_pages - 1) {__N__                                        echo \"<li><span><span><a>...</a></span></span></li>\";__N__                                    }__N__                                    echo \"<li><a href=\'?p=$total_no_of_pages\'><span>$total_no_of_pages</span></a></li>\";__N__                                }__N__                            }__N__                            ?>__N__            __N__                            <li class=\"pagination_next <?php if($page_no >= $total_no_of_pages){ echo \'disabled\'; } ?>\">__N__                                <a <?php if($page_no < $total_no_of_pages) { echo \"href=\'?p=$next_page\'\"; } ?>>__N__                                    <b><?php print $weblangs->trans(\"next\"); ?></b>__N__                                    <i class=\"icon-chevron-right\"></i>__N__                                </a>__N__                            </li>__N__                        </ul>__N__                    </div>__N__                <?php endif ?>__N__            __N__                <div class=\"product-count\">__N__                    <?php print $weblangs->trans(\"showing\"); ?> __N__                    <?php print $offset + 1; ?> - __N__                    <?php if(($offset + $limit +1) > $count_prods) { print $count_prods; } else { print $offset + $limit +1; } ?> __N__                    <?php print $weblangs->trans(\"of\"); ?> __N__                    <?php print $count_prods; ?> __N__                    <?php print $weblangs->trans(\"items\"); ?>__N__                </div>__N__            </div>__N__        __N__		</div>__N__	<?php endif ?>__N__<?php endif ?>__N____N__<?php if ($count_prods == 0 || strlen($search_words) == 1): ?>__N__		<h1 class=\"page-heading  product-listing\">__N__			<?php print $weblangs->trans(\"search\"); ?> <span class=\"heading-counter\"><?php print $weblangs->trans(\"noResultsHaveBeenFound\"); ?></span>__N__		</h1>__N__		<p class=\"alert alert-warning\"><?php print $weblangs->trans(\"noResultsWereFound\"); ?> </p>__N__<?php endif ?>', '', 0);

-- Page ID 43__+MAX_llx_website_page__ - Aliases rechtlicher-hinweise-ber-uns --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(43__+MAX_llx_website_page__, 3__+MAX_llx_website_page__, __WEBSITE_ID__, 'rechtlicher-hinweise-ber-uns', '', 'Rechtlicher Hinweise - Über uns', '', 'de', '', '', '1', '2024-05-06 19:20:58', '2025-01-14 01:05:41', null, '', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N__		__N__		<!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__        <!--  Breadcrumb  -->__N__        __N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Legal_notice_section\" contenteditable=\"true\">__N__                    __N__                    __N__<div class=\"rte\">__N__		<h3>Präsentation</h3>__N__<p>Der Verein Dolibarr bietet die Plattform DoliStore.com an, um Verkäufer und Käufer zusammenzubringen. Nur der Sichtbarkeitsdienst für die verkauften Produkte wird von der Stiftung angeboten. Die Stiftung garantiert nichts bezüglich der Qualität der vom Kunden gekauften Produkte.</p>__N__<p>Der Verein Dolibarr sammelt über den DoliStore im Namen der Autoren/Herausgeber Zahlungen für verkaufte Waren und verwaltet die Weiterleitung der ihnen zustehenden Gelder. In dieser Eigenschaft handelt der Verein unter der Befreiung von der Genehmigung als Zahlungsinstitut gemäß Artikel L521-3 I 2° des Währungs- und Finanzkodex.</p>__N__<p>Der Verein Dolibarr ist ein französischer Verein (Gesetz 1901), der zur Förderung und Entwicklung der Open Source ERP- und CRM-Software Dolibarr gegründet wurde.</p>__N__<p><strong>Rechtliche Informationen über die Stiftung:</strong></p>__N__<ul>__N__<li>WALDEC: W452006878</li>__N__<li>SIRÈNE: 52033993800018</li>__N__<li>NAF: 9499Z</li>__N__</ul>__N__<p>Weitere Informationen auf der Seite <a href=\"https://asso.dolibarr.org/index.php/Dolibarr_foundation\">https://asso.dolibarr.org/index.php/Dolibarr_foundation</a>.</p>__N__<h3>Datenschutzgrundsätze</h3>__N__<p>Durch die Nutzung der Website DoliStore.com stimmen Sie der Verarbeitung Ihrer persönlichen Daten zu, wie in dieser Datenschutzerklärung beschrieben.</p>__N__<p><strong>Unsere Verpflichtungen zu den Datenschutzgrundsätzen sind wie folgt:</strong></p>__N__<ul>__N__<li><strong>Legale, faire und transparente Verarbeitung:</strong> Unsere Datenverarbeitungsaktivitäten haben legitime Gründe. Wir berücksichtigen immer Ihre Rechte, bevor wir persönliche Daten verarbeiten.</li>__N__<li><strong>Zweckbindung:</strong> Die Datenverarbeitung ist auf den Zweck beschränkt, für den die persönlichen Daten erhoben wurden.</li>__N__<li><strong>Datenminimierung:</strong> Wir erheben und verarbeiten nur die minimal erforderliche Menge an persönlichen Daten für jeden Zweck.</li>__N__<li><strong>Speicherdauer:</strong> Die Verarbeitung ist auf einen bestimmten Zeitraum beschränkt. Wir werden Ihre persönlichen Daten nicht länger aufbewahren, als es nötig ist.</li>__N__<li><strong>Integrität:</strong> Wir tun unser Bestes, um die Genauigkeit, Integrität und Vertraulichkeit der Daten zu gewährleisten.</li>__N__</ul>__N__<h3>Definition der Rechte an persönlichen Daten</h3>__N__<ul>__N__<li><strong>Recht auf Information:</strong> Sie müssen wissen, ob Ihre persönlichen Daten verarbeitet werden; welche Daten erhoben werden, woher sie stammen und warum und von wem sie verarbeitet werden.</li>__N__<li><strong>Zugriffsrecht:</strong> Sie haben das Recht, auf die über Sie erhobenen Daten zuzugreifen. Dies schließt das Recht ein, eine Kopie Ihrer gesammelten persönlichen Daten anzufordern und zu erhalten.</li>__N__<li><strong>Recht auf Berichtigung:</strong> Sie haben das Recht, die Berichtigung oder Löschung Ihrer ungenauen oder unvollständigen persönlichen Daten zu verlangen.</li>__N__<li><strong>Recht auf Löschung:</strong> Unter bestimmten Umständen können Sie verlangen, dass Ihre persönlichen Daten aus unseren Aufzeichnungen gelöscht werden.</li>__N__<li><strong>Recht auf Einschränkung oder Widerspruch gegen die Verarbeitung:</strong> Unter bestimmten Bedingungen haben Sie das Recht, die Verarbeitung Ihrer persönlichen Daten einzuschränken oder zu widersprechen.</li>__N__<li><strong>Recht auf Datenübertragbarkeit:</strong> Sie haben das Recht, Ihre persönlichen Daten in einem maschinenlesbaren Format zu erhalten.</li>__N__<li><strong>Recht auf Widerruf der Einwilligung:</strong> Sie haben das Recht, jede gegebene Einwilligung zur Verarbeitung Ihrer persönlichen Daten zu widerrufen.</li>__N__</ul>__N__<h3>Die von uns gesammelten Daten</h3>__N__<p><strong>Von Verkäufern bereitgestellte Informationen:</strong></p>__N__<ul>__N__<li>E-Mail-Adresse, Vorname, Nachname, Firmenname, Unternehmens- oder Steueridentifikationsnummer (Umsatzsteuer-Identifikationsnummer), Rechnungsinformationen.</li>__N__</ul>__N__<p><strong>Von Käufern bereitgestellte Informationen:</strong></p>__N__<ul>__N__<li>E-Mail-Adresse, Vorname, Nachname, Firmenname, Unternehmens- oder Steueridentifikationsnummer (Umsatzsteuer-Identifikationsnummer), Rechnungsinformationen, Mitgliedsstatus im Verein.</li>__N__</ul>__N__<p><strong>Hinweis:</strong> Zahlungsinformationen (Kreditkarte oder Partner-Zahlungs-ID) werden nicht von DoliStore gesammelt oder gespeichert, sondern direkt an den Zahlungsanbieter übermittelt.</p>__N__<p><strong>Automatisch gesammelte Informationen:</strong></p>__N__<ul>__N__<li>Dazu gehören Informationen, die automatisch durch Sitzungs-Cookies oder statistische Analysecookies (basierend auf Google und Matomo) gespeichert werden.</li>__N__<li>Dazu gehört auch die Kaufhistorie.</li>__N__</ul>__N__<p><strong>Informationen von Partnern:</strong></p>__N__<ul>__N__<li>Wir sammeln keine Informationen von Partnern.</li>__N__</ul>__N__<p><strong>Links zu anderen Websites:</strong></p>__N__<ul>__N__<li>Die Seiten der Website können eingebettete Inhalte (z.B. Videos, Bilder, Artikel, Links) enthalten. Eingebettete Inhalte von anderen Websites verhalten sich genauso, als ob der Besucher die andere Website besucht hätte. Diese Websites können Daten über Sie sammeln (IP-Adresse, Verwendung von Cookies, Einbettung von Drittanbieter-Tracking-Tools) oder Ihre Interaktionen mit diesen eingebetteten Inhalten verfolgen, wenn Sie ein Konto auf deren Website haben und eingeloggt sind.</li>__N__</ul>__N__<h3>Verwendung Ihrer persönlichen Daten</h3>__N__<p>Wir verwenden Ihre persönlichen Daten für die folgenden Zwecke:</p>__N__<ul>__N__<li>Um Sie zu identifizieren (Login-E-Mail und gehashte Passwort)</li>__N__<li>Um mit Ihnen bezüglich verkaufter Produkte für Verkäufer oder gekaufter Produkte für Käufer zu kommunizieren (E-Mail)</li>__N__<li>Um Ihre Verkäufer- oder Kundenerfahrung zu verbessern und Ihre Fragen zu beantworten (Kauf- oder Verkaufshistorie)</li>__N__<li>Zur Erfüllung einer gesetzlichen oder vertraglichen Verpflichtung (Rechnungsdaten)</li>__N__<li>Zur Durchführung von Analysen und Recherchen, um unsere Dienste zu verbessern (anonymisierte Statistikdaten über die Nutzung und Navigation der Website).</li>__N__</ul>__N__<p>Wir verarbeiten Ihre persönlichen Daten, um die sich aus dem Gesetz ergebenden Verpflichtungen zu erfüllen und/oder um Ihre persönlichen Daten für die gesetzlich vorgesehenen Optionen zu verwenden. Wir behalten uns das Recht vor, die gesammelten persönlichen Daten zu anonymisieren und diese anonymisierten Daten langfristig zu verwenden. Wir verwenden Daten außerhalb des Anwendungsbereichs dieser Richtlinie nur, wenn sie anonymisiert sind.</p>__N__<p>Wir können Ihre persönlichen Daten für andere Zwecke verarbeiten, die hier nicht erwähnt sind. In diesem Fall wird dieses Dokument aktualisiert.</p>__N__<h3>Speicherdauer Ihrer Daten</h3>__N__<p>Für Benutzer, die sich auf unserer Website registrieren, speichern wir die persönlichen Daten, die in ihrem Profil angegeben sind. Alle Benutzer können ihre persönlichen Informationen jederzeit einsehen, ändern oder löschen.</p>__N__<p>Wir speichern auch die Rechnungsinformationen so lange wie nötig aus buchhalterischen Gründen oder anderen gesetzlichen Verpflichtungen, bis zu Ihrer Aufforderung zur Löschung Ihrer persönlichen Daten oder für die gesetzliche Aufbewahrungsdauer der Rechnungsdaten.</p>__N__<h3>Mit wem Ihre persönlichen Daten geteilt werden</h3>__N__<p><strong>Verkäufer:</strong> Die folgenden persönlichen Daten der Käufer werden den Verkäufern zur Verfügung gestellt, um den Service bereitzustellen oder die Kundenerfahrung zu verbessern: E-Mail, Vorname und Nachname, Name des gekauften Moduls, Preis und Kaufdatum.</p>__N__<p><strong>Käufer:</strong> Die folgenden persönlichen Daten der Verkäufer werden den Käufern zur Verfügung gestellt, um den Service bereitzustellen oder die Kundenerfahrung zu verbessern: E-Mail oder Kontakt-URL des Modulsupports (wenn der Verkäufer Support anbietet).</p>__N__<p><strong>Zahlungsanbieter:</strong> Um die Rolle des Drittzahlungsdienstes zu gewährleisten, verwenden wir die Dienste von Stripe und Paypal. Wir übermitteln ihnen die E-Mail-Adresse und die Adresse des Käufers. Zahlungsinformationen werden nicht von DoliStore gespeichert, sondern direkt von Stripe oder Paypal gesammelt und gespeichert, die uns über den Erfolg oder Misserfolg der Zahlungen informieren.</p>__N__<p><strong>Dritte und gesetzliche Stellen:</strong> Wir geben Ihre persönlichen Daten an Dritte oder an Beamte weiter, wenn wir gesetzlich dazu verpflichtet sind.</p>__N__<p><strong>Andere Dritte außerhalb des Europäischen Wirtschaftsraums:</strong> Wir übermitteln keine Daten an andere Dritte als die oben genannten. Wenn wir persönliche Informationen an Länder außerhalb des Europäischen Wirtschaftsraums übertragen (für die oben genannten Fälle für Verkäufer außerhalb Europas oder für Zahlungsanbieter), stellen wir sicher, dass diese Informationen in Übereinstimmung mit dieser Datenschutzerklärung und den geltenden Datenschutzgesetzen übertragen werden. Wir verlassen uns auf Angemessenheitsentscheidungen der Europäischen Kommission oder verwenden Verträge mit Standardgarantien, die von der Europäischen Kommission veröffentlicht wurden.</p>__N__<p><strong>Administratoren und Moderatoren:</strong> Die Plattform DoliStore wird von den Mitgliedern des Verwaltungsrats des Vereins Dolibarr verwaltet und moderiert. Jedes Vorstandsmitglied hat Zugriffs- und Änderungsrechte auf die Informationen im Profil der Verkäufer, Käufer und auf die Verkaufs-/Kauflisten.</p>__N__<p></p>__N__<p>Die Dolibarr Association kann nicht für die Nutzung dieser Daten durch Verkäufer oder andere Dritte mit autorisiertem Zugriff verantwortlich gemacht werden.</p>__N__<p></p>__N__<h3>Wie wir Ihre Daten sichern</h3>__N__<p>Wir tun unser Bestes, um Ihre persönlichen Daten zu schützen.</p>__N__<p><strong>Verschlüsselung der Kommunikation:</strong> Wir verwenden sichere Protokolle für die Kommunikation und den Datentransfer (wie HTTPS). Wir verwenden Anonymisierung und Pseudonymisierung, wenn dies angemessen ist.</p>__N__<p><strong>Überwachung:</strong> Wir überwachen unsere Systeme, um mögliche Schwachstellen und Angriffe zu erkennen.</p>__N__<p><strong>Backups:</strong> Regelmäßige Backups sind automatisiert.</p>__N__<p>Obwohl wir unser Bestes tun, können wir die vollständige Sicherheit der Informationen nicht garantieren. Wir verpflichten uns jedoch, die zuständigen Behörden über Datenschutzverletzungen zu informieren. Wir werden Sie auch benachrichtigen, wenn eine Bedrohung für Ihre Rechte oder Interessen besteht. Wir werden alles in unserer Macht Stehende tun, um Sicherheitsverletzungen zu verhindern und den Behörden im Falle einer Verletzung zu helfen.</p>__N__<p><strong>Passwort:</strong> Ihr Passwort wird in verschlüsselter Form durch irreversible Verschlüsselung (Hash) gespeichert. Wenn Sie ein Konto bei uns haben, müssen Sie Ihren Benutzernamen und Ihr Passwort geheim halten.</p>__N__<h3>Cookies und andere Technologien, die wir verwenden</h3>__N__<p>Wir verwenden Cookies und/oder ähnliche Technologien, um die Benutzer-Sitzungsfunktionalität zu ermöglichen und anonyme Navigationsstatistiken auf der Website zu erhalten.</p>__N__<p>Ein Cookie ist eine kleine Textdatei, die auf Ihrem Computer (im Speicher oder auf der Festplatte) gespeichert wird. Cookies speichern Informationen, die zur Unterstützung der Funktion von Websites verwendet werden. Wir können nur auf die Cookies zugreifen, die von unserer Website erstellt wurden. Sie können Ihre Cookies auf Browserebene steuern. Das Deaktivieren von Cookies kann die Nutzung einiger Funktionen verhindern.</p>__N__<p><strong>Wir verwenden Cookies für folgende Zwecke:</strong></p>__N__<ul>__N__<li><strong>Notwendige Cookies:</strong> Diese Cookies sind erforderlich, um wichtige Funktionen auf unserer Website zu nutzen, wie das Einloggen und die Persistenz der Sitzung. Diese Cookies sammeln keine persönlichen Informationen.</li>__N__<li><strong>Funktions-Cookies:</strong> Diese Cookies bieten Funktionen, die die Nutzung unseres Dienstes bequemer machen und personalisierte Funktionen ermöglichen. Beispielsweise können sie sich Ihren Namen und Ihre E-Mail-Adresse in Kommentarformularen merken, sodass Sie diese Informationen nicht erneut eingeben müssen.</li>__N__<li><strong>Analytische Cookies:</strong> Diese Cookies werden verwendet, um die Nutzung und Leistung unserer Website und Dienste anonym zu verfolgen.</li>__N__</ul>__N__<p>Sie können die auf Ihrem Computer gespeicherten Cookies über die Einstellungen Ihres Browsers löschen. Sie können auch einige Cookies von Drittanbietern über eine Datenschutzverbesserungsplattform wie optout.aboutads.info oder youronlinechoices.com kontrollieren. Weitere Informationen zu Cookies finden Sie auf allaboutcookies.org.</p>__N__<h3>Kontaktinformationen - DPO</h3>__N__<p>Der Datenschutzbeauftragte (DPO) ist der Präsident des Vereins Dolibarr. Sein Name ist auf dieser Seite angegeben: <a href=\"https://wiki.dolibarr.org/index.php/Office_and_Board_Members\">https://wiki.dolibarr.org/index.php/Office_and_Board_Members</a>.</p>__N__<p>Anfragen bezüglich Ihrer persönlichen Daten können per E-Mail an <a>dolistore@dolibarr.org</a> gestellt werden.</p>__N__<h3>Änderungen dieser Datenschutzerklärung</h3>__N__<p>Wir behalten uns das Recht vor, Änderungen an dieser Datenschutzerklärung vorzunehmen. Letzte Änderung am 14.05.2024.</p>__N__	</div>                    __N____N____N____N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 44__+MAX_llx_website_page__ - Aliases register --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(44__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'register', '', 'register', '', '', '', '', '1', '2024-03-14 13:51:50', '2025-01-16 14:39:17', null, '', 'page', '', '<?php__N__    require_once DOL_DOCUMENT_ROOT.\'/core/class/html.formcompany.class.php\';__N__    $form = new Form($db);__N__    $weblangs->loadLangs(array(\"main\", \"companies\"));__N__?>__N__<?php__N__    if(!empty(GETPOST(\'action\')) && GETPOST(\'action\') == \"register\") {__N__        include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__        include_once DOL_DOCUMENT_ROOT.\'/core/lib/admin.lib.php\';__N__        include_once DOL_DOCUMENT_ROOT.\'/core/modules/security/generate/modGeneratePassStandard.class.php\';__N__        $id_website = $website->id;__N__        $marketplace_third_parties_category = getDolGlobalInt(\"MARKETPLACE_PROSPECTCUSTOMER_ID\");__N__        __N____N__        $customer_firstname = GETPOST(\'firstname\');__N__        $customer_lastname = GETPOST(\'lastname\');__N__        $customer_email = GETPOST(\'email\');__N__        $customer_passwd = GETPOST(\'passwd\');__N__        $customer_address = GETPOST(\'address\');__N__        $customer_city = GETPOST(\'city\');__N__        $customer_postalcode = GETPOST(\'postalcode\');__N__        $customer_country = GETPOSTINT(\'country_id\');__N__        $customer_company = GETPOST(\'company\');__N__        $customer_siret = GETPOST(\'siret\');__N__        $customer_tin = GETPOST(\'tin\');__N__        $back = GETPOST(\'back\');__N__        __N__        $error = 0;__N__        $error_messages = array();__N__        __N__        // Check Captcha return if captcha is activated__N__        if (!empty(getDolGlobalInt(\"MARKETPLACE_GOOGLE_RECAPTCHA_REGISTER_FORM\"))) {__N__            include_once DOL_DOCUMENT_ROOT.\'/core/lib/geturl.lib.php\';__N__            __N__            $recaptchaSecretKey = getDolGlobalString(\"MARKETPLACE_GOOGLE_RECAPTCHA_SECRET_KEY\");__N__            $recaptchaResponse = GETPOST(\'g-recaptcha-response\');__N__        __N__            $responseDataRecaptcha = getURLContent(\"https://www.google.com/recaptcha/api/siteverify?secret=$recaptchaSecretKey&response=$recaptchaResponse\");__N__            $responseDataRecaptcha = json_decode($responseDataRecaptcha[\'content\']);__N__            __N__            if (!$responseDataRecaptcha->success || $responseDataRecaptcha->score < 0.5) {__N__                $error++;__N__                $error_messages[] = $weblangs->trans(\"captchaFail\", ($responseDataRecaptcha->score ?? \'N/A\'));__N__            }__N__        }__N__        __N__        if (!isValidEmail($customer_email)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"emailInvalid\");__N__    	}__N__    	__N__    	__N__    	$sql  = \"select lsa.rowid \";__N__        $sql .= \"from \".MAIN_DB_PREFIX.\"societe_account lsa \";__N__        $sql .= \"where lsa.login = \'\". $db->escape($customer_email) .\"\' \";__N__        $sql .= \"and lsa.fk_website = \". ((int) $id_website) . \" \";__N__        $sql .= \"limit 1\";__N__        __N__        $result = $db->query($sql);__N__		$objsql = $db->fetch_object($result);__N__		__N__		if (!empty($objsql)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"emailAlreadyRegistered\");__N__        }__N__    	__N__    	if (empty($customer_firstname)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->transnoentitiesnoconv(\"Firstname\"));__N__    	}__N__    	__N__    	//if (ctype_alpha(str_replace(array(\"\\n\", \"\\t\", \' \'), \'\', $customer_firstname)) === false) {__N__    	if (!preg_match(\'/^[a-zA-ZÀ-ÖØ-öø-ÿ\\- ]+$/u\', $customer_firstname)) {__N__    	    $error++;__N__            $error_messages[] = $weblangs->trans(\"firstnameContainsLettersOnly\");__N__        }__N__    	__N__    	if (empty($customer_lastname)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->transnoentitiesnoconv(\"Lastname\"));__N__    	}__N__    	__N__    	//if (ctype_alpha(str_replace(array(\"\\n\", \"\\t\", \' \'), \'\', $customer_lastname)) === false) {__N__    	if (!preg_match(\'/^[a-zA-ZÀ-ÖØ-öø-ÿ\\- ]+$/u\', $customer_lastname)) {__N__    	    $error++;__N__            $error_messages[] = $weblangs->trans(\"lastnameContainsLettersOnly\");__N__        }__N__    	__N__    	$check_pass = new modGeneratePassStandard($db, $conf, $langs, $user);__N__    	$is_valid = $check_pass->validatePassword($customer_passwd);__N__    	if(!$is_valid){__N__    	    $error++;__N__    	    $weblangs->load(\"other\");__N__    		$error_messages[] = $weblangs->trans(\"YourPasswordMustHaveAtLeastXChars\", (string) $check_pass->length2);__N__    	}__N__    	__N__    	if (empty($customer_address)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->transnoentitiesnoconv(\"Address\"));__N__    	}__N__    	__N__    	if (empty($customer_city)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->transnoentitiesnoconv(\"Town\"));__N__        } elseif (!preg_match(\'/^[a-zA-ZÀ-ÖØ-öø-ÿ\\- ]+$/u\', $customer_city)) {__N__            $error++;__N__            $error_messages[] = $weblangs->trans(\"cityContainsLettersOnly\");__N__        }__N__        __N__        if (empty($customer_postalcode)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->transnoentitiesnoconv(\"Zip\"));__N__        } elseif (!preg_match(\'/^[a-z0-9\\.\\- ]+$/i\', $customer_postalcode)) {__N__            $error++;__N__            $error_messages[] = $weblangs->trans(\"postalCodeContainsDigitsOnly\");__N__        }__N__    	__N__    	if (empty($customer_country)) {__N__    		$error++;__N__    		$error_messages[] = $weblangs->trans(\"fieldRequired\", $weblangs->transnoentitiesnoconv(\"Country\"));__N__    	}__N__        __N__        if($error == 0){__N__            // Start of transaction__N__            $db->begin();__N__            __N__            $customer = new Societe($db);__N__        __N__        	if (!empty($customer_company)) {__N__        		$customer->name = $customer_company;__N__        	} else {__N__        		$customer->name = dolGetFirstLastname($customer_firstname, $customer_lastname);__N__        	}__N__        	$customer->name_alias = \'\';__N____N__        	$customer->address = $customer_address;__N__        	$customer->town = $customer_city;__N__        	$customer->zip = $customer_postalcode;__N__        	$customer->country_id = $customer_country;__N__        __N__        	$customer->idprof2 = $customer_siret;__N__        	$customer->tva_intra = $customer_tin;__N____N__        	$customer->client = \'2\';    // Set as prospect by default.__N__        	$customer->code_client = \'auto\';__N____N__        	$customer->fournisseur = \'0\';__N__        	$customer->code_fournisseur = \'auto\';__N__        __N__        	//$customer->default_lang = $obj->dol_lang_code;__N__        	__N__        	$customer->ip = getUserRemoteIP();__N__        	__N__        	$result = $customer->create($user);__N__        	if ($result < 0) {__N__    			$error++;__N__    			$error_messages[] = $weblangs->trans(\"errorOccurred\");__N__    		}__N__        	$rowid_soc = $result;__N__        __N__            if ($error == 0) {__N__    			// Add  groups__N__    			$ret_cat = $customer->setCategories($marketplace_third_parties_category, \'customer\');__N__    			if ($ret_cat < 0) {__N__    				$error++;__N__    				$error_messages[] = $weblangs->trans(\"errorOccurred\");__N__    			}__N__    __N__    __N__    			// Add default contact__N__    			$customer->name_bis = $customer_lastname;__N__    			$customer->email = $customer_email;__N__    			$customer->firstname = $customer_firstname;__N__    			$customer->address = $customer_address;__N__    			$customer->town = $customer_city;__N__        	    $customer->zip = $customer_postalcode;__N__    			$customer->country_id = $customer_country;__N__    __N__            	$customer->ip = getUserRemoteIP();__N____N__    			$ret_contact = $customer->create_individual($user);__N__    			if ($ret_contact < 0) {__N__    				$error++;__N__    				$error_messages[] = $weblangs->trans(\"errorOccurred\");__N__    			} else {__N__    			    $currentContactId = $ret_contact;__N__    			}__N__    __N__    __N__    			// Add connection credentials for a specific website	__N__    			if(!empty($id_website)) {__N__    				$societeaccount = new SocieteAccount($db);__N__    				$societeaccount->login = $customer_email;__N__    				$societeaccount->pass_encoding = \"dolibarr\";__N__    				$societeaccount->pass = $customer_passwd;__N__    				$societeaccount->fk_soc = $rowid_soc;__N__    				$societeaccount->fk_website = $id_website;__N__    				$societeaccount->site = \"dolibarr_website\";__N__    				$societeaccount->status = \"1\";__N__		        	$societeaccount->ip = getUserRemoteIP();__N____N__    				$ret_account = $societeaccount->create($user);__N__    				if ($ret_account < 0) {__N__    					$error++;__N__    					$error_messages[] = $weblangs->trans(\"errorOccurred\");__N__    				} else {__N__    					$id_user = $ret_account;__N__    					__N__    					// Link contact to account__N__						$sql = \'UPDATE \' . MAIN_DB_PREFIX . \"socpeople  SET ref_ext = \'\" . $db->escape($id_user) . \"\', note_private = \'Marketplace contact for website account ID : \" . $id_user . \"\' WHERE rowid = \" . ((int) $currentContactId);__N__						$db->query($sql);__N__    				}__N__    			}__N__    		}__N__    		__N__    		if ($error == 0) {__N__    		    $db->commit();__N__            	__N__            	// Send welcome email__N__    		    $substitutionarray = array(__N__		            \'__USER_NAME__\' => $customer->name__N__		        );__N__            	marketplace_send_email(getDolGlobalInt(\"MARKETPLACE_WELCOME_EMAIL_TEMPLATE\"), \'thirdparty\', $societeaccount, $societeaccount->login, $substitutionarray);__N__            	__N____N__                // Set session after having created the thirdparty            	__N__            	session_start(); // start session__N__            	if(isset($_SESSION[\'user\'])){  //if session var already exist__N__                    unset($_SESSION[\'user\']);__N__                }__N____N__                $_SESSION[\'user\'][\'id_user\'] = $id_user;__N__                $_SESSION[\'user\'][\'socid\'] = $rowid_soc;__N__                $_SESSION[\'user\'][\'email\'] = $customer_email;__N__                $_SESSION[\'user\'][\'pseudo\'] = $customer->name;__N__                __N__                if ($back == \'payement\') {__N__                    redirectToContainer(\'payment\');__N__                }__N__                redirectToContainer(\'myaccount\');__N__            } else {__N__            	$db->rollback();__N__            }__N__        }__N__    		__N__    }__N__?>__N____N__<?php__N__    $back = GETPOST(\'back\');__N__?>__N__<div class=\"col-xs-12 col-sm-7\">__N__    <?php if (!empty(getDolGlobalInt(\"MARKETPLACE_GOOGLE_RECAPTCHA_REGISTER_FORM\"))): ?>__N__        <script src=\"https://www.google.com/recaptcha/api.js?render=<?php print getDolGlobalString(\"MARKETPLACE_GOOGLE_RECAPTCHA_SITE_KEY\"); ?>\"></script>__N__    <?php endif ?>__N__	<form action=\"login-register.php\" method=\"post\" id=\"account-creation_form\" class=\"std box\">__N__		<div class=\"account_creation\">__N__			<h3 class=\"page-subheading\"><?php print $weblangs->trans(\"accountCreation\"); ?></h3>__N__			__N__			<?php if (isset($error) && $error != 0): ?>__N__        		<div class=\'alert alert-danger\'>__N__            		<?php $add_s = ($error > 1) ? \"s\" : \"\"; ?>__N__            		<p><?php print $weblangs->trans(\"errorsOccurred\", $error, $add_s); ?></p>__N__            		<ol>__N__            		    <?php foreach ($error_messages as $key => $value): ?>__N__                    		<li><?php print $value; ?></li>__N__                    	<?php endforeach ?>__N__            		</ol>__N__            	</div>__N__        	<?php endif ?>__N__        	__N__			<div class=\"required form-group\">__N__				<label for=\"customer_firstname\"><?php print $weblangs->trans(\"Firstname\"); ?> <sup>*</sup></label>__N__				<input type=\"text\" class=\"is_required validate form-control\"id=\"firstname\" name=\"firstname\" value=\"<?php if (isset($customer_firstname)){print $customer_firstname;} ?>\">__N__			</div>__N__			<div class=\"required form-group\">__N__				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Lastname\"); ?> <sup>*</sup></label>__N__				<input type=\"text\" class=\"is_required validate form-control\" id=\"lastname\" name=\"lastname\" value=\"<?php if (isset($customer_lastname)){print $customer_lastname;} ?>\">__N__			</div>__N__			<div class=\"required form-group\">__N__				<label for=\"email\"><?php print $weblangs->trans(\"Email\"); ?> <sup>*</sup></label>__N__				<input type=\"text\" class=\"is_required validate form-control\" id=\"email\" name=\"email\" value=\"<?php if (isset($customer_email)){print $customer_email;} ?>\">__N__			</div>__N__			<div class=\"required password form-group\">__N__				<label for=\"passwd\"><?php print $weblangs->trans(\"Password\"); ?> <sup>*</sup></label>__N__				<input type=\"password\" class=\"is_required validate form-control\" name=\"passwd\" id=\"passwd\" autocomplete=\"new-password\" value=\"<?php if (isset($customer_passwd)){print $customer_passwd;} ?>\">__N__			</div>__N__			<div class=\"required form-group\">__N__				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Address\"); ?> <sup>*</sup></label>__N__				<input type=\"text\" class=\"is_required validate form-control\" id=\"Address\" name=\"address\" value=\"<?php if (isset($customer_address)){print $customer_address;} ?>\">__N__			</div>__N__			<div class=\"required form-group\">__N__				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Town\"); ?> <sup>*</sup></label>__N__				<input type=\"text\" class=\"validate form-control\" id=\"City\" name=\"city\" value=\"<?php if (isset($customer_city)){print $customer_city;} ?>\">__N__			</div>__N__			<div class=\"required form-group\">__N__				<label for=\"customer_lastname\"><?php print $weblangs->trans(\"Zip\"); ?> <sup>*</sup></label>__N__				<input type=\"text\" class=\"validate form-control\" id=\"Postalcode\" name=\"postalcode\" value=\"<?php if (isset($customer_postalcode)){print $customer_postalcode;} ?>\">__N__			</div>__N__			<div class=\"required form-group\">__N__    			<label for=\"email\"><?php print $weblangs->trans(\"Country\"); ?> <sup>*</sup></label>__N__			    <?php print $form->select_country(GETPOSTISSET(\'country_id\') ? GETPOST(\'country_id\') : \'\', \'country_id\', \'\', 0, \'form-control\'); ?>__N__			</div>__N____N____N__		</div>__N__		<div class=\"account_creation\">__N__			<h3 class=\"page-subheading page-subheading-login\"><?php print $weblangs->trans(\"yourCompanyInformation\"); ?></h3>__N__			<p class=\"form-group\">__N__				<label for=\"\"><?php print $weblangs->trans(\"Company\"); ?></label>__N__				<input type=\"text\" class=\"form-control\" id=\"company\" name=\"company\" value=\"<?php if (isset($customer_company)){print $customer_company;} ?>\">__N__			</p>__N__			<p class=\"form-group\">__N__				<label for=\"siret\"><?php print $weblangs->trans(\"MarketPlaceBusinessNumber\"); ?></label>__N__				<input type=\"text\" class=\"form-control\" id=\"siret\" name=\"siret\" value=\"<?php if (isset($customer_siret)){print $customer_siret;} ?>\">__N__			</p>__N__			<p class=\"form-group\">__N__				<label for=\"tin\"><?php print $weblangs->trans(\"MarketPlaceTIN\"); ?></label>__N__				<input type=\"text\" class=\"form-control\" id=\"tin\" name=\"tin\" value=\"<?php if (isset($customer_tin)){print $customer_tin;} ?>\">__N__			</p>__N__		</div>__N__		<input type=\"hidden\" name=\"action\" value=\"register\">__N__		<input type=\"hidden\" name=\"back\" value=\"<?php print $back; ?>\">__N__		__N__		<?php if (!empty(getDolGlobalInt(\"MARKETPLACE_GOOGLE_RECAPTCHA_REGISTER_FORM\"))): ?>__N__            <input type=\"hidden\" name=\"g-recaptcha-response\" id=\"g-recaptcha-response\">__N__        <?php endif ?>__N__        __N__		<div class=\"submit clearfix\">__N__			<hr>__N__			<button type=\"submit\" name=\"submitAccount\" id=\"submitAccount\" class=\"btn btn-default button button-medium\">__N__				<span><?php print $weblangs->trans(\"register\"); ?> <i class=\"icon-chevron-right right\"></i></span>__N__			</button>__N__			<p class=\"pull-right\"><span><sup>*</sup> <?php print $weblangs->trans(\"requiredField\"); ?></span></p>__N__		</div>__N__	</form>__N__	__N__	<?php if (!empty(getDolGlobalInt(\"MARKETPLACE_GOOGLE_RECAPTCHA_REGISTER_FORM\"))): ?>__N__        <script>__N__            grecaptcha.ready(function () {__N__                grecaptcha.execute(\'<?php print getDolGlobalString(\"MARKETPLACE_GOOGLE_RECAPTCHA_SITE_KEY\"); ?>\', { action: \'submit\' }).then(function (token) {__N__                    document.getElementById(\'g-recaptcha-response\').value = token;__N__                });__N__            });__N__        </script>__N__    <?php endif ?>__N__</div>', '', 0);

-- Page ID 45__+MAX_llx_website_page__ - Aliases sicheres-bezahlen --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(45__+MAX_llx_website_page__, 2__+MAX_llx_website_page__, __WEBSITE_ID__, 'sicheres-bezahlen', '', 'Sicheres Bezahlen', 'Sicheres Bezahlen', 'de', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 22:14:26', '2025-01-14 02:27:27', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N____N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N__            __N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"about_payement_section\" contenteditable=\"true\">__N__				<div class=\"rte\">__N__                  <h2>Sicherheit beim Bezahlen</h2>__N__                  <p>Wann und weshalb eine Zahlung, wenn die Software eine OpenSource Lizenz (GPL, ...) ist?</p>__N__                  <p>Die meisten Produkte auf dem Markt sind kostenlos und können direkt aus ihrem Profil heruntergeladen werden. Deshalb ist in diesen Fällen keine Zahlung erforderlich.</p>__N__                  <p>Einige Autoren beschließen jedoch, etwas zu berechnen, für ihre Arbeit. Es gibt kein Problem, die beiden Ansätze bei freier Software widersprechen sich nicht (Preis für die Autoren für den Quellcode einer OpenSource Lizenz):</p>__N__                  <p>Der Begriff \"freie Software\" kann sich laut&nbsp;Definition entweder auf die Freiheit oder auf den Preis beziehen. Auf der&nbsp;folgenden Seite der&nbsp;Free Software&nbsp;Foundation können Sie dies gerne nachlesen: <br>__N__                    <a href=\"http://www.gnu.org/philosophy/selling.de.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.de.html</a>__N__                    <br>__N__                    <br>__N__                  </p>__N__                  <h3>Unsere Angebote für Ihre sichere Zahlung</h3>__N__                  <p>__N__                    <span lang=\"de\" xml:lang=\"de\">Die Zahlungsdaten werden&nbsp;mit SSL verschlüsselt gesichert <br>__N__                    </span>__N__                  </p>__N__                  <h3>Verwendung von Visa/Mastercard/Paypal</h3>__N__                  <p>Die Kreditkartenzahlungen werden von unserer Stripe garantiert.</p>__N__                  <p>Die Zahlung durch elektronische Geldbörse sind über den Online-Zahlungsservice Paypal versichert.</p>__N__                </div>__N__				</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 46__+MAX_llx_website_page__ - Aliases sidebar --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(46__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'sidebar', '', 'sidebar', 'sidebar', '', '', '', '1', '2024-02-02 16:48:47', '2025-01-16 16:22:18', null, '', 'other', '', '<?php // BEGIN PHP__N____N__includeContainer(\"_library_page_lib.php\", 1);__N____N__$current_lang = $_SESSION[\'lang\'][\'code\'];__N__$current_lang_short_code = $_SESSION[\'lang\'][\'shortcode\'];__N____N__$mcid = getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\");__N__if (empty($mcid)) {__N__  print $weblangs->trans(\"variableNotDefined\", \'MARKETPLACE_ROOT_CATEGORY_ID\');__N__  exit;__N__}__N__$root_cat_object = new Categorie($db);__N__$result = $root_cat_object->fetch($mcid);__N__$root_category_id = $root_cat_object->id;__N__$root_category_type = $root_cat_object->type;__N____N__$current_category_id = GETPOST(\'cat\', \'alpha\');__N__// END PHP __N__?>__N__<!-- BEGIN LEFT SIDEBAR -->__N__<div id=\"left_column\" class=\"column col-xs-12 col-sm-3\">__N__  <section id=\"left_column_1\">__N__    <div id=\"categories_block_left\" class=\"block\">__N__      <h2 class=\"title_block\"> <?php print $weblangs->trans(\"sidebarCategories\"); ?> </h2>__N__      <div class=\"block_content\">__N__        <?php__N__        $organized_tree = getOrganizedTree($mcid);__N__        if (count($organized_tree) < 1) {__N__            print \'<tr class=\"oddeven nobottom\">\';__N__            print \'<td colspan=\"3\"><span class=\"opacitymedium\">\' . $weblangs->trans(\"NoSubCat\") . \'</span></td>\';__N__            print \'</tr>\';__N__        }__N__        ?>__N__        <ul class=\"tree dhtml\">__N__          <?php foreach ($organized_tree as $key => $value) : ?>__N__            <?php if ($value[\'label\'] != \"Versions\" && $value[\'label\'] != \"Specials\") : ?>__N__              <li>__N__                <a href=\"index.php?cat=<?php print $value[\'rowid\']; ?>&title=<?php print dolSlugify($value[\'label\']); ?>&l=<?php print $current_lang_short_code; ?>\" <?php ($current_category_id == $value[\'rowid\']) ? print \'class=\"selected\"\' : \'\'; ?> title=\"\"> <?php print $value[\'label\']; ?> </a>__N__                <?php if (isset($value[\'children\'])) : ?>__N__                  <ul>__N__                    <?php usort($value[\'children\'], build_sorter(\'position\')); ?>__N__                    <?php foreach ($value[\'children\'] as $key_children => $value_children) : ?>__N__                      <li>__N__                        <a href=\"index.php?cat=<?php print $value_children[\'rowid\']; ?>&title=<?php print dolSlugify($value_children[\'label\']); ?>&l=<?php print $current_lang_short_code; ?>\" <?php ($current_category_id == $value_children[\'rowid\']) ? print \'class=\"selected\"\' : \'\'; ?> title=\"<?php print dol_escape_htmltag(strip_tags($value_children[\'description\'])); ?>\"> <?php print $value_children[\'label\']; ?> </a>__N__                      </li>__N__                    <?php endforeach ?>__N__                  </ul>__N__                <?php endif ?>__N__              </li>__N__            <?php endif ?>__N__          <?php endforeach ?>__N__        </ul>__N__      </div>__N__    </div>__N__  </section>__N__          __N__  <div id=\"tags_block_left\" class=\"block tags_block\">__N__    <p class=\"title_block\"> <?php print $weblangs->trans(\"versions\"); ?> </p>__N__    <div class=\"block_content\">__N__      <?php__N__        $mvcid = getDolGlobalInt(\"MARKETPLACE_VERSIONS_CATEGORY_ID\");__N__        if (empty($mvcid)) {__N__            print $weblangs->trans(\"variableNotDefined\", \'MARKETPLACE_VERSIONS_CATEGORY_ID\');__N__        } else {__N__            $full_version_tree = getOrganizedTree($mvcid, \'label\');__N__            if (count($full_version_tree) < 1) {__N__                print \'<tr class=\"oddeven nobottom\">\';__N__                print \'<td colspan=\"3\"><span class=\"opacitymedium\">\' . $langs->trans(\"NoSubCat\") . \'</span></td>\';__N__                print \'</tr>\';__N__            }__N__        }__N__      ?>__N____N__      <?php foreach (array_reverse($full_version_tree) as $key => $value) : ?>__N__        <?php if ($value[\'rowid\'] != $mvcid) : ?>__N__          <a class=\"tag_version\" href=\"index.php?tag=<?php print $value[\'label\']; ?>\" title=\"<?php print $value[\'description\']; ?>\"> <?php print $value[\'label\']; ?> </a>__N__        <?php endif ?>__N__      <?php endforeach ?>__N__    </div>__N__  </div>__N____N____N__  <div id=\"special_block_right\" class=\"block hideonsmartphone\">__N__    <p class=\"title_block\">__N__      <a href=\"#\" title=\"Specials\"> <?php print $weblangs->trans(\"specialPromo\"); ?> </a>__N__    </p>__N__    <div class=\"block_content products-block\">__N__      <ul>__N__        <?php__N__        $mcsid = getDolGlobalInt(\"MARKETPLACE_SPECIAL_CATEGORY_ID\");__N__        if (empty($mcsid)) {__N__          print $weblangs->trans(\"variableNotDefined\", \'MARKETPLACE_SPECIAL_CATEGORY_ID\');__N__          exit;__N__        }__N__        $root_cat_object = new Categorie($db);__N__        $result = $root_cat_object->fetch($mcsid);__N__        $limit = 2;__N__        __N__        $sql = \"SELECT c.fk_product as id, o.ref, o.ref_ext, ol.label, ol.description, o.datec, o.price_ttc \";__N__        $sql .= \"FROM llx_categorie_product as c, \";__N__        $sql .= \"llx_product as o, \";__N__        $sql .= \"llx_product_lang as ol \";__N__        $sql .= \"WHERE o.entity IN (1) AND c.fk_categorie = \".$root_cat_object->id.\" AND c.fk_product = o.rowid AND ol.fk_product = o.rowid \";__N__        $sql .= \"AND ol.lang = \'\".$db->escape($current_lang).\"\' AND o.tosell = 1 \";__N__        $sql .= $db->order(\'datec\', \'DESC\');__N__        $sql .= $db->plimit($limit);__N____N__        if ($resql = $db->query($sql)) {__N__		    $key = 0;__N__			while ($product = $resql->fetch_object()) {__N__			    $product->element = \"product\";__N__			    __N__			    $discount = marketplace_check_discount($product->id);__N__		        $discounted_price = marketplace_calculate_discounted_price($product->price_ttc, $discount);__N____N__                $thumb = getImagePublicURLOfObject($product, 1, \'_small\');__N__                ?>__N__                <li class=\"clearfix\">__N__                    <a class=\"products-block-image\" href=\"product.php?id=<?php print $product->id; ?>&title=<?php print dolSlugify($product->label); ?>&l=<?php print $current_lang_short_code; ?>\">__N__                      <img class=\"replace-2x img-responsive width98\" src=\"<?php print $thumb; ?>\" alt=\"\" title=\"<?php print $product->label; ?>\" />__N__                    </a>__N__                    <div class=\"product-content\">__N__                      <h5>__N__                        <a class=\"product-name truncate2\" href=\"product.php?id=<?php print $product->id; ?>&title=<?php print dolSlugify($product->label); ?>&l=<?php print $current_lang_short_code; ?>\" title=\"<?php print $product->label; ?>\"> <?php print $product->label; ?> </a>__N__                      </h5>__N__                      <p class=\"product-description truncate2\">__N__                        <?php__N__                        if (isset($product->description)) {__N__                          print dolPrintHTML(dol_string_nohtmltag($product->description));__N__                        }__N__                        ?>__N__                      </p>__N__                      <div class=\"price-box\">__N__                            <?php if ($discounted_price != $product->price_ttc): ?>__N__                            	<span class=\"price special-price\"> <?php print price($discounted_price); ?> € </span>__N__                                <span class=\"old-price\"> <?php print price($product->price_ttc); ?> € </span>__N__                            <?php else: ?>__N__                                <span class=\"price\"> <?php print price($product->price_ttc); ?> € </span>__N__                            <?php endif ?>__N__                        <!--<span class=\"price-percent-reduction\">-50%</span>__N__        				<span class=\"old-price\"> 300,00 € </span>-->__N__                      </div>__N__                    </div>__N__                </li>__N__        <?php __N__			}__N__		}__N__        ?>__N__      </ul>__N__      <div>__N__        <a class=\"btn btn-default button button-small\" href=\"index.php?tag=Specials\" title=\"<?php print $weblangs->trans(\"allSpecials\"); ?>\">__N__          <span><?php print $weblangs->trans(\"allSpecials\"); ?> <i class=\"icon-chevron-right right\"></i>__N__          </span>__N__        </a>__N__      </div>__N__    </div>__N__  </div>__N____N__  <div id=\"new-products_block_right\" class=\"block products_block hideonsmartphone\" contenteditable=\"true\">__N__    <h4 class=\"title_block\">__N__      <a href=\"#\" title=\"New products\"><?php print $weblangs->trans(\"newProducts\"); ?></a>__N__    </h4>__N__    <div class=\"block_content products-block\">__N__      <ul class=\"products\">__N__        <?php__N__        $result = $root_cat_object->fetch($root_category_id, \"\");__N__        if ($result <= 0) {__N__          dol_print_error($db, $root_cat_object->error);__N__          exit;__N__        }__N__        $limit = 2;__N__        __N__        $sql = \"SELECT c.fk_product as id, o.ref, o.ref_ext, ol.label, ol.description, o.datec, o.price_ttc \";__N__        $sql .= \"FROM llx_categorie_product as c, \";__N__        $sql .= \"llx_product as o, \";__N__        $sql .= \"llx_product_lang as ol \";__N__        $sql .= \"WHERE o.entity IN (1) AND c.fk_categorie = \".$root_cat_object->id.\" AND c.fk_product = o.rowid AND ol.fk_product = o.rowid \";__N__        $sql .= \"AND ol.lang = \'\".$db->escape($current_lang).\"\' AND o.tosell = 1 \";__N__        $sql .= $db->order(\'datec\', \'DESC\');__N__        $sql .= $db->plimit($limit);__N____N__        if ($resql = $db->query($sql)) {__N__		    $key = 0;__N__			while ($product = $resql->fetch_object()) {__N__			    $product->element = \"product\";__N__			    __N__			    $discount = marketplace_check_discount($product->id);__N__		        $discounted_price = marketplace_calculate_discounted_price($product->price_ttc, $discount);__N____N__                $thumb = getImagePublicURLOfObject($product, 1, \'_small\');__N__                ?>__N__                <li class=\"clearfix\">__N__                    <a class=\"products-block-image\" href=\"product.php?id=<?php print $product->id; ?>&title=<?php print dolSlugify($product->label); ?>&l=<?php print $current_lang_short_code; ?>\" title=\"<?php print $product->label; ?>\">__N__                      <img class=\"replace-2x img-responsive width98\" src=\"<?php print $thumb; ?>\" alt=\"\" title=\"<?php print $product->label; ?>\" />__N__                    </a>__N__                    <div class=\"product-content\">__N__                      <h5>__N__                        <a class=\"product-name truncate2\" href=\"product.php?id=<?php print $product->id; ?>&title=<?php print dolSlugify($product->label); ?>&l=<?php print $current_lang_short_code; ?>\" title=\"<?php print $product->label; ?>\"> <?php print $product->label; ?> </a>__N__                      </h5>__N__                      <p class=\"product-description truncate2\">__N__                        <?php__N__                        if (isset($product->description)) {__N__                          print dolPrintHTML(dol_string_nohtmltag($product->description));__N__                        }__N__                        ?>__N__                      </p>__N__                      <div class=\"price-box\">__N__        				<?php if ($discounted_price != $product->price_ttc): ?>__N__                        	<span class=\"price special-price\"> <?php print price($discounted_price); ?> € </span>__N__                            <span class=\"old-price\"> <?php print price($product->price_ttc); ?> € </span>__N__                        <?php else: ?>__N__                            <span class=\"price\"> <?php print price($product->price_ttc); ?> € </span>__N__                        <?php endif ?>__N__                      </div>__N__                    </div>__N__                </li>__N__        <?php __N__			} __N__        }__N__        ?>__N__      </ul>__N__      <div>__N__        <a href=\"index.php?cat=<?php print $root_category_id; ?>&list=new\" title=\"<?php print $weblangs->trans(\"allNewProducts\"); ?>\" class=\"btn btn-default button button-small\">__N__          <span><?php print $weblangs->trans(\"allNewProducts\"); ?> <i class=\"icon-chevron-right right\"></i>__N__          </span>__N__        </a>__N__      </div>__N__    </div>__N__  </div>__N__</div>__N__<!-- END LEFT SIDEBAR -->', '', 0);

-- Page ID 47__+MAX_llx_website_page__ - Aliases terminos-y-condiciones-de-uso_vendedores-de-modulos --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(47__+MAX_llx_website_page__, 50__+MAX_llx_website_page__, __WEBSITE_ID__, 'terminos-y-condiciones-de-uso_vendedores-de-modulos', '', 'Términos y condiciones de uso - Vendedores de módulos', 'Términos y condiciones de uso - Vendedores de módulos', 'es', '', '', '1', '2024-05-06 21:55:38', '2024-05-06 23:56:23', null, '', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                    	<h2>Términos y condiciones de uso para&nbsp;vendedores de módulos</h2>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Artículo S1</h3>__N__                    	<p>Los productos y módulos proporcionados en DoliStore son enviados por cualquier proveedor con una cuenta en la__N__                    		plataforma, sin ningún vínculo con la asociación Dolibarr.</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">Sólo pueden__N__                    		ser publicados los módulos/extensiones liberados bajo una&nbsp;<a__N__                    			style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"__N__                    			href=\"https://opensource.org/licenses/alphabetical\" target=\"_blank\">approved OSI licence</a>, y compatible__N__                    		con la licencia GPL v3+ Dolibarr si el módulo es una obra derivada (por el uso de componentes o API) de__N__                    		Dolibarr.</p>__N__                    	<h3></h3>__N__                    	<h3>Artículo&nbsp;S2</h3>__N__                    	<p>El vendedor, previa presentación de una factura a la asociación Dolibarr, podrá recibir los pagos de las compras.__N__                    		Recibirá el 80% de las ganancias obtenidas por la asociación. No se pueden reclamar pagos de las compras antes__N__                    		de 1 mes de la misma, y si el total a recibir de todas las ventas no supera los 50 euros.</p>__N__                    	<p>El pago se puede realizar :</p>__N__                    	<p>- O por transferencia SEPA a una cuenta bancaria en EURO.</p>__N__                    	<p>- Ya sea mediante pago con tarjeta (el vendedor debe proporcionar la interfaz para permitir el pago)</p>__N__                    	<p>- Ya sea mediante pago a través de Paypal (el vendedor debe proporcionar su cuenta de paypal).</p>__N__                    	<p></p>__N__                    	<h3>Artículo S3</h3>__N__                    	<p>El vendedor debe informar en la descripción del producto toda la información requerida, a saber:<br><br>* Una__N__                    		descripción breve y significativa sobre el aporte del módulo.<br>* La versión del módulo<br>* El nombre del__N__                    		autor, la licencia.<br>* Si se ofrece soporte y si es así, por qué canal. S<span__N__                    			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">i no se__N__                    			ofrece soporte, debe indicarse.</span><br>* Versión de Dolibarr con la que es compatible (versión mínima y__N__                    		máxima).<br><br>Se puden añadir enlaces para información complementaria, pero sólo en el campo descripción__N__                    		larga.<br><br>Si uno de estos puntos no se cumple, o si la versión de Dolibarr es demasiado antigua, la__N__                    		asociación se reserva el derecho de eliminar el producto, sin ningún tipo de justificación.</p>__N__                    	<p><br> Si el módulo es de pago, el vendedor está obligado a indicar la información de contacto para soporte vía un__N__                    		canal válido (e-mail activo, página de soporte en la web del vendedor, etc) así como una descripción en los__N__                    		idiomas disponibles (aunque sea un copiar-pegar de la descripción inglesa para los idiomas no soportados). Es__N__                    		posible indicar que el soporte solo se ofrece en un solo idioma. No es obligatorio un enlace hacia una demo del__N__                    		módulo, aunque es muy recomendable</p>__N__                    	<h3 style=\"font-size:12px;font-style:normal;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"></h3>__N__                    	<h3 style=\"font-size:12px;font-style:normal;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">Artículo S4__N__                    	</h3>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">Cuando varios__N__                    		módulos sean muy similares y compatibles con la misma versión de Dolibarr, la asociación se reserva el derecho__N__                    		de no validar los módulos presentados después del primero, con el fin de evitar el pegado y copiado del módulo__N__                    		(posible gracias a la licencia GPL). Si un módulo no se actualiza en el plazo de cuatro meses desde el__N__                    		lanzamiento de una nueva versión de Dolibarr, la asociación aceptará que el módulo sea publicado por otro__N__                    		vendedor (no siendo el autor original) que lo haya actualizado para poder ser usado en la última versión de__N__                    		Dolibarr, a fin de evitar que algunos módulos se encuentren abandonados. Además, la asociación puede desactivar__N__                    		sin previo aviso módulos que solo funcionen en versiones antiguas de Dolibarr.</p>__N__                    	<p>&nbsp;</p>__N__                    	<h3>¿Por qué un pago si el software tiene una licencia de código abierto (GPL, ...)?</h3>__N__                    	<p>La mayoría de los productos disponibles en esta tienda son gratuitos y se pueden descargar directamente. Sin__N__                    		necesidad de pagar.</p>__N__                    	<p>Sin embargo, algunos autores deciden cobrar algo para distribuir sus trabajos. No hay ningún problema para__N__                    		conciliar los dos enfoques (Precio por distribuir el código versus licencia Open Source): La Free Software__N__                    		Foundation, que ha creado la licencia GNU GPL, una de las licencias más utilizadas para el software de código__N__                    		abierto, permite y fomenta esto. Ofrece algunas explicaciones en esta página:<a__N__                    			href=\"http://www.gnu.org/philosophy/selling.html\" target=\"_blank\">__N__                    			http://www.gnu.org/philosophy/selling.html</a></p>__N__                    	<p>&nbsp;</p>__N__                    </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 48__+MAX_llx_website_page__ - Aliases terminos-y-condicones-de-uso --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(48__+MAX_llx_website_page__, 49__+MAX_llx_website_page__, __WEBSITE_ID__, 'terminos-y-condicones-de-uso', '', 'Términos y condicones de uso', 'Términos y condicones de uso', 'es', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 21:46:00', '2024-05-06 23:46:49', null, 'https://www.dolistore.com/en/', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                    	<h2>Términos y condiciones de uso</h2>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Artículo 1</h3>__N__                    	<p>Los productos y módulos proporcionados en DoliStore son enviados por cualquier proveedor con una cuenta en la__N__                    		plataforma, sin ningún vínculo con la asociación Dolibarr.</p>__N__                    	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">Sólo pueden__N__                    		ser publicados los módulos/extensiones liberados bajo una&nbsp;<a__N__                    			style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"__N__                    			href=\"https://opensource.org/licenses/alphabetical\" target=\"_blank\">approved OSI licence</a>, y compatible__N__                    		con la licencia GPL v3+ Dolibarr si el módulo es una obra derivada (por el uso de componentes o API) de__N__                    		Dolibarr.</p>__N__                    	<h3>Artículo 2</h3>__N__                    	<p>El precio de venta e impuestos son fijados por el vendedor. La venta (y su comisión), sin embargo, será validada__N__                    		después de un período de un mes después de la compra (con el fin de permitir al comprador interactuar con el__N__                    		editor del módulo en caso de problemas). Durante este tiempo, la asociación podrá cancelar cualquier venta por__N__                    		cualquier razón y sin necesidad de prevenir al vendedor (si ese fuera el caso, aparecería en las estadísticas de__N__                    		la cónsola de administración del vendedor). La asociación Dolibarr se queda con el 20% de la venta para__N__                    		garantizar los gastos de gestión, gastos de cancelación, o transferencia bancaria. Las cantidades sobrantes se__N__                    		utilizarán para financiar el desarrollo de Dolibarr ERP/CRM.</p>__N__                    	<h3>Artículo 3</h3>__N__                    	<p>El comprador no puede reclamar nada a la asociación Dolibarr, incluso si el producto adquirido no funciona__N__                    		correctamente. La asociación Dolibarr no realiza pruebas de calidad de los productos disponibles en la tienda.__N__                    		Toda ayuda debe ser solicitada por el comprador a través del canal de ayuda indicada en la descripción del__N__                    		producto, si el proveedor la ofrece (información obligatoria en la descripción del producto). La Asociación se__N__                    		reserva el derecho de inhabilitar un módulo si causa demasiadas quejas.</p>__N__                    	<h3>Artículo 4</h3>__N__                    	<p>Una vez se reciba el pago, el comprador puede descargar los archivos de los módulos/productos pedidos desde su__N__                    		cuenta, a través de \"Mis pedidos\" o desde un enlace disponible en el correo electrónico recibido por el__N__                    		comprador una vez que su pago sea validado.<br><br> El producto puede ser descargado desde el sitio web__N__                    		DoliStore durante una duración de 1 año.</p>__N__                    	<h3>¿Por qué un pago si el software tiene una licencia de código abierto (GPL, ...)?</h3>__N__                    	<p>La mayoría de los productos disponibles en esta tienda son gratuitos y se pueden descargar directamente. Sin__N__                    		necesidad de pagar.</p>__N__                    	<p>Sin embargo, algunos autores deciden cobrar algo para distribuir sus trabajos. No hay ningún problema para__N__                    		conciliar los dos enfoques (Precio por distribuir el código versus licencia Open Source): La Free Software__N__                    		Foundation, que ha creado la licencia GNU GPL, una de las licencias más utilizadas para el software de código__N__                    		abierto, permite y fomenta esto. Ofrece algunas explicaciones en esta página:<a__N__                    			href=\"http://www.gnu.org/philosophy/selling.html\" target=\"_blank\">__N__                    			http://www.gnu.org/philosophy/selling.html</a></p>__N__                    	<p>&nbsp;</p>__N__                    </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 49__+MAX_llx_website_page__ - Aliases terms-and-conditions --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(49__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'terms-and-conditions', '', 'Terms and conditions of use', 'Terms and conditions', 'en', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-02-02 16:48:47', '2024-05-06 23:14:02', null, 'https://www.dolistore.com/en/', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                	<h2>Terms and conditions of use</h2>__N__                	<p></p>__N__                	<p>&nbsp;</p>__N__                	<h3>Rule 1</h3>__N__                	<p>Products and modules provided on DoliStore are submitted by any supplier with an account on platform, with no__N__                		need to be affiliated to the Dolibarr foundation (this may change in future).</p>__N__                	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Only__N__                			modules published under an&nbsp;</span><a__N__                			style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"__N__                			href=\"https://opensource.org/licenses/alphabetical\" target=\"_blank\">approved OSI licence</a>&nbsp;can be__N__                		published. Also if your module is a derivative work of Dolibarr&nbsp;(use Dolibarr components, files or API,__N__                		this is the case for 99% of modules)&nbsp;your licence must be c<span__N__                			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\"><span__N__                				style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">ompatible__N__                				with the GPL v3+ license of Dolibarr</span>. If license is not provided, you accept to have your module__N__                			being distributed under the GPL v3+ licence.</span></p>__N__                	<p></p>__N__                	<h3>Rule 2</h3>__N__                	<p><span>The reference selling price is set by the seller.</span>&nbsp; Any sell is however completely validated__N__                		only after a delay of 1 month, after the buying date. During this delay, the foundation can cancel transaction__N__                		for any reason and without notifying the seller (if this occurs, seller will see it into its statistics panel__N__                		into its seller dashboard area).&nbsp;</p>__N__                	<p>The selling price is a reference price without VAT and not the final sale price. At this price, a VAT is added__N__                		(that the Dolibarr foundation pays to government). In addition, when selling on DoliStore, vendors agree that__N__                		sales made to members of the Dolibarr foundation are done through a reduction defined by the foundation (20%).__N__                		The real final purchase price of each sale, appears, excluding VAT, in the detailed sales statistics.</p>__N__                	<p>The foundation keep 20% of amount to pay bank charges, resiliation cost and management fees. Remain money will be__N__                		used to help the promotion of Dolibarr ERP &amp; CRM.</p>__N__                	<p>&nbsp;</p>__N__                	<h3>Rule 3</h3>__N__                	<p>Once payment is received, the buyer can download ordered modules/products files, from its account are \"My__N__                		orders\", or from a link available in email received by buyer once its payment is validated.</p>__N__                	<p>The product can be downloaded from DoliStore web site during a duration of 1 year after payment.</p>__N__                	<p>&nbsp;</p>__N__                	<h3>Rule 4</h3>__N__                	<p>The buyer cannot in any case hold responsible the association Dolibarr as for the good functioning or not of the__N__                		acquired product, the quality of the documentation which accompanies it or not, nor with the requirement of the__N__                		prerequisites necessary to use the product . The association does not ensure quality control of the modules__N__                		(except on the form of the package). The association reserves the right to de-validate a module if it causes too__N__                		many complaints.</p>__N__                	<p>In the event of a problem installing or using the module purchased, any assistance must be sought by the buyer__N__                		from the module editor directly, via the support channel described in the product description, if the supplier__N__                		provides, information mandatory in the product description (if this information is not available, please alert__N__                		the association).</p>__N__                	<p>The buyer may possibly obtain a refund under the following conditions:</p>__N__                	<p>- The buyer must appear within 1 month after the date of purchase</p>__N__                	<p>- The buyer must have first tried to resolve the problem via discussions with the module editor. The emails__N__                		exchanged with this money can be sent to the association for proof (to dolistore@dolibarr.org). A period__N__                		necessary to allow these exchanges between the buyer and the publisher will be required by the association in__N__                		order to maximize the chances of amicable resolutions before the initiation of the cancellation of the sale and__N__                		the refund.</p>__N__                	<p>&nbsp;&nbsp;</p>__N__                	<h3>When and why a payment if software has an Open-Source Licence (GPL, ...) ?</h3>__N__                	<p>Most products available on this market place are free of charge and can be downloaded directly from this market__N__                		place. No payment is required in this case.</p>__N__                	<p>However, some authors decide to charge something to distribute their works. There is no problem to conciliate__N__                		both approaches (Price to distribute code versus OpenSource licence): The<strong> Free Software__N__                			Foundation</strong>, that has created the GNU GPL Licence, one of the most used licence for OpenSource__N__                		software, allows and encourages this, and provides some explanations on this page :<br><a__N__                			href=\"http://www.gnu.org/philosophy/selling.html\"__N__                			target=\"_blank\">http://www.gnu.org/philosophy/selling.html</a></p>__N__                </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 50__+MAX_llx_website_page__ - Aliases terms-and-conditions-of-use-module-providers --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(50__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'terms-and-conditions-of-use-module-providers', '', 'Terms and conditions of use - Module providers', '', 'en', '', '', '1', '2024-04-19 10:28:36', '2025-01-13 12:32:18', null, '', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                	<h2>Terms and conditions of use for module&nbsp;providers</h2>__N__                	<p></p>__N__                	<p>&nbsp;</p>__N__                	<h3>Rule S1</h3>__N__                	<p>Products and modules provided on DoliStore are submitted by any supplier with an account on platform, with no__N__                		need to be affiliated to the Dolibarr foundation (this may change in future).</p>__N__                	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Only__N__                			modules published under an&nbsp;</span><a__N__                			style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"__N__                			href=\"https://opensource.org/licenses/alphabetical\" target=\"_blank\">approved OSI licence</a>&nbsp;can be__N__                		published. Also if your module is a derivative work of Dolibarr&nbsp;(use Dolibarr components, files or API,__N__                		this is the case for 99% of modules)&nbsp;your licence must be c<span__N__                			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\"><span__N__                				style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">ompatible__N__                				with the GPL v3+ license of Dolibarr</span>. If license is not provided, you accept to have your module__N__                			being distributed under the GPL v3+ licence.</span></p>__N__                	<p></p>__N__                	<h3>Rule S2</h3>__N__                	<p>The seller can send an invoice to the Dolibarr foundation, to received payments of its purchased module/products,__N__                		1 month after the purchase (this laps of time is used to cancel the payment at the buyer request). The seller__N__                		will receive 80% of gains made by the foundation.</p>__N__                	<p>A seller can claim money only if total amount is more or equals to 50 euros (for Europe), or 100 euros (for non__N__                		euro countries). Requests are limited to 1 per month maximum.</p>__N__                	<p>Payment can be made:</p>__N__                	<p>- by SEPA transfer to a bank account in EURO.</p>__N__                	<p>- Either via card payment (the seller must then provide the interface to allow payment)</p>__N__                	<p>- Either by payment via Paypal (the seller must then provide his Paypal account).</p>__N__                	<p>&nbsp;</p>__N__                	<h3>Rule S3</h3>__N__                	<p>A) The seller must provide into product description, all mandatory information, this means at least:</p>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">* a short__N__                		description.</p>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">* module__N__                		version</p>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"><span__N__                			style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">* name of__N__                			author and licence.</span></p>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"><span__N__                			style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">* one__N__                			photo (one required, but several recommended)</span></p>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">* if help__N__                		support is available or not, if yes, how. I<span__N__                			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">f no__N__                			support is provided, this must appears.</span></p>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"></p>__N__                	<p>If the module is not free, a valid support link is mandatory. A description of the module is required for all__N__                		langues available even if it\'s a copy past of English description for all languages. In the support message, the__N__                		seller can say that the support language is only English for exemple. A link to a demo version is not mandatory__N__                		but fairly welcome.</p>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\"></p>__N__                	<p>* the Dolibarr version the module is compatible with (both minimum and maximum version must be provided. Must be__N__                		values with format x.y.z, \"dev\" is not allowed as a value since it is not a version and * is allowed only for__N__                		third part of version, like x.y.*).</p>__N__                	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">B) Rules__N__                			on links or mention of other web sites</span></p>__N__                	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Additional__N__                			information links can be included, but only in the long description field. The number of external links is__N__                			limited to 10. Links can refer to an external web site that provide one of the following service__N__                			(and&nbsp;exclusively services into this list):<strong> demo, documentation, contact, forums, issue tracker,__N__                				code sources or social networks</strong> (so links to another downloadable file or to another market__N__                			place is not allowed for example. A link to a not found or 404 error page are also not allowed). </span></p>__N__                	<p><span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">In__N__                			addition, these links must not point to a url or an url leading after redirection to a site whose domain__N__                			name does not respect the rules for using the name \"Dolibarr\" or \"Dolistore\" defined&nbsp;<a__N__                				href=\"https://wiki.dolibarr.org/index.php/Rules_to_use_the_brand_name_%22Dolibarr%22\">on this__N__                				page</a>.&nbsp;If the site or page to which the link points has sub-sections where the same module is__N__                			also for sale, the price must not be lower then the one on Dolistore.</span></p>__N__                	<p>You can sell your module from any other platform at any price, but it is not allowed to put<strong> on the__N__                			dolistore product descriptions or notes</strong>, some links or mentions to other \"selling\" platforms where__N__                		your product can also be available. If such links are found somewhere in module\'s description card, the__N__                		foundation can remove it from description or completely disable the module or the seller account.</p>__N__                	<p>C) Rules on packaging</p>__N__                	<p>All module that do not respect conditions explain here : <a__N__                			href=\"http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Rules\">https://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Rules</a>__N__                		will not be validated and remove from DoliStore</p>__N__                	<p>D) Disabling modules</p>__N__                	<p>If something is wrong, or if Dolibarr compatible version is too old, the Dolibarr foundation can&nbsp;suspend the__N__                		entry without any other reason.&nbsp;If the same module is found to be deactivated 3 times following a violation__N__                		of the previous rules, the module will either be permanently deactivated, or kept but the price will be forced__N__                		to zero (in accordance with the right to distribute the module for free, attributed by its GPL__N__                		license).&nbsp;Likewise if the author of a module does not respect the rules of use of the Dolibarr or DoliStore__N__                		brand (See <a__N__                			href=\"Likewise%20if%20the%20author%20of%20a%20module%20does%20not%20respect%20the%20rules%20of%20use%20of%20the%20Dolibarr%20or%20DoliStore%20brand%20(See%20https%3A//wiki.dolibarr.org/index.php?title=R%C3%A8gles_d%27utilisation_du_nom_ou_de_la_marque_%25%2022Dolibarr%22_(ou_%22DoliStore%22),%20its%20modules%20may%20also%20be%20withdrawn%20from%20sale%20or%20kept%20but%20with%20a%20price%20forced%20to%20zero%20(in%20accordance%20with%20the%20right%20to%20distribute%20the%20module%20for%20free,%20granted%20by%20its%20GPL%20license).\">here</a>),__N__                		its modules may also be withdrawn from sale or kept but with a price forced to zero (in accordance with the__N__                		right to distribute the module for free, granted by its GPL license).&nbsp;</p>__N__                	<p></p>__N__                	<h3>Rule S4</h3>__N__                	<p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">When several__N__                		modules, compatible with same version of Dolibarr, are too similar, the foundation reserves the right not to__N__                		validate the modules submitted after the first, in order to avoid copying and pasting module (possible by the__N__                		GPL). If a module is not updated within 4 months after the release of a new version of Dolibarr, the foundation__N__                		will accept the module is published by another vendor (than o<span__N__                			style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">riginal__N__                			author) that had ported the module in the recent version of Dolibarr, in order to avoid that some modules__N__                			are abandoned. Furthermore, the association may, without warning, disable modules on too old version of__N__                			Dolibarr.</span></p>__N__                	<p></p>__N__                	<h3>Rule S5 - How to appear on home page</h3>__N__                	<p>There is some conditions to appear on home page. Modules must match all this rules:</p>__N__                	<p>- with a link to documentation</p>__N__                	<p>- editor of module must be a Dolibarr Preferred Partner</p>__N__                	<p>- maximum 10 modules by partner</p>__N__                	<p>- only the one compatible with last stable Dolibarr version</p>__N__                	<p>- only one version per module (the first one that has suggested the first module)</p>__N__                	<p>- an exception can be done for free modules that are really interesting</p>__N__                	<p>Note: rules will be modified to be more strict in the future, to reduce the number of modules on the home page.__N__                	</p>__N__                	<p>If your modules match all this conditions, you can send a list of your module name/id to dolistore@dolibarr.org__N__                		to ask to be on home page.</p>__N__                	<p></p>__N__                	<h3>When and why a payment if software has an Open-Source Licence (GPL, ...) ?</h3>__N__                	<p>Most products available on this market place are free of charge and can be downloaded directly from this market__N__                		place. No payment is required in this case.</p>__N__                	<p>However, some authors decide to charge something to distribute their works. There is no problem to conciliate__N__                		both approaches (Price to distribute code versus OpenSource licence): The<strong> Free Software__N__                			Foundation</strong>, that has created the GNU GPL Licence, one of the most used licence for OpenSource__N__                		software, allows and encourages this, and provides some explanations on this page :<br><a__N__                			href=\"http://www.gnu.org/philosophy/selling.html\"__N__                			target=\"_blank\">http://www.gnu.org/philosophy/selling.html</a></p>__N__                </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 51__+MAX_llx_website_page__ - Aliases unser-kontakt --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(51__+MAX_llx_website_page__, 13__+MAX_llx_website_page__, __WEBSITE_ID__, 'unser-kontakt', '', 'Unser Kontakt', 'Unser Kontakt', 'de', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 22:08:30', '2024-05-07 00:09:15', null, 'https://www.dolistore.com/en/', 'page', '', '<script src=\"/document.php?modulepart=medias&file=js/tools.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/all.js\"></script>__N__<script src=\"/document.php?modulepart=medias&file=js/treeManagement.js\"></script>__N__<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__        <!--  Breadcrumb  -->__N__		<div class=\"breadcrumb clearfix\">__N__			<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__			<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__		</div>__N__		<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__            __N__            <section id=\"contact_us_section\" contenteditable=\"true\">__N__			<div class=\"rte\">__N__              <h2>Kontaktiere uns</h2>__N__              <p>Die Dolibarr Foundation bietet diese DoliStore Plattform an, um Anbietern und Anwendern zu helfen, Module oder Erweiterungen für die <a href=\"https://www.dolibarr.de\" target=\"_blank\">Dolibarr ERP/CRM</a>&nbsp;Softwarelösung zu finden. Es wird nur dieser Service angeboten, für die gekauften Produkte wird keine Garantie von der Foundation zur Verfügung gestellt. Die ordnungsgemäße Funktionalität der Produkte gewährleistet der \"jeweilige Softwareentwickler\" (#1). </p>__N__              <p></p>__N__              <p>Falls Probleme mit einem der Module auftreten sollten, gehen Sie bitte auf die Modulseite und kontaktieren Sie den Autoren wie in der Modulbeschreibung vorgesehen. <br>Es können nur die Autoren des Moduls helfen. Sie sollten immer wenn Sie Fragen oder Probleme haben, diese zuerst kontaktieren. </p>__N__              <p>Wenn nach dem Kontakt mit dem Autoren Ihr Problem noch nicht gelöst wurde, bitten wir Sie die Dolibarr Foundation mit den folgenden Informationen (E-Mail: dolistore@dolibarr.org) zu informieren:</p>__N__              <p>- die Art des Problems (Modulnamen, Modul-Version, Ihre Version von Dolibarr und eine Beschreibung des Problems)</p>__N__              <p>- Eine Zusammenfassung des Austauschs den&nbsp;Sie mit dem Autor hatten (Kopie der gesendeten/empfangen E-Mails)</p>__N__              <p>- wenn keine Antwort, das Datum Ihrer&nbsp;letzten Anfrage ( <span class=\"short_text\" id=\"result_box\" lang=\"de\" xml:lang=\"de\">__N__                  <span>muss&nbsp;länger als </span>__N__                  <span>7 Tage her sein</span>__N__                </span>__N__                <span class=\"trans-verified-button goog-toolbar-button\" id=\"t-served-community-button\">__N__                  <span class=\"jfk-button-img\"></span>__N__                </span>)__N__              </p>__N__              <p>__N__                <span lang=\"de\" xml:lang=\"de\">__N__                  <span>So</span>__N__                  <span>werden wir</span>__N__                  <span>die Schritte wie in den&nbsp; <a href=\"/de/content/3-nutzungs_bedingungen_dolistore\">Nutzungsbedingungen</a> beschrieben&nbsp; </span>__N__                  <span>durchführen: Modul Deaktivierung, Rückabwicklung ...</span>__N__                </span>__N__              </p>__N__              <p>__N__                <span lang=\"de\" xml:lang=\"de\">__N__                  <span>__N__                    <span>Bedeutet ein Dritter, der Erweiterungen für Benutzer entwickelt</span>__N__                  </span>__N__                </span>__N__              </p>__N__              <p>__N__                <span lang=\"de\" xml:lang=\"de\">__N__                  <span>__N__                    <span></span>__N__                  </span>__N__                </span>__N__              </p>__N__              <p>__N__                <span lang=\"de\" xml:lang=\"de\">__N__                  <span>__N__                    <span>#1 <strong>\"jeweilige Softwareentwickler\"</strong> bedeutet eine Drittanbieter der&nbsp;für Benutzer Erweiterungen entwickelt </span>__N__                  </span>__N__                </span>__N__              </p>__N__            </div>__N__			</section>__N____N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 52__+MAX_llx_website_page__ - Aliases unsere-nutzungsbedingungen --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(52__+MAX_llx_website_page__, 49__+MAX_llx_website_page__, __WEBSITE_ID__, 'unsere-nutzungsbedingungen', '', 'Unsere Nutzungsbedingungen', 'Unsere Nutzungsbedingungen', 'de', '', 'shop, plugins, modules, addons, erp, crm, market, store, sell, product, dolibarr', '1', '2024-05-06 21:49:13', '2024-05-06 23:49:57', null, 'https://www.dolistore.com/en/', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                    	<h2><span xml:lang=\"de\" lang=\"de\">Unsere Nutzungsbedingungen</span></h2>__N__                    	<p>&nbsp;</p>__N__                    	<h3>Regel Nr. 1</h3>__N__                    	<p>Die auf der Dolistore Plattform verfügbaren Artikel, wurden mit dem Konto des jeweiligen Anbieters, ohne eine__N__                    		Verbindung zur Dolibarr Foundation,&nbsp;selbstständig auf diese Plattform übertragen (Änderungen vorbehalten).__N__                    		<span>Der Käufer&nbsp;verpflichtet sich dem Vertrauensverhältnis von Lieferanten-Kunden <span>gegenüber dem__N__                    				Verkäufer.</span><br class=\"Apple-interchange-newline\"></span></p>__N__                    	<p>Es können nur Module veröffentlicht werden, die unter einer <a__N__                    			href=\"https://opensource.org/licenses/alphabetical\" target=\"_blank\">anerkannten OSI-Lizenz__N__                    		</a>veröffentlicht wurden. Darüber hinaus gilt, wenn das Modul eine Abwandlung(durch verwendete Komponenten oder__N__                    		API) von Dolibarr ist, muss es mit der GPL Lizenz von Dolibarr kompatibel sein.</p>__N__                    	<h3>Regel Nr. 2</h3>__N__                    	<p>Der Verkaufspreis wird vom Verkäufer festgelegt. Der Verkauf (und die Provision) sind jedoch noch wirklich__N__                    		bestätigt, erst &nbsp;nach einem Zeitraum von 1 Monat nach dem Kauf (um den Käufer zu ermöglichen, mit dem__N__                    		Modul-Hersteller bei Schwierigkeiten zu interagieren) ist der Verkauf bestätigt. Während dieser Zeit kann die__N__                    		Foundation&nbsp;jeden Verkauf aus irgendeinem Grunde kündigen ohne den Verkäufer zu kontaktieren&nbsp;(wenn dies__N__                    		der Fall wäre, würde dies in der Statistik der Verkäufer-Management-Konsole erscheinen).</p>__N__                    	<p>Der Verkaufspreis ist ein Referenzpreis ohne Mehrwertsteuer und nicht der endgültige Verkaufspreis. Zu diesem__N__                    		Preis wird eine Mehrwertsteuer hinzugefügt (welche die Dolibarr-Foundation an die Staatskasse__N__                    		zahlt).&nbsp;<span>Der reale Nettopreis erscheint in der Detail Verkaufs-Statistik.</span></p>__N__                    	<p>Die Foundation erhält 20% des&nbsp;Verkaufspreises, um Bankgebühren, Entschädigungskosten und Verwaltungsgebühren__N__                    		zu zahlen. Das verbleibendes Geld wird verwendet, um die Weiterentwicklung von Dolibarr ERP &amp; CRM zu__N__                    		unterstützen.</p>__N__                    	<h3>Regel Nr. 3</h3>__N__                    	<p>Sobald die Zahlung eingegangen ist, kann der Käufer sofort die bestellten Artikel laden, entweder von ihren__N__                    		Konten Raum „Meine Bestellungen“ oder über einen Link per E-Mail nach der Validierung der Zahlung empfangen.</p>__N__                    	<p>L\'acheteur ne peut en aucun cas tenir pour responsable l\'association Dolibarr quant au bon fonctionnement ou non__N__                    		du produit aquis, à la qualité de la documentation qui l\'accompagne ou non, ni à l\'exigence des prérequis__N__                    		nécessaires pour utiliser le produit. L\'association n\'assure pas de contrôle qualité des modules (si ce n\'est__N__                    		sur la forme du package). Toute aide doit être sollicitée par l\'acheteur via le canal d\'assistance décrit dans__N__                    		la description du produit, si le fournisseur en fournit (information obligatoire dans la description du__N__                    		produit). L\'association se réserve le droit de dévalider un module si celui-ci occasionne trop de réclamations.__N__                    	</p>__N__                    	<p>Le fichier uploadé pour téléchargement doit avoir un packaging soumis aux règles définies sur la page&nbsp;<a__N__                    			style=\"font-size:12px;\"__N__                    			href=\"http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles\">http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles</a>__N__                    	</p>__N__                    	<h3>Regel Nr. 4</h3>__N__                    	<p>Sobald die Zahlung eingegangen ist, kann der Käufer die bestellten Module/Produkte herunterladen, entweder in__N__                    		seinem Kontobereich „Meine Bestellungen“ oder über einen Link, den er nach Bestätigung seiner Zahlung per E-Mail__N__                    		erhält.</p>__N__                    	<p>Das Produkt kann für einen Zeitraum von 1 Jahr ab Zahlungsdatum auf der DoliStore-Plattform heruntergeladen__N__                    		werden.</p>__N__                    	<h3>Wann und weshalb bezahlen, wenn die Software eine Open Source (GPL, ...) ist?</h3>__N__                    	<p><span xml:lang=\"de\" lang=\"de\"><span><span id=\"noHighlight_0.5541014785804147\">Einige Produkte die auf dem__N__                    					Marktplatz verfügbar sind, sind kostenlos und können direkt von Ihrem Profil heruntergeladen werden.__N__                    					In diesem Fall ist keine Bezahlung erforderlich.</span></span><span></span></span></p>__N__                    	<p>Einige Autoren beschließen jedoch, etwas zu berechnen, für ihre Arbeit. Es gibt kein Problem, die beiden Ansätze__N__                    		bei freier Software widersprechen sich nicht (Preis für die Autoren für den Quellcode einer OpenSource Lizenz):__N__                    	</p>__N__                    	<p>Der Begriff \"freie Software\" kann sich laut&nbsp;Definition entweder auf die Freiheit oder auf den Preis__N__                    		beziehen. Auf der&nbsp;folgenden Seite der&nbsp;Free Software&nbsp;Foundation können Sie dies gerne__N__                    		nachlesen:<br><a href=\"http://www.gnu.org/philosophy/selling.de.html\"__N__                    			target=\"_blank\">http://www.gnu.org/philosophy/selling.de.html</a></p>__N__                    </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 53__+MAX_llx_website_page__ - Aliases unsere-nutzungsbedingungen_modulverkaufer --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(53__+MAX_llx_website_page__, 50__+MAX_llx_website_page__, __WEBSITE_ID__, 'unsere-nutzungsbedingungen_modulverkaufer', '', 'Unsere Nutzungsbedingungen - Modulverkäufer', 'Unsere Nutzungsbedingungen - Modulverkäufer', 'de', '', '', '1', '2024-05-06 21:58:22', '2024-05-07 00:04:35', null, '', 'page', '', '<?php // BEGIN PHP__N__require_once DOL_DOCUMENT_ROOT.\'/categories/class/categorie.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/categories.lib.php\';__N____N__$tag = GETPOST(\'tag\', \'alpha\');__N__$cat_id = GETPOST(\'cat\', \'alpha\');__N__$search = GETPOST(\'search_query\', \'alpha\');__N__// END PHP ?> <html lang=\"en\">__N__  __N__  <!-- File generated by Dolibarr website module editor -->__N__  <body id=\"cms\" class=\"bodywebsite cms cms-2 cms-legal-notice-about-us hide-right-column lang_en\">__N__    <div id=\"page\">__N__      <div class=\"header-container\">__N__        <?php includeContainer(\'header\'); ?>__N__      </div>__N__      <div class=\"columns-container\">__N__        <div id=\"columns\" class=\"container\">__N____N__			<!--  Breadcrumb  -->__N__			<div class=\"breadcrumb clearfix\">__N__				<a class=\"home\" href=\"index.php\" title=\"Return to Home\"><i class=\"icon-home\"></i></a>__N__				<span class=\"navigation-pipe\">&gt;</span> <?php print $websitepage->title; ?>__N__			</div>__N__			<!--  Breadcrumb  -->__N__        __N____N____N____N____N__          <div id=\"slider_row\" class=\"row\">__N__            <div id=\"top_column\" class=\"center_column col-xs-12 col-sm-12\"></div>__N__          </div>__N__          <div class=\"row\">__N__            <!-- include lefet sidebar container -->           __N__            <?php includeContainer(\'sidebar\'); ?>__N____N__            <div id=\"center_column\" class=\"center_column col-xs-12 col-sm-9\">__N__              <div class=\"clearfix\">__N__                <section id=\"Terms_section\" contenteditable=\"true\">__N__				    <div class=\"rte\">__N__                      <h2>Unsere Nutzungsbedingungen - Modulverkäufer</h2>__N__                      <p>&nbsp;</p>__N__                      <h3>Regel Nr. S1</h3>__N__                      <p>Die auf der Dolistore Plattform verfügbaren Artikel, wurden mit dem Konto des jeweiligen Anbieters, ohne eine Verbindung zur Dolibarr Foundation,&nbsp;selbstständig auf diese Plattform übertragen (Änderungen vorbehalten). <span>Der Käufer&nbsp;verpflichtet sich dem Vertrauensverhältnis von Lieferanten-Kunden <span>gegenüber dem Verkäufer.</span>__N__                          <br class=\"Apple-interchange-newline\">__N__                        </span>__N__                      </p>__N__                      <p>Es können nur Module veröffentlicht werden, die unter einer <a href=\"https://opensource.org/licenses/alphabetical\" target=\"_blank\">anerkannten OSI-Lizenz </a>veröffentlicht wurden. Darüber hinaus gilt, wenn das Modul eine Abwandlung(durch verwendete Komponenten oder API) von Dolibarr ist, muss es mit der GPL Lizenz von Dolibarr kompatibel sein. </p>__N__                      <h3></h3>__N__                      <h3>Regel Nr. S2</h3>__N__                      <p>Der Autor kann eine Rechnung an die Dolibarr Foundation senden, um die Zahlungen der verkauften Module/Produkte auf der Grundlage von 80% der Einnahmen zu erhalten.&nbsp; Der Anspruch auf eine Auszahlung beginnt einen Monat nach dem Verkauf, ist 1 Mal pro Monat möglich, sofern der Gesamtbetrag 50 Euro (für Länder mit dem Euro), 100 Euro für andere Währungen übersteigt.</p>__N__                      <p>Die Zahlung kann erfolgen:</p>__N__                      <p>- Oder per SEPA-Überweisung auf ein Bankkonto in EURO. <br>- Entweder per Kartenzahlung (der Verkäufer muss dann die Schnittstelle bereitstellen, um die Zahlung zu ermöglichen) <br>- Entweder per Zahlung per Paypal (der Verkäufer muss dann sein Paypal-Konto angeben). </p>__N__                      <p></p>__N__                      <h3>Regel Nr. S3</h3>__N__                      <p>__N__                        <span id=\"result_box\" xml:lang=\"de\" lang=\"de\">__N__                          <span>Der Verkäufer muss</span>__N__                          <span>in</span>__N__                          <span>der Beschreibung</span>__N__                          <span>des Produkts</span> folgende <span> erforderlichen Informationen </span>__N__                          <span></span>angeben <span>:</span>__N__                        </span>__N__                      </p>__N__                      <p>* <span xml:lang=\"de\" lang=\"de\">kurze aussagekräftige Beschreibung des Moduls</span>__N__                      </p>__N__                      <p>* <span xml:lang=\"de\" lang=\"de\">die Modulversion</span>__N__                      </p>__N__                      <p>* <span xml:lang=\"de\" lang=\"de\">Name des Autors und der Lizenz</span>. </p>__N__                      <p>* Art des angebotenen <span xml:lang=\"de\" lang=\"de\">Support der zur Verfügung steht. Wenn keine Unterstützung vorgesehen ist, sollte dies auch angegeben werden.</span>__N__                      </p>__N__                      <p>* <span xml:lang=\"de\" lang=\"de\">die Dolibarr Version, für die es kompatibel ist (die minimale und maximale Version muss zur Verfügung angegeben werden)</span>__N__                      </p>__N__                      <p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">__N__                        <span xml:lang=\"de\" lang=\"de\">__N__                          <span>Weitere</span>__N__                          <span>Informationen</span> ( <span>Links)</span>__N__                          <span>können</span>__N__                          <span>integriert werden (nu</span>__N__                          <span>r</span>__N__                          <span>in dem langen</span>__N__                          <span>Beschreibungsfeld)</span>__N__                          <span>.</span>__N__                        </span>__N__                      </p>__N__                      <p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">__N__                        <span xml:lang=\"de\" lang=\"de\"> Wenn einer dieser Punkte nicht erfüllt ist, oder wenn die Version von Dolibarr zu alt ist, behält sich die Foundation das Recht vor, das Produkt ohne weitere Begründung zu entfernen</span>__N__                      </p>__N__                      <p style=\"font-style:normal;font-size:12px;font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;\">__N__                        <span style=\"font-family:\'Trebuchet MS\', Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;\">Si le module est payant, le vendeur doit obligatoirement mettre les informations de contact de support via un canal valide (mail fonctionnel, page de support sur le site du vendeur,...) ainsi qu\'une description dans les langues disponibles (même si c\'est un copier-coller de la description anglaise pour les langues non supportées par exemple). Il est possible de préciser que le support n\'est valable que dans une seule langue. Un lien vers un site de démonstration n\'est pas obligatoire mais vivement conseillé. <br>__N__                        </span>__N__                      </p>__N__                      <p>__N__                        <span id=\"noHighlight_0.74518527252596\">Wenn die hier beschriebenen Bedingungen:</span>__N__                        <a href=\"http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles\">http://wiki.dolibarr.org/index.php/Module_Dolistore_Validation_Regles</a>__N__                        <span id=\"noHighlight_0.5030463990995454\">nicht gültig <span>sind</span> wird das Modul nicht bestätigt oder es wird aus dem Verkauf genommen. </span>__N__                      </p>__N__                      <p></p>__N__                      <h3>Regel Nr. S4</h3>__N__                      <p>__N__                        <span id=\"noHighlight_0.11652391912715276\">Wenn mehrere Module (die mit derselben Version von Dolibarr kompatibel sind) zu identisch sind, behält sich die Foundation das Recht vor, die nach dem ersten eingereichten Module nicht anzuerkennen, um zu vermeiden das Module kopiert und eingefügt (möglich durch das GPL-Lizenz) werden. </span>__N__                        <span>__N__                          <span xml:lang=\"de\" lang=\"de\">__N__                            <span>Wenn ein Modul</span>__N__                            <span>innerhalb von 4 Monaten</span>__N__                            <span>nach der Veröffentlichung</span>__N__                            <span>einer neuen Dolibarr-Version</span>__N__                            <span>nicht aktualisiert wird,</span>__N__                            <span>wird die Foundation</span>__N__                            <span>das Modul</span>__N__                            <span>von dem anderen</span>__N__                            <span>Autoren</span>__N__                            <span>(nicht dem </span>__N__                            <span>ursprüngliche Autor</span>__N__                            <span>)</span>__N__                            <span>__N__                              <span xml:lang=\"de\" lang=\"de\">__N__                                <span>akzeptieren</span>__N__                              </span>__N__                            </span>__N__                            <span>__N__                              <span>__N__                                <span xml:lang=\"de\" lang=\"de\">__N__                                  <span>__N__                                    <span id=\"noHighlight_0.43782977414815116\">um zu vermeiden, dass einige Module aufgegeben werden.&nbsp; <span xml:lang=\"de\" lang=\"de\">__N__                                        <span>__N__                                          <span id=\"noHighlight_0.47251528887691496\">Außerdem kann die Foundation ohne Vorwarnung Module die auf eine zu alten Dolibarr Version basieren deaktivieren.</span>__N__                                        </span>__N__                                      </span>__N__                                    </span>__N__                                  </span>__N__                                </span>__N__                              </span>__N__                            </span>__N__                          </span>__N__                        </span>__N__                      </p>__N__                      <h3>Wann und weshalb bezahlen, wenn die Software eine Open Source (GPL, ...) ist?</h3>__N__                      <p>__N__                        <span xml:lang=\"de\" lang=\"de\">__N__                          <span>__N__                            <span id=\"noHighlight_0.5541014785804147\">Einige Produkte die auf dem Marktplatz verfügbar sind, sind kostenlos und können direkt von Ihrem Profil heruntergeladen werden. In diesem Fall ist keine Bezahlung erforderlich.</span>__N__                          </span>__N__                          <span></span>__N__                        </span>__N__                      </p>__N__                      <p>Einige Autoren beschließen jedoch, etwas zu berechnen, für ihre Arbeit. Es gibt kein Problem, die beiden Ansätze bei freier Software widersprechen sich nicht (Preis für die Autoren für den Quellcode einer OpenSource Lizenz):</p>__N__                      <p>Der Begriff \"freie Software\" kann sich laut&nbsp;Definition entweder auf die Freiheit oder auf den Preis beziehen. Auf der&nbsp;folgenden Seite der&nbsp;Free Software&nbsp;Foundation können Sie dies gerne nachlesen: <br>__N__                        <a href=\"http://www.gnu.org/philosophy/selling.de.html\" target=\"_blank\">http://www.gnu.org/philosophy/selling.de.html</a>__N__                      </p>__N__                    </div>__N__                </section>__N__              </div>__N__            </div>__N__          </div>__N__        </div>__N__      </div>__N__      <!-- .columns-container -->__N__      <div class=\"footer-container\">__N__        <?php includeContainer(\'footer\'); ?>__N__      </div>__N__    </div>__N__  </body>__N__</html>', '', 0);

-- Page ID 54__+MAX_llx_website_page__ - Aliases welcome-message --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(54__+MAX_llx_website_page__, null, __WEBSITE_ID__, 'welcome-message', '', 'welcome message', 'welcome message', 'en', '', '', '1', '2024-02-02 16:48:47', '2025-01-14 01:38:49', null, '', 'banner', '', '<section id=\"welcome_section\" contenteditable=\"true\">__N__  <div id=\"editorial_block_center\" class=\"editorial_block\">__N__    <a href=\"https://www.dolibarr.org\" title=\"\">__N__      <img class=\"img-responsive\"__N__        src=\"viewimage.php?modulepart=medias&entity=1&file=image/__WEBSITE_KEY__/img/dolibarr_logo.png\"__N__        alt=\"\" width=\"578\" height=\"160\" />__N__    </a>__N__    <div class=\"rte\">__N__      <br>__N__      <p>This web site is the official market place to find addons and plugins for the <a__N__          href=\"https://www.dolibarr.org\" target=\"_blank\">Dolibarr ERP CRM</a> project. </p>__N__      <ul>__N__        <li>__N__          <span style=\"color: #a45931;\">__N__            <strong>If you are a Dolibarr user</strong>: </span>__N__        </li>__N__      </ul>__N__      <p>You can search for additional features and find different modules or extensions. Browse the categories to find__N__        your extension or use the search form at the top of the page ...</p>__N__      <p>Some extensions/modules are free, some are paid (Members of the <a href=\"https://asso.dolibarr.org\">Dolibarr__N__          foundation</a> benefits a 20% discount if the request is made to the association once account has been created__N__        on DoliStore. Buying product must be done after the request has been processed to see the 20% discounts on all__N__        prices) </p>__N__      <ul>__N__        <li>__N__          <span style=\"color: #a45931;\">__N__            <strong>If you are a developer :</strong>__N__          </span>__N__        </li>__N__      </ul>__N__      <p>You can submit your own modules, you choose the price (free is better). For this, just create an account and__N__        submit your module from left menu.</p>__N__      <p></p>__N__    </div>__N__  </div>__N__</section>', '', 0);

-- Page ID 55__+MAX_llx_website_page__ - Aliases willkommensnachricht --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(55__+MAX_llx_website_page__, 54__+MAX_llx_website_page__, __WEBSITE_ID__, 'willkommensnachricht', '', 'Willkommensnachricht', 'Willkommensnachricht', 'de', '', '', '1', '2024-05-12 11:57:17', '2025-01-14 01:38:54', null, '', 'banner', '', '<section id=\"welcome_section\" contenteditable=\"true\">__N__  <div id=\"editorial_block_center\" class=\"editorial_block\">__N__    <a href=\"https://www.dolibarr.org\" title=\"\">__N__      <img class=\"img-responsive\"__N__        src=\"viewimage.php?modulepart=medias&entity=1&file=image/__WEBSITE_KEY__/img/dolibarr_logo.png\"__N__        alt=\"\" width=\"578\" height=\"160\" />__N__    </a>__N__    <div class=\"rte\">__N__        <br>__N__        <p>Diese Seite ist der offizielle Marktplatz für Module und PlugIns für das&nbsp;<a href=\"https://www.dolibarr.org\" target=\"_blank\">Dolibarr ERP/CRM</a> Projekt.</p>__N__        <ul>__N__            <li><span style=\"color: #a45931;\"><strong>Wenn Sie Dolibarr Benutzer sind</strong></span> :</li>__N__        </ul>__N__        <p>Können Sie für zusätzliche Funktionen suchen und hier verschiedene Module oder PlugIns für ihr Dolibarr finden. Bei Ihrer Suche nach Ihren Erweiterungen, helfen Ihnen die Kategorien in der linken Navigation oder nutzen Sie das Suchformular in der Mitte des Kopfbereiches dieser Webseite ...</p>__N__        <p>Manche Erweiterungen/Module sind kostenlos, manche müssen bezahlt werden (Mitglieder der&nbsp;<a title=\"Dolibarr foundation\" href=\"https://asso.dolibarr.org\" target=\"_blank\">Dolibarr Stiftung</a> profitieren mit 20 % Rabatt wenn ein Antrag an den Verband gestellt wurde und bereits ein Konto im dolistore erstellt wurde.)</p>__N__        <ul>__N__            <li><strong><span style=\"color: #a45931;\">Wenn Sie Dolibarr Software Entwickler sind:</span></strong></li>__N__        </ul>__N__        <p>Sie können Ihre eigenen Module einreichen und Sie zu Ihrem Preis(oder kostenlos) anbieten. Dazu müssen Sie nur ein Benutzerkonto erstellen und in Ihrem Kundenbereich im linken Menü das Modul einreichen.</p>__N__        <p></p>__N__    </div>__N__  </div>__N__</section>', '', 0);

-- Page ID 56__+MAX_llx_website_page__ - Aliases _library_page_lib --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(56__+MAX_llx_website_page__, null, __WEBSITE_ID__, '_library_page_lib', '', 'lib', '', '', '', '', '1', '2024-05-22 11:22:17', '2025-01-16 00:49:40', null, '', 'library', '', '<?php__N__/**__N__ * Set session language based on:__N__ * - Cookie \'lang\' (if exists)__N__ * - Browser language (if not present among website languages, use website main language)__N__ * - Form field \'language\' (if present)__N__ *__N__ * The function also updates the product labels of the products in the session__N__ * to match the current language.__N__ *__N__ * @return bool__N__ */__N__function setSessionLang() {__N__   global $langs, $website, $weblangs, $db;__N__    // Get available langs for the website__N__    $website_langs = getAvailableLangs();__N__    $available_langs = $website_langs[\'langs\'];__N__    $langs_code_shortcode = $website_langs[\'langs_code_shortcode\'];__N____N__    // If no language is set or if a new language is selected (via form field)__N__    if (!isset($_COOKIE[\'lang\']) || GETPOST(\'l\', \'alpha\')) {__N__        // Get browser language__N__        $browser_lang = $weblangs->getDefaultLang(1);__N____N__        // Change used lang__N__        $new_lang = GETPOST(\'l\', \'alpha\');__N__        if ($new_lang && array_key_exists ($new_lang, $available_langs)) {__N__            setcookie(\'lang\', $new_lang, time() + (86400 * 30), \'/\');__N__            $session_lang = $new_lang;__N__        }__N____N__        // If no language is set in cookie and browser language is not present among available languages__N__        // use website main language as default__N__        if (!isset($_COOKIE[\'lang\'])) {__N__            if (array_key_exists ($browser_lang, $available_langs)){__N__                // The browser language is present among the available languages__N__                setcookie(\'lang\', $browser_lang, time() + (86400 * 30), \'/\');__N__                $session_lang = $browser_lang;__N__            } else {__N__                // The browser language is not present among the available languages__N__                setcookie(\'lang\', $website->lang, time() + (86400 * 30), \'/\');__N__                $session_lang = $website->lang;__N__            }__N__        }__N____N__        // Set session lang__N__        if (!empty($session_lang)) {__N__            $_SESSION[\'lang\'][\'shortcode\'] = $session_lang;__N__            $_SESSION[\'lang\'][\'code\'] = $langs_code_shortcode[$session_lang];__N____N__            // Update product labels in session to match current language__N__            if (isset($_SESSION[\'products\'])) {__N__                $langs->setDefaultLang($_SESSION[\'lang\'][\'code\']);__N__                // Loop over products in session and update label__N__                foreach ($_SESSION[\'products\'] as $key => $value) {__N__                    $object = new Product($db);__N__                    $get_product = $object->fetch($key);__N__                    $_SESSION[\'products\'][$key][\'product_name\'] = $object->label;__N__                }__N__            }__N__        }__N____N__    }__N____N__    // If session language is not set, use cookie language__N__    if (empty($_SESSION[\'lang\'][\'shortcode\']) || empty($_SESSION[\'lang\'][\'code\'])) {__N__        $_SESSION[\'lang\'][\'shortcode\'] = $_COOKIE[\'lang\'];__N__        $_SESSION[\'lang\'][\'code\'] = $langs_code_shortcode[$_COOKIE[\'lang\']];__N__    }__N____N__    // Set Dolibarr default language__N__    $langs->setDefaultLang($_SESSION[\'lang\'][\'code\']);__N__    $weblangs->setDefaultLang($_SESSION[\'lang\'][\'code\']);__N__    $langs->loadLangs(array(\"main\", \"website\"));__N__    $weblangs->loadLangs(array(\"main\", \"website\", \"marketplace@marketplace\"));__N____N__    return true;__N__}__N____N__/**__N__ * The function loops through the languages of the website configuration and__N__ * checks if they exist in the list of supported languages. If they do, they__N__ * are added to the $available_langs array, along with their corresponding__N__ * shortcode in the $langs_code_shortcode array.__N__ *__N__ * The function returns an array with two keys: \'langs\' containing the list__N__ * of available languages and \'langs_code_shortcode\' containing the list__N__ * of corresponding shortcodes.__N__ *__N__ * @return array__N__ */__N__function getAvailableLangs() {__N__    global $website, $weblangs;__N____N__    $available_langs = array();__N__    $langs_code_shortcode = array();__N__    $ws_langs_list = explode(\',\', $website->lang.\',\'.$website->otherlang);__N__    $dol_available_langs = $weblangs->get_available_languages(DOL_DOCUMENT_ROOT, 1, 2, 1);__N__    foreach ($ws_langs_list as $lang) {__N__        foreach ($dol_available_langs as $key => $value) {__N__            if (strpos($key, $lang) === 0) {__N__                $available_langs[$lang] = $value;__N__                $langs_code_shortcode[$lang] = $key;__N__                break;__N__            }__N__        }__N__    }__N__    __N__    return array(\'langs\' => $available_langs, \'langs_code_shortcode\' => $langs_code_shortcode);__N__}__N____N__function getOrganizedTree($id,$sort = \'position\')__N__{__N__    global $db;__N__    $root_cat_object = new Categorie($db);__N__    $result = $root_cat_object->fetch($id);__N__    $root_category_id = $root_cat_object->id;__N__    $root_category_type = $root_cat_object->type;__N__    $cats = $root_cat_object->get_filles();__N__    if (count($cats) < 1) {__N__        return array();__N__    } else {__N__        $categstatic = new Categorie($db);__N__        $fulltree = $categstatic->get_full_arbo($root_category_type, $root_category_id, 1);__N__        $organized_tree = buildTree($fulltree, $root_category_id);__N__        usort($organized_tree, build_sorter($sort));__N__        return $organized_tree;__N__    }__N__}__N____N__function buildTree(array &$elements, $parentId = 0)__N__{__N__  $branch = array();__N__  foreach ($elements as $element) {__N__    if ($element[\'fk_parent\'] == $parentId) {__N__      $children = buildTree($elements, $element[\'id\']);__N__      if ($children) {__N__        $element[\'children\'] = $children;__N__      }__N__      $branch[$element[\'rowid\']] = $element;__N__    }__N__  }__N__  return $branch;__N__}__N____N__function build_sorter($key)__N__{__N__  return function ($a, $b) use ($key) {__N__    return strnatcmp($a[$key], $b[$key]);__N__  };__N__}__N____N____N__function ws_login($customer_email, $customer_passwd) {__N__    global $db, $website;__N____N__    $sql  = \"select lsa.rowid, lsa.pass_encoding, lsa.pass_crypted, ls.nom, fk_soc, lsa.login \";__N__    $sql .= \"from \".MAIN_DB_PREFIX.\"societe_account lsa \";__N__    $sql .= \"left join \".MAIN_DB_PREFIX.\"societe ls on ls.rowid = lsa.fk_soc \";__N__    $sql .= \"where lsa.login = \'\" . $db->escape($customer_email) . \"\' \";__N__    $sql .= \"and lsa.fk_website = \" . (int) $website->id . \" \";__N__    $sql .= \"limit 1\";__N____N__    $result = $db->query($sql);__N__    $objsql = $db->fetch_object($result);__N____N__    $is_logged = 0;__N__    $check_accaount = 0;__N__    $check_password = 0;__N__    $is_preferred_member = 0;__N__    if (!empty($objsql)) {__N__        $check_accaount = 1;__N__        if ($objsql->pass_encoding == \'dolibarr\') {__N__            $check_password = dol_verifyHash ($customer_passwd, $objsql->pass_crypted);__N__        }__N__        if ($objsql->pass_encoding == \'dolistore\') {__N__            $dolistore_key = getDolGlobalString(\"MARKETPLACE_SECRET_KEY\");__N__            $to_check = md5($dolistore_key.$customer_passwd);__N__            if ($objsql->pass_crypted === $to_check){__N__                $check_password = 1;__N__            }__N__        }__N__        if ($objsql->pass_encoding != \'dolibarr\' && $objsql->pass_encoding != \'dolistore\' ) {__N__            $check_password = dol_verifyHash ($customer_passwd, $objsql->pass_crypted, $objsql->pass_encoding);__N__        }__N__        $is_logged = $check_accaount && $check_password;__N__    }__N__    __N__    if ($is_logged > 0) {__N__        $preferredCustomersCatId = getDolGlobalInt(\"MARKETPLACE_PROSPECTCUSTOMER_PREFERRED_ID\");__N__        if (!empty($preferredCustomersCatId)) {__N__            $category = new Categorie($db);__N__            $user_categories = $category->getListForItem($objsql->fk_soc);__N____N__            foreach ($user_categories as $user_categorie) {__N__                if (!empty($user_categorie[\'id\']) && $user_categorie[\'id\'] == $preferredCustomersCatId) {__N__                    $is_preferred_member = 1;__N__                    break;__N__                }__N__            }__N__        }__N__    }__N____N__    return array(__N__        \'status\' => $is_logged,__N__        \'userid\' => $objsql->rowid,__N__        \'pseudo\' => $objsql->nom,__N__        \'email\' => $objsql->login,__N__        \'socid\' => $objsql->fk_soc,__N__        \'is_preferred_member\' => $is_preferred_member__N__    );__N__}__N____N____N__function ws_refreshCart($fk_soc) {__N__    global $db;__N__    // Find last validated, unpaid order of this user__N__    /*$sql_find_order = \"SELECT c.rowid, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__    $sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__    $sql_find_order .= \"WHERE c.fk_soc = \" . $fk_soc . \" and c.fk_statut= 1 and c.facture = 0 and c.module_source = \'Marketplace\' \";__N__    $sql_find_order .= \"order by c.date_creation desc \";__N__    $sql_find_order .= \"limit 1\";*/__N__    __N__    // Find last validated, unpaid order of this user__N__    $sql_find_order = \"SELECT c.rowid, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__    $sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__    $sql_find_order .= \"WHERE c.fk_soc = \" . $fk_soc . \" and c.fk_statut= 1 and c.facture = 0 and c.ref_ext is null and c.date_commande >= DATE_SUB(NOW(), INTERVAL 30 DAY) and c.module_source = \'Marketplace\' \";__N__    $sql_find_order .= \"order by c.date_creation desc \";__N__    $sql_find_order .= \"limit 1\";__N____N__    $find_order = $db->query($sql_find_order);__N__    $obj_order = $db->fetch_object($find_order);__N____N__    // If there is an order, replace the current cart articles (fetched from SESSION) with the last validated, unpaid order.__N__    if (!empty($obj_order)) {__N__        $order_id = $obj_order->rowid;__N__        require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N__        $commande = new Commande($db);__N__        $ret = $commande->fetch($order_id);__N____N__        $commande->fetch_lines();__N__        $lines = $commande->lines;__N____N__        foreach ($lines as $line){__N__            $product = new Product($db);__N__            $ret = $product->fetch($line->fk_product);__N__            __N__            // check discount and calculate discounted price__N__		    $discount = marketplace_check_discount($product->id);__N__		    $discounted_price = marketplace_calculate_discounted_price($product->price_ttc, $discount);__N__		    __N__		    if ($discounted_price != $product->price_ttc) {__N__		        $price_to_display = $discounted_price;__N__		    } else {__N__		        $price_to_display = $product->price_ttc;__N__		    }__N__            __N__            $session_product[\'product_id\'] = $product->id;__N__            $session_product[\'product_thumb\'] = getImagePublicURLOfObject($product,1);__N__            $session_product[\'product_name\'] = $product->label;__N__            $session_product[\'product_ref\'] = $product->ref;__N__            $session_product[\'product_price\'] = $price_to_display;__N__            $session_product[\'product_qty\'] = $line->qty;__N____N__            if(isset($_SESSION[\'products\'])){__N__                if(isset($_SESSION[\'products\'][$session_product[\'product_id\']]))__N__                {__N__                    unset($_SESSION[\'products\'][$session_product[\'product_id\']]);__N__                }__N__            }__N__            $_SESSION[\'products\'][$session_product[\'product_id\']] = $session_product;__N__        }__N__    }__N____N__    return 1;__N__}__N____N__function ws_refreshOrder () {__N__    global $db, $website, $user;__N__    __N__    require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N__    include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__    __N__    // Load user and its permissions__N__    $result = $user->fetch(\'\', \'admin\');	// Load user for login \'admin\'. Comment line to run as anonymous user.__N__    if (!$result > 0) {__N__    	dol_print_error(null, $user->error);__N__    	exit;__N__    }__N__    $user->getrights();__N__    __N__    __N__    // User is logged__N__    if (!empty($_SESSION[\'user\'][\'id_user\'])) {__N__        $user_id = $_SESSION[\'user\'][\'id_user\'];__N__        $customer = new SocieteAccount($db);__N__        $result = $customer->fetch($user_id);__N__        $customer_id = $customer->fk_soc;__N__        if (empty($customer_id)) {__N__        	dol_print_error(null, $customer->error);__N__        	return 0;__N__        }__N__    } else {__N__        return 1;__N__    }__N____N__    __N__    $com = new Commande($db);__N__    $com->socid          = $customer_id;__N__    $com->date           = dol_now();__N__    $com->note_private   = \'Order from the marketplace\';__N__    $com->module_source  = \'marketplace\';__N__    $com->pos_source	 = dol_getmypid() . \"@\" . $website->id;__N__    $com->remise_percent = 0;__N____N__    $db->begin();__N__    __N__    // Check if there is an order for this user.__N__    $sql_find_order = \"SELECT c.rowid, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__    $sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__    $sql_find_order .= \"WHERE c.fk_soc = \" . $customer_id . \" and c.fk_statut= 1 and c.facture = 0 and c.ref_ext is null and c.date_commande >= DATE_SUB(NOW(), INTERVAL 30 DAY) and c.module_source = \'Marketplace\' \";__N__    $sql_find_order .= \"order by c.date_creation desc \";__N__    $sql_find_order .= \"limit 1\";__N__    __N__    $find_order = $db->query($sql_find_order);__N__    $obj_order = $db->fetch_object($find_order);__N__    __N__    // If there is an order, update the current unpaid order lines by SESSION articles.__N__    if (!empty($obj_order)) {__N__        $com->fetch($obj_order->rowid);__N__        $com->fetch_lines();__N__        $lines = $com->lines;__N__        $com->setDraft($user);__N__        __N__        // remove current order lines __N__        foreach ($lines as $line){__N__            $ree = $com->deleteLine($user,$line->id);__N__            //print $com->error . \'<br>\';__N__        }__N__        //exit();__N__    } else {__N__        $result = $com->create($user);__N__    }__N__    __N__    if ($result >= 0 || $com) {__N__        foreach ($_SESSION[\'products\'] as $session_product) {__N__            // Get  product__N__            $product = new Product($db);__N__            $result = $product->fetch($session_product[\'product_id\']);__N__            if (!$result > 0) {__N__                $db->rollback();__N__            	dol_print_error($db, $product->error);__N__            	return 0;__N__            }__N__            __N__            // Get seller__N__            $sql_get_seller_id = \"select lpfp.fk_soc __N__                from \".MAIN_DB_PREFIX.\"product_fournisseur_price lpfp __N__                where lpfp.fk_product =\" .$session_product[\'product_id\'] . \" LIMIT 1\";__N__            $resql = $db->query($sql_get_seller_id);__N__    		$objsql = $db->fetch_object($resql);__N__    		__N__    		if(!empty($objsql->fk_soc)){__N__    		    $thirdparty_seller = new Societe($db);__N__                $thirdparty_seller->fetch($objsql->fk_soc);__N__    		}else{__N__    		    // To complete with default third party __N__    		}__N__    		__N__    		// Get buyer__N__    	    $thirdparty_buyer = new Societe($db);__N__            $result = $thirdparty_buyer->fetch($customer_id);__N__            if (!$result > 0) {__N__                $db->rollback();__N__            	dol_print_error($db, $thirdparty_buyer->error);__N__            	return 0;__N__            }__N__            __N__            $tva_tx = get_default_tva($thirdparty_seller, $thirdparty_buyer, $product->id);__N__            __N__            // Check discount__N__			$discount = marketplace_check_discount($product->id);__N__			$discount_percent = ($discount[\'mode\'] === \'percent\') ? $discount[\'value\'] : 0;__N____N__            $result = $com->addline($product->label, $product->price, $session_product[\'product_qty\'], $tva_tx, 0, 0, $product->id, $discount_percent, 0, 0, $product->price_base_type, $product->price_ttc, \'\', \'\', $product->type);__N__			if ($result <= 0) {__N__			    $db->rollback();__N__				dol_print_error($db, $product->error);__N__				return 0;__N__			}__N__			__N__			// TODO__N__			if ($discount[\'mode\'] === \'amount\' && $discount[\'value\'] > 0) {__N__                // Add amount discount__N__			}__N__        } __N__        __N__        $result = $com->valid($user);__N__		if ($result > 0) {__N__			$db->commit();__N__            return 1;__N__		} else {__N__			$db->rollback();__N__			dol_print_error($db, $com->error);__N__			return 0;__N__		}__N__	} else {__N__		$db->rollback();__N__		dol_print_error($db, $com->error);__N__		return 0;__N__	}__N__}__N____N__/**__N__ * Check the validity of a module (rules must match the one in htdocs/admin/modules__N__ *__N__ * @return  array   Array of results__N__ */__N__function checkZipFile()__N__{__N__	global $weblangs;__N____N__	$error=0;__N__	$return = array(__N__		\'product_file_path\' => null,__N__		\'upload\' => 1,__N__		\'errormsg\' => null__N__	);__N____N__	$originalfilename=$_FILES[\'virtual_product_file\'][\'name\'];__N____N__	if (strlen($originalfilename) > 48)__N__	{__N__		$error++;__N__		$return[\'errormsg\'] = $weblangs->trans(\"fileNameLengthError\");__N__		///$return[\'errormsg\'] = $this->l(\'Name of file must not be longer than 48 characters,  including the prefix (\"module_\", \"theme_\" or \"website_\"), the version suffix and the extension (\".zip\" for example) !\');__N__	}__N____N__	dol_syslog(\"Upload or reupload file \" . $originalfilename);__N____N__	if ($_FILES[\'virtual_product_file\'][\'error\'])__N__	{__N__		switch ($_FILES[\'virtual_product_file\'][\'error\'])__N__		{__N__			case 1: // UPLOAD_ERR_INI_SIZE__N__				$return[\'errormsg\'] = $weblangs->trans(\"fileSizeHigherServerLimit\");__N__				///$return[\'errormsg\'] = $this->l(\'File size is higher than server limit !\');__N__				break;__N__			case 2: // UPLOAD_ERR_FORM_SIZE__N__				$return[\'errormsg\'] = $weblangs->trans(\"fileSizeHigherHtmlFormLimit\");__N__				///$return[\'errormsg\'] = $this->l(\'File size if higher than limit in HTML form !\');__N__				break;__N__			case 3: // UPLOAD_ERR_PARTIAL__N__				$return[\'errormsg\'] = $weblangs->trans(\"uploadAborted\");__N__				///$return[\'errormsg\'] = $this->l(\'File transfert was aborted !\');__N__				break;__N__			case 4: // UPLOAD_ERR_NO_FILE__N__				$return[\'errormsg\'] = $weblangs->trans(\"noFileOrSizeZero\");__N__				///$return[\'errormsg\'] = $this->l(\'File name was not defined or file size is null !\');__N__				break;__N__		}__N__		$return[\'upload\'] = -1;__N__		$error++;__N__	}__N____N__	if (! $error && ! preg_match(\'/(\\.apk|\\.odt|\\.pdf|\\.svg|\\.zip|\\.txt)$/i\',$originalfilename))__N__	{__N__		$return[\'errormsg\'] = $weblangs->trans(\"packageRuleViolation\") . \'<br>\';__N__		$return[\'errormsg\'].= $weblangs->trans(\"packageFileNameExtension\");__N__		///$return[\'errormsg\'] = $this->l(\'Package seems to not respect some rules:\').\'<br>\';__N__		///$return[\'errormsg\'].= $this->l(\'Package file name must end with extension .odt, .pdf, .svg, .zip, .txt or .apk\');__N__		$return[\'upload\'] = -1;__N__		$error++;__N__	}__N____N__	if (! $error && preg_match(\'/(\\.txt)$/i\',$originalfilename) && ! preg_match(\'/(README)\\.txt$/i\',$originalfilename))__N__	{__N__		$return[\'errormsg\'] = $weblangs->trans(\"packageRuleViolation\") . \'<br>\';__N__		$return[\'errormsg\'].= $weblangs->trans(\"packageReadmeTxt\");__N__		$return[\'upload\'] = -1;__N__		$error++;__N__	}__N____N__	if (! $error && preg_match(\'/(\\.zip)$/i\',$originalfilename))__N__	{__N__		if (! preg_match(\'/^(module[a-zA-Z0-9]*|theme|website)_/\', $originalfilename))__N__		{__N__			$return[\'errormsg\'] = $weblangs->trans(\"packageRuleViolation\") . \'<br>\';__N__			$return[\'errormsg\'].= $weblangs->trans(\"packageFileNamePrefix\") . \'<br>\';__N__			$return[\'errormsg\'].= $weblangs->trans(\"packageBuildTool\");__N__			$return[\'upload\'] = -1;__N__			$error++;__N__		}__N____N__		if (! preg_match(\'/\\-([0-9][0-9\\.]*)\\.zip$/i\',$originalfilename))__N__		{__N__			$return[\'errormsg\'] = $weblangs->trans(\"packageRuleViolation\") . \'<br>\';__N__			$return[\'errormsg\'].= $weblangs->trans(\"packageFileNameVersion\") . \'<br>\';__N__			$return[\'errormsg\'].= $weblangs->trans(\"packageBuildTool\");__N__			$return[\'upload\'] = -1;__N__			$error++;__N__		}__N____N__		// Example of allowed values:__N__		// module_mymodule-x.y.zip, moduleprestashop_mymodule-x.y.zip__N__		// theme_mytheme-x.y.zip__N__		// website_mytemplate-123456.zip__N__		if (! preg_match(\'/^module([a-zA-Z0-9]*)_([-a-zA-Z0-9_]+)\\-([0-9][0-9\\.]*)\\.zip$/i\',$originalfilename)__N__			&& ! preg_match(\'/^theme_([a-zA-Z0-9_]+)\\-([0-9][0-9\\.]*)\\.zip$/i\',$originalfilename)__N__			&& ! preg_match(\'/^website_([a-zA-Z0-9_]+)\\-([0-9][0-9\\.]*)\\.zip$/i\',$originalfilename)__N__			)__N__		{__N__			$return[\'errormsg\'] = $weblangs->trans(\"packageRuleViolation\") . \'<br>\';__N__			$return[\'errormsg\'].= $weblangs->trans(\"packageFileNameRules\") . \'<br>\';__N__			$return[\'errormsg\'].= $weblangs->trans(\"packageBuildTool\");__N__			$return[\'upload\'] = -1;__N__			$error++;__N__		}__N__	}__N____N__	if (! $error && preg_match(\'/(\\.zip)$/i\',$originalfilename))__N__	{__N__		$zip = new ZipArchive();__N__		$res = $zip->open($_FILES[\'virtual_product_file\'][\'tmp_name\']);__N__		if ($res === TRUE)__N__		{__N__			$resarray = validateZipFile($zip,$originalfilename,$_FILES[\'virtual_product_file\'][\'tmp_name\']);__N__			//$zip->close();        // already close by validateZipFile__N__			$error=$resarray[\'error\'];__N__			$return[\'upload\']=$resarray[\'upload\'];__N__			$return[\'errormsg\'] = $resarray[\'errormsg\'];__N__		}__N__		else__N__		{__N__			$return[\'errormsg\'] = $weblangs->trans(\"fileNotAnalyzed\") . \'<br>\';__N__			$return[\'errormsg\'].= $weblangs->trans(\"emailIfError\");__N__			$return[\'upload\'] = -1;__N__			$error++;__N__		}__N__	}__N____N__	if (! $error)__N__	{__N__		$return[\'errormsg\'] = \'\';__N__		$return[\'upload\'] = 1;__N__	}__N____N__	return $return;__N__}__N____N__/**__N__ * Check that a zip file is Dolibarr rule compliant__N__ */__N__function validateZipFile(&$zip,$originalfilename,$zipfile)__N__{__N__	global $count, $results, $weblangs;__N____N__	$error=0;__N__	$return = array(__N__		\'error\' => 0,__N__		\'errormsg\'=> null,__N__		\'upload\' => 0__N__	);__N____N__	dol_syslog(\"Validate zip file \" . $originalfilename);__N__	$subdir=basename($zipfile);__N__	//$dir=\'/home/dolibarr/dolistore.com/tmp/\'.$subdir;__N__	$dir=sys_get_temp_dir().\'/unzip-dir-\'.$subdir;__N__	mkdir($dir, 0777, true);__N__	$zip->extractTo($dir.\'/\');__N__	$zip->close();__N____N__	// Zip content of a module should be ./mymodule or ./htdocs/mymodule__N____N__	// But we first we check if we need to change dir (for zip that are ./module/htdocs/module instead of ./htdocs/module)__N__	if (! $error && $dh = opendir($dir))__N__	{__N__		$nbofsubdirs=0;__N__		while (($file = readdir($dh)) !== false)__N__		{__N__			if ($file == \'.\' || $file == \'..\') continue;__N__			dol_syslog(\"We check if dir \".$dir.\'/\'.$file.\'/htdocs exists\');__N__			if (is_dir($dir.\'/\'.$file.\'/htdocs\'))__N__			{__N__				dol_syslog(\'Dir \'.$dir.\'/\'.$file.\'/htdocs exists. So we use dir=\'.$dir.\'/\'.$file.\' as root for package to analyse.\');__N__				$dir=$dir.\'/\'.$file;__N__				break;__N__			}__N__		}__N__		closedir($dh);__N__	}__N____N__	// Now $dir contains root of zip, so mymodule or htdocs/mymodule__N__	// Analyze files__N__	$ismodule=$istheme=0;__N____N__	if (preg_match(\'/^module([a-zA-Z0-9]*)_([-a-zA-Z0-9]+)\\-([0-9][0-9\\.]*)\\.zip$/i\',$originalfilename,$reg))__N__	{__N__		$ismodule=$reg[2];__N__		$extmoduleornot=$reg[1];__N__		if ($extmoduleornot) $ismodule=0;__N__	}__N__	if (preg_match(\'/^theme_([-a-zA-Z0-9]+)\\-([0-9][0-9\\.]*)\\.zip$/i\',$originalfilename,$reg)) $istheme=$reg[1];__N____N____N__	dol_syslog(\"Now dir is the directory with root of the zip = \".$dir, LOG_DEBUG);__N____N__	$dirmoduletheme = $dir.\'/\'.($ismodule?$ismodule:($istheme?$istheme:\'\'));__N__	if (is_dir($dir.\'/htdocs\')) $dirmoduletheme = $dir.\'/htdocs/\'.($ismodule?$ismodule:($istheme?$istheme:\'\'));__N__	$dirmodulethemeroot = dirname($dirmoduletheme);__N__	dol_syslog(\"Now dirmodulethemeroot = dir where is the module dir = \".$dirmodulethemeroot.\" and dirmoduletheme = dir with name of the module = \".$dirmoduletheme, LOG_DEBUG);__N____N__	if (! empty($ismodule) || ! empty($istheme))__N__	{__N__		dol_syslog(\"file ismodule=\".$ismodule.\" istheme=\".$istheme);__N__		// It\'s a module or theme file__N__		if (! $error && (! empty($ismodule) || ! empty($istheme)) && $dh = opendir($dir))__N__		{__N__			$nbofsubdirs=0; $direrror=\'\';__N__			while (($file = readdir($dh)) !== false)__N__			{__N__				if ($file == \'.\' || $file == \'..\' || $file == \'README\' || $file == \'README.txt\' || $file == \'README.md\') continue;__N__				dol_syslog(\"subdirs found for package:\".$file);__N__				$nbofsubdirs++;__N__				$alloweddirs=array(\'htdocs\', \'docs\', \'scripts\', \'test\', \'build\', ($ismodule?$ismodule:($istheme?$istheme:\'\')));__N__				if (! in_array($file,$alloweddirs))__N__				{__N__					$error++;__N__					$direrror=$file;__N__					break;__N__				}__N__			}__N__			if ($error)__N__			{__N__				$return[\'errormsg\'].= $weblangs->trans(\"validationFail\") . \'<br>\';__N__				$return[\'errormsg\'].= $weblangs->trans(\"moduleContents\") . \'<br>\';__N__				$return[\'errormsg\'].= $weblangs->trans(\"moduleDirectoryRule1\") . \'<br>\';__N__				$return[\'errormsg\'].= $weblangs->trans(\"moduleDirectoryRule2\") . \'<br>\';__N__				$return[\'errormsg\'].= $weblangs->trans(\"directoryFound\").\' \'.$direrror.\'<br><br>\'.\"\\n\";__N__			}__N__			closedir($dh);__N__		}__N____N__		// It\'s a module or theme file (check htdocs directory)__N__		if (! $error && ! empty($ismodule) && is_dir($dirmodulethemeroot) && $dh = opendir($dirmodulethemeroot))__N__		{__N__			dol_syslog(\"we scan module dir \".$dirmodulethemeroot.\" to be sure there is only one directory (with name of your module) into root\");__N__			$nbofsubdir=0; $lastdirfound=\'\';__N__			dol_syslog(\"check there is only one dir into root\");__N__			while (($file = readdir($dh)) !== false)__N__			{__N__				if ($file == \'.\' || $file == \'..\' || $file == \'README\' || $file == \'README.txt\' || $file == \'README.md\') continue;__N__				$lastdirfound = $file;__N__				dol_syslog(\"we found file or dir \".$file);__N__				$nbofsubdir++;__N__			}__N__			closedir($dh);__N__			if ($nbofsubdir >= 2 && ! is_file($dirmoduletheme.\'/metapackage.conf\'))__N__			{__N__				$return[\'errormsg\'].= $weblangs->trans(\"rootDirWarning\", $nbofsubdir, basename($dirmoduletheme)) . \'<br><br>\';__N__				$error++;__N__			}__N____N__			if ($ismodule != $lastdirfound)__N__			{__N__				if (is_file($dirmoduletheme.\'/metapackage.conf\'))__N__				{__N__					// TODO Check each dir found is inside list of modules__N____N__				} else {__N__					$return[\'errormsg\'].= $weblangs->trans(\"moduleNameMismatch\", $lastdirfound, $ismodule) .\'<br><br>\';__N__					$error++;__N__				}__N__			}__N__		}__N__		// Check \"custom\" compatibility__N__		if (! $error && ! empty($ismodule))__N__		{__N__			dol_syslog(\"check the good practice of code\");__N__			$count = 0;__N__			$results = array();__N____N__			$search = array(__N__				0 => array(__N__					\'name\'          => \'main\',__N__					\'types\'         => array(\'php\'),__N__					\'pattern\'       => \'(require|include).*(main|master)\\.inc\\.php\',__N__					\'multiple\'      => true     // Means we must find 0 or several times the pattern. Error if found 1 occurrence.__N__				),__N__				/*2 => array(__N__				 \'name\'          => \'dol_include_once\',__N__				 \'types\'         => array(\'php\', \'class.php\', \'lib.php\', \'modules.php\'),__N__				 \'pattern\'       => \'dol\\_include\\_once\\([\\\"\\\']\\/([^\\/]*)\\/.*;\',__N__				 \'contain\'       => array($ismodule)     // error if it contains__N__				 ),*/__N__				1 => array(__N__					\'name\'                  => \'dol_document_root\',__N__					\'types\'                 => array(\'php\', \'class.php\', \'lib.php\', \'modules.php\'),__N__					\'pattern\'               => \'(require|include)(_once)?\\(?(.*)[\\\"\\\']+\\)?;\',__N__					\'id\'                    => 3,           // eg. Use $regs[3] for test instead $regs[1]__N__					\'contain\'               => array(\'DOL_DOCUMENT_ROOT\'),__N__					\'notcontain\'            => array($ismodule),__N__					\'strict\'                => true         // if true (\'contain\' && \'notcontain\'), if false or not use (\'contain\' || \'notcontain\')__N__				)__N__			);__N____N__			getDirContents($dir, $search, $results);     // This include a global $count__N____N__			dol_syslog(\"count of errors = \".$count);__N____N__			if (!empty($count)) // count of errors is not null__N__			{__N__				foreach($results as $result)__N__				{__N__					if ($result[\'testname\'] == \'main\')__N__					{__N__						$return[\'errormsg\'].= $weblangs->trans(\"mainIncludeError\", $result[\'filename\'], $ismodule) .\'<br><br>\';__N__					}__N__					else if ($result[\'testname\'] == \'dol_include_once\')__N__					{__N__						$return[\'errormsg\'].= $weblangs->trans(\"dolIncludeError\", $result[\'filename\'], $ismodule) .\'<br>\';__N__						$return[\'errormsg\'].= $result[\'line\'].\'<br><br>\';__N__					}__N__					else if ($result[\'testname\'] == \'dol_document_root\')__N__					{__N__						$return[\'errormsg\'].= $weblangs->trans(\"docRootError\", $result[\'filename\'], $ismodule) .\'<br>\';__N__						$return[\'errormsg\'].= $result[\'line\'].\'<br><br>\';__N__					}__N__				}__N____N__				dol_syslog(\"file \".$originalfilename.\" is not compatible with custom directory!\", LOG_ERR);__N____N__				$error++;__N__			}__N__		}__N__	}__N__	else__N__	{__N__		dol_syslog(\"file \".$originalfilename.\" is not a module and not a theme!\", LOG_WARNING);    // It can be a doc, android app, ...__N__	}__N____N__	if (!empty($error))__N__	{__N__		dol_syslog(\"validateZipFile Error\");__N____N__		$link = \'<a target=\"_blank\" class=\"linktowiki\" href=\"https://wiki.dolibarr.org/index.php/Modules - Packaging rules and Dolistore validation rules\">Dolibarr wiki developer documentation</a>\';__N__		$return[\'errormsg\'].= $weblangs->trans(\"invalidZipFile\") .\'<br>\';__N__		$return[\'errormsg\'].= $weblangs->trans(\"seeDocumentation\", $link).\'<br>\';__N__		$return[\'errormsg\'].= \"<br>\\n\";__N__		$return[\'errormsg\'].= $weblangs->trans(\"contactDolistore\");__N__		$return[\'upload\'] = -1;__N__		$error++;__N__	}__N__	else__N__	{__N__		dol_syslog(\"validateZipFile OK\");__N__	}__N____N__	$return[\'error\'] = $error;__N____N__	return $return;__N__}__N____N__function getDirContents($dir, $search = array(), &$results = array())__N__{__N__	global $count;__N____N__	$files = scandir($dir);__N____N__	foreach ($files as $key => $value)__N__	{__N__		$path = realpath($dir . DIRECTORY_SEPARATOR . $value);__N__		if (!is_dir($path))__N__		{__N__			$content = file_get_contents($path);__N__			$fileName = basename($path);__N__			$fileNameWithoutTmp = preg_replace(\'/\\/tmp\\/unzip[^\\/]+\\//\', \'\', $path);__N____N__			$file_array = explode(\".\", $fileName);__N____N__			foreach ($search as $pattern)__N__			{__N__				if (count($file_array) > 1)__N__				{__N__					$ext = $file_array[1];__N__					if (!empty($file_array[2])) {__N__						$ext = $file_array[1] . \'.\' . $file_array[2];__N__					}__N____N__					if (in_array($ext, $pattern[\'types\']))__N__					{__N____N__						if (strpos($content, \'<?php\') !== 0) continue;  // We discard files that are not php pages (we discard scripts)__N__						if (strpos($path, \'htdocs_\') > 0) continue;  // We discard files that are files into htdocs_... because it is files for core, so no need to be compatible with custom__N__						if (strpos($path, \'phpunit\') > 0) continue;  // We discard files that are files into phpunit because it is files for core, so no need to be compatible with custom__N____N__						$regs = array();__N__						if (!empty($pattern[\'multiple\']))__N__						{__N__							preg_match_all(\'/\' . $pattern[\'pattern\'] . \'/\', $content, $regs);__N__							// Error if only one result (0 is ok, >1 is ok)__N__							if (!empty($regs) && count($regs[0]) == 1)__N__							{__N__								$results[] = array(__N__									\'testname\'      => $pattern[\'name\'],__N__									\'filename\'      => $fileNameWithoutTmp__N__								);__N__								$count++;__N__							}__N__						}__N__						else__N__						{__N__							$id = (!empty($pattern[\'id\']) ? $pattern[\'id\'] : 1);__N__							preg_match_all(\'/\' . $pattern[\'pattern\'] . \'/\', $content, $regs);__N____N__							if (!empty($regs) && !empty($regs[$id]))__N__							{__N__								foreach($regs[$id] as $i => $string)__N__								{__N__									if (!empty($pattern[\'contain\']) && is_array($pattern[\'contain\']))__N__									{__N__										foreach ($pattern[\'contain\'] as $contain)__N__										{__N__											// Mode strict true : doit contenir && ne pas contenir__N__											if (!empty($pattern[\'notcontain\']) && !empty($pattern[\'strict\']) && is_array($pattern[\'notcontain\']))__N__											{__N__												foreach ($pattern[\'notcontain\'] as $notcontain)__N__												{__N__													if (strstr($string, $contain) && strstr($string, $notcontain))__N__													{__N__														$results[] = array(__N__															\'testname\'      => $pattern[\'name\'],__N__															\'filename\'      => $fileName,__N__															\'line\'          => $regs[0][$i]__N__														);__N__														$count++;__N__													}__N__												}__N__											}__N__											// Mode strict false : doit contenir. Note strstr return false if not found__N__											else if (!strstr($string, $contain))        // If found__N__											{__N__												// We found $contain into $string__N__												$results[] = array(__N__													\'testname\'      => $pattern[\'name\'],__N__													\'filename\'      => $fileName,__N__													\'line\'          => $regs[0][$i]__N__												);__N__												$count++;__N__											}__N__										}__N__									}__N__									// Ou ne doit pas contenir__N__									if (empty($count) && !empty($pattern[\'notcontain\']) && empty($pattern[\'strict\']) && is_array($pattern[\'notcontain\']))__N__									{__N__										foreach ($pattern[\'notcontain\'] as $notcontain)__N__										{__N__											if (strstr($string, $notcontain))__N__											{__N__												$results[] = array(__N__													\'testname\'      => $pattern[\'name\'],__N__													\'filename\'      => $fileName,__N__													\'line\'          => $regs[0][$i]__N__												);__N__												$count++;__N__											}__N__										}__N__									}__N__								}__N__							}__N__						}__N__					}__N__				}__N__			}__N____N__		}__N__		else if ($value != \".\" && $value != \"..\") {__N__			getDirContents($path, $search, $results);__N__		}__N__	}__N__}__N____N__function checkImage($image)__N__{__N__	global $weblangs;__N__	$flagError = false;__N____N__	if ($image[\'error\'])__N__	{__N__		switch ($image[\'error\'])__N__		{__N__			case 1: // UPLOAD_ERR_INI_SIZE__N__				$flagError = $weblangs->trans(\"fileSizeHigherServerLimit\");__N__				break;__N__			case 2: // UPLOAD_ERR_FORM_SIZE__N__				$flagError = $weblangs->trans(\"fileSizeHigherHtmlFormLimit\");__N__				break;__N__			case 3: // UPLOAD_ERR_PARTIAL__N__				$flagError = $weblangs->trans(\"uploadAborted\");__N__				break;__N__			case 4: // UPLOAD_ERR_NO_FILE__N__				$flagError = $weblangs->trans(\"noFileOrSizeZero\");__N__				break;__N__		}__N__	}__N__	else__N__	{__N__		//Check exctention__N__		preg_match(\'/\\.([a-zA-Z0-9]+)$/\', $image[\'name\'], $reg);__N__		$extention_image = strtolower($reg[1]);__N__		if (! in_array($extention_image, array(\"jpg\",\"png\",\"gif\",\"jpeg\"))) {__N__			$flagError = $weblangs->trans(\"errorImageFormat\", strtoupper($extention_image));__N__		}__N__	}__N____N__	return $flagError;__N__}__N____N____N__/*__N__ * @param array 		$product 		Selected value__N__ * @param int	 	$id 			Id of the product__N__ */__N__function addProduct($object, $id = null) {__N____N__	global $langs, $db, $user, $conf, $weblangs;__N__	$error = 0;__N__    $error_messages = array();__N____N__	include_once DOL_DOCUMENT_ROOT . \'/product/class/product.class.php\';__N__	include_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N__	include_once DOL_DOCUMENT_ROOT . \'/ecm/class/ecmfiles.class.php\';__N__	require_once DOL_DOCUMENT_ROOT . \"/core/lib/files.lib.php\";__N__	include_once DOL_DOCUMENT_ROOT . \'/core/lib/security.lib.php\';__N__	require_once DOL_DOCUMENT_ROOT . \'/core/class/html.formbarcode.class.php\';__N__	require_once DOL_DOCUMENT_ROOT . \'/fourn/class/fournisseur.product.class.php\';__N__	include_once DOL_DOCUMENT_ROOT .\'/societe/class/societeaccount.class.php\';__N____N____N__	// Load user and its permissions__N__	$result = $user->fetch(\'\', \'admin\'); // Load user for login \'admin\'. Comment line to run as anonymous user.__N__	if (!($result > 0)) {__N__		dol_print_error(null, $user->error);__N__		exit;__N__	}__N__	$user->getrights();__N____N__	// Get Account ID.__N__	$user_id = $_SESSION[\'user\'][\'id_user\'];__N__	$supplier_account = new SocieteAccount($db);__N__	$result = $supplier_account->fetch($user_id);__N__	$supplier_id = $supplier_account->fk_soc;__N____N__	// Get customer ID.__N__	$supplier = new Societe($db);__N__	$supplier->fetch($supplier_id);__N____N__	// Update customer to vendor__N__	$supplier->fournisseur = \'1\';__N__	$supplier->code_fournisseur = \'auto\';__N__	$supplier->update($supplier_id, $user);__N__	$result = $supplier->fetch($supplier_id);__N__	__N__	// We enable recursive category assignement (we use it for search and filter purposes)__N__    $conf->global->CATEGORIE_RECURSIV_ADD = 1;__N____N__	// Start of transaction__N__	$db->begin();__N____N__	//add one product__N__	$product = new Product($db);__N____N__	if ($id > 0) {__N__		$result = $product->fetch($id);__N__	} else {__N__	    // Defined a reference for marketplace : mp999dYYYMMDDHHMMSS__N__	    // TODO Use product default numbering module ?__N__		$dateRef = date (\"YmdHis\");__N__		$reference = \'mp\'.$supplier->id.\'d\'.$dateRef;__N__		__N__		$product->ref = $reference;__N__		$product->barcode = \'auto\';__N__	}__N____N__	$product->type = $product::TYPE_SERVICE;__N__	__N__	// New Products will be status 0__N__	if (!$id) {__N__	    $product->status = 0;__N__	} else {__N__	    // Author can only make product disabled__N__	    if ($object[\'status\'] == 0) {__N__	        $product->status = 0;__N__	    }__N__	}__N__	$product->status_buy = 0;__N____N__	$product->label = $object[\'name\'];__N__	$product->description = $object[\'short_description\'];__N__	$product->other = $object[\'description\'];__N__	$product->price = price2num($object[\'sale_price\']);__N__	$product->price_base_type = \'HT\';__N__	$product->tva_tx = \"20\";__N__	$product->mandatory_period = GETPOST(\"mandatoryperiod\", \'alpha\') ? 1 : 0;__N____N__	// Extrafields__N__	$product->array_options[\'options_marketplace_module_keywords\'] = $object[\'keywords\'];__N__	$product->array_options[\'options_marketplace_module_version\'] = $object[\'version\'];__N__	if (!empty($object[\'version_min\'])) {__N__    	$version_min_object = new Categorie($db);__N__    	$result = $version_min_object->fetch($object[\'version_min\']);__N__    	if ($result > 0) {__N__    	    $product->array_options[\'options_marketplace_min_version\'] = $version_min_object->label;__N__    	}__N__	}__N__	if (!empty($object[\'version_max\'])) {__N__    	$version_max_object = new Categorie($db);__N__    	$result = $version_max_object->fetch($object[\'version_max\']);__N__    	if ($result > 0) {__N__    	    $product->array_options[\'options_marketplace_max_version\'] = $version_max_object->label;__N__    	}__N__	}__N__	$product->array_options[\'options_marketplace_contact_support\'] = $object[\'contact_support\'];__N__	$object[\'dolibarr_core_include\'] = $object[\'dolibarr_core_include\'] ? 1 : 0;__N__	$product->array_options[\'options_marketplace_allow_source_in_core\'] = $object[\'dolibarr_core_include\'];__N__	//$product->array_options[\'options_marketplace_short_description\'] = $object[\'resume\'];__N__	//$product->array_options[\'options_marketplace_reason_disabled\'] = $obj->dolibarr_disable_info;__N____N__	if ($id > 0) {__N__		$result = $product->update($id, $user);__N__	} else {__N__		$result = $product->create($user);__N__	}__N__	//$result = $product->create($user);__N____N__	if ($result < 0) {__N__		dol_syslog(\"Create Error => \" . $result . \" - \" . $product->errorsToString());__N__		$error++;__N__	} else {__N__		dol_syslog(\"Product id=\".$product->id.\" successfully\");__N__	}__N__	__N__	// Add langs, categories, versions and photos__N__	if (!$error && 1) {__N__	    __N__	    // Update Price__N__	    if ($id) {__N__	        $product->updatePrice($product->price, \'HT\', $user);__N__	    }__N____N__		// Add alternative languages__N__		if ($object[\'multilangs\']) {__N__			foreach ($object[\'multilangs\'] as $key => $value) {__N__				$availableLangsShortCode = getAvailableLangs()[\'langs_code_shortcode\'];__N__				$product->multilangs[$availableLangsShortCode[$key]] = array(__N__					\'label\' => $value[\'name\'],__N__					\'description\' => $value[\'short_description\'],__N__					\'other\' => $value[\'description\'],__N__				);__N__			}__N__		}__N__		$product->multilangs;__N__		$langs->setDefaultLang(\'en_US\');__N__		$ret = $product->setMultiLangs($user);__N__		if ($ret < 0) {__N__			dol_syslog(\"Error in setMultiLangs result code = \" . $ret . \" - \" . $product->errorsToString());__N__			$error++;__N__		} else {__N__			dol_syslog(\"Set MultiLangs OK\");__N__		}__N____N__		// Add owner of a module by adding supplier price__N__		if (!$id) {__N__		    $object_ProductFournisseur = new ProductFournisseur($db);__N__		    $object_ProductFournisseur->fetch($product->id);__N__		    $object_ProductFournisseur->add_fournisseur($user, $supplier->id, $product->ref, 1);__N__		    $object_ProductFournisseur->update_buyprice(1, 0, $user, \'HT\', $supplier, 1, $supplier->ref, 20, 0, \'\', 0, 0, \'\', \'\', array(), \'\', 0, \'HT\');__N__		    dol_syslog(\"Adding supplier prices (id_fourn=\".$supplier->id.\" ref_product_fourn=\".$product->ref.\") OK\");__N__		}__N__		__N__		__N____N__		// Add  categories and versions__N__		if (!empty($object[\'version_min\']) && !empty($object[\'version_max\'])) {__N__			$version_tags = get_all_tags_between($version_min_object->label,$version_max_object->label);__N__			$version_ids = array();__N__			foreach ($version_tags as $key => $value) {__N__				$version_object = new Categorie($db);__N__				$result = $version_object->fetch(\'\', $value);__N__				$version_ids[$version_object->id] = $version_object->id;__N__			}__N__		}__N__		if (!empty($object[\'categories\'])) {__N__		    $marketplaceMainCat = array(getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\") => getDolGlobalInt(\"MARKETPLACE_ROOT_CATEGORY_ID\"));__N__		    $object[\'categories\'] = array_merge($marketplaceMainCat, $object[\'categories\']);__N__			if (!empty($version_ids)) {__N__				$object[\'categories\'] = array_merge($version_ids, $object[\'categories\']); // Add versions to categories__N__			}__N__			$ret_cat = $product->setCategories($object[\'categories\']);__N__			if ($ret_cat < 0) {__N__				dol_syslog(\"Error in setCategories result code = \" . $ret_cat . \" - \" . $product->errorsToString().\' \'.join(\',\', $object[\'categories\']));__N__				$error++;__N__			} else {__N__				dol_syslog(\"Set Categories and versions OK\");__N__			}__N__		}__N____N____N__		// Add pictures AND package__N__		$upload_dir = $conf->product->multidir_output[1] . \'/\' . get_exdir(0, 0, 0, 1, $product, \'product\');__N__		if (!is_dir($upload_dir)) {__N__			mkdir($upload_dir);__N__		}__N__		if (!empty($object[\'image_cover\'][\'name\'])) {__N__			$images[\'image_cover\'] = $object[\'image_cover\'];__N__		}__N__		if (!empty($object[\'other_images\'])) {__N__			$other_images = $object[\'other_images\'];__N__			foreach ($other_images as $key => $value) {__N__				$images[$key] = $value;__N__			}__N__		}__N__		if (!empty($images)) {__N__			foreach ($images as $key_image => $value_image) {__N__				$img = $upload_dir . \'/\' . $product->ref . \'-\' . $key_image . \'.jpg\';__N__	__N__				if (move_uploaded_file($value_image[\'tmp_name\'], $img) != true){__N__					$error++;__N__					dol_syslog(\"file copy impossible for the moment, please try again later\");__N__				} else {__N__					// Add thumb__N__					$product->addThumbs($img);__N__					__N__					$filename = basename($product->ref . \'-\' . $key_image  . \'.jpg\');__N__					$rel_dir = preg_replace(\'/^\' . preg_quote(DOL_DATA_ROOT, \'/\') . \'/\', \'\', $upload_dir);__N__					$rel_dir = preg_replace(\'/^[\\\\/]/\', \'\', $rel_dir);__N____N__					$ref = dol_hash($rel_dir . \'/\' . $filename, 3);__N____N__					// Add index to db__N__					if (empty ($id)) {__N__						addFileIntoDatabaseIndex($upload_dir, $filename, \'MARKETPLACE\', \'uploaded\', 1, $product);__N__					}__N__					__N__	__N__					// Update index to put position__N__					$ecmfile = new EcmFiles($db);__N__					$result_get_ecmfile = $ecmfile->fetch(\'\', $ref);__N__					if ($key_image == \'image_cover\'){__N__						$ecmfile->position = 0;__N__					} else {__N__						$position = preg_match(\'/_(\\d+)$/\', $key_image, $matches) ? $matches[1] : 100;__N__						$ecmfile->position = $position;__N__					}__N__					__N__					$result_update_ecmfile = $ecmfile->update($user);__N__	__N__					if ($result_update_ecmfile < 0) {__N__						dol_syslog(\"Error in set image \" . $key_image . \" result code = \" . $result_update_ecmfile . \" - \" . $ecmfile->errorsToString());__N__						$error++;__N__					} else {__N__						dol_syslog(\"Set Image \" . $key_image . \" OK\");__N__					}__N__				}__N__			}__N__		}		__N__		__N____N____N__		// Add package__N__		if (!empty($object[\'virtual_product_file\'][\'name\'])) {__N__			$package = $upload_dir . \'/\' . basename($object[\'virtual_product_file\'][\'name\']);__N____N__			if (move_uploaded_file($object[\'virtual_product_file\'][\'tmp_name\'], $package) != true){__N__				dol_syslog(\'Error: Failed to move uploaded file. \');__N__				$error++;__N__			} else {__N__			    // Get Id of current ECMFile if exist __N__			    if ($id) {__N__			        $sql_file = \"SELECT rowid \";__N__                	$sql_file .= \" FROM \".MAIN_DB_PREFIX.\"ecm_files\";__N__                	$sql_file .= \" WHERE entity IN (\".getEntity($product->element).\")\";__N__                	$sql_file .= \" AND src_object_type = \'\".$db->escape($product->element).\"\' AND src_object_id = \".((int) $product->id).\" AND position = 100 \";__N__                	$fileQuery = $db->query($sql_file);__N__                    $fileDetails = $db->fetch_object($fileQuery);__N__                    $oldFileId = $fileDetails->rowid;__N__			    }__N____N__				// Add index to db__N__				$filename = basename($object[\'virtual_product_file\'][\'name\']);__N__				addFileIntoDatabaseIndex($upload_dir, $filename, \'MARKETPLACE\', \'uploaded\', 1, $product);__N____N__				// Update index to put position__N__				$rel_dir = preg_replace(\'/^\' . preg_quote(DOL_DATA_ROOT, \'/\') . \'/\', \'\', $upload_dir);__N__				$rel_dir = preg_replace(\'/^[\\\\/]/\', \'\', $rel_dir);__N__				$ref = dol_hash($rel_dir . \'/\' . $filename, 3);__N____N__				$ecmfile = new EcmFiles($db);__N__				$result_get_ecmfile = $ecmfile->fetch(\'\', $ref);__N__				$ecmfile->position = 100;__N__				$result_update_ecmfile = $ecmfile->update($user);__N____N__				if ($result_update_ecmfile < 0) {__N__					dol_syslog(\"Error in setPackage result code = \" . $result_update_ecmfile . \" - \" . $ecmfile->errorsToString());__N__					$error++;__N__				} else {__N__					dol_syslog(\"Set Package OK\");__N__					// Delete old ECMFILE__N__					if ($id && $oldFileId) {__N__					    $ecmfiletodelete = new EcmFiles($db);__N__        				$resultecmfiletodelete = $ecmfiletodelete->fetch($oldFileId);__N__        				if ($resultecmfiletodelete > 0) {__N__        					$ecmfiletodelete->delete($user);__N__        				}__N__					}__N__				}__N__			}__N__		}__N__	}__N__    __N__    //$langs->setDefaultLang($_SESSION[\'lang\'][\'code\']);__N__	if ($error == 0) {__N__		$db->commit();__N__		dol_syslog(\"Product id=\".$product->ref.\" successfully\");__N__		return 1;__N__	} else {__N__		$db->rollback();__N__		dol_syslog(\'--- end error nb=\' . $error);__N__		return $weblangs->trans(\"errorOccurred\");__N__	}__N__}__N____N__function get_all_tags_between($start, $end) {__N__    $start_num = intval(substr($start, 1));__N__    $end_num = intval(substr($end, 1));__N__    __N__    $result = array();__N__    __N__    for ($i = $start_num; $i <= $end_num; $i++) {__N__        $result[] = \'V\' . $i;__N__    }__N__    __N__    return $result;__N__}__N____N__// Send an email__N__function marketplace_send_email($id_template, $type_template, $object, $to, $additionalSubstitutionArray) {__N__    global $db, $conf, $user;__N__    __N__    $subject = \'\';__N__	$msg = \'\';__N____N__	// Send email__N__	include_once DOL_DOCUMENT_ROOT.\'/core/class/html.formmail.class.php\';__N__	$formmail = new FormMail($db);__N__	// Set output language__N__	$outputlangs = new Translate(\'\', $conf);__N__	$outputlangs->setDefaultLang($_SESSION[\'lang\'][\'code\']);__N__	// Load traductions files required by page__N__	$outputlangs->loadLangs(array(\"main\", \"website\", \"marketplace@marketplace\"));__N____N__	// Get email content from template__N__	$arraydefaultmessage = null;__N____N__	$arraydefaultmessage = $formmail->getEMailTemplate($db, $type_template, $user, $outputlangs, $id_template, 1, \'\');__N____N__	if (!empty($id_template) && is_object($arraydefaultmessage) && $arraydefaultmessage->id > 0) {__N__		$subject = $arraydefaultmessage->topic;__N__		$msg     = $arraydefaultmessage->content;__N__	}__N____N__    //$substitutionarray = $additionalSubstitutionArray;__N__	$substitutionarray = getCommonSubstitutionArray($outputlangs, 0, null, $object);__N__	$substitutionarray = array_merge($substitutionarray, $additionalSubstitutionArray);__N__	complete_substitutions_array($substitutionarray, $outputlangs, $object);__N__	$subjecttosend = make_substitutions($subject, $substitutionarray, $outputlangs);__N__	$texttosend = make_substitutions($msg, $substitutionarray, $outputlangs);__N____N____N__	$moreinheader = \'X-Dolibarr-Info: marketplace_send_email by Marketplace\'.\"\\r\\n\";__N____N__	// Detect if message is HTML__N__	if (dol_textishtml($texttosend, 0)) {__N__		$texttosend = dol_htmlentitiesbr($texttosend);__N__	}__N____N____N__	// Envoi mail confirmation__N__	$from = $conf->email_from;__N__	if (getDolGlobalString(\'MAIN_MAIL_EMAIL_FROM\')) {__N__		$from = getDolGlobalString(\'MAIN_MAIL_EMAIL_FROM\');__N__	}__N__	if (getDolGlobalString(\'MARKETPLACE_EMAIL\')) {__N__		$from = getDolGlobalString(\'MARKETPLACE_EMAIL\');__N__	}__N____N__    $trackid = \'\';__N__    if ($object instanceof Societe) {__N__	    $trackid = \'thi\'.$object->id;__N__    }__N__    if ($object instanceof SocieteAccount) {__N__	    $trackid = \'thi\'.$object->fk_soc;__N__    }__N____N__    dol_syslog(\"marketplace_send_email: \".$from.\" - \".$to);__N__    __N__	// Send email (substitutionarray must be done just before this)__N__	include_once DOL_DOCUMENT_ROOT.\'/core/class/CMailFile.class.php\';__N__	$mailfile = new CMailFile($subjecttosend, $to, $from, $texttosend, array(), array(), array(), \'\', \'\', 0, -1, \'\', \'\', $trackid, $moreinheader);__N__	if ($mailfile->sendfile()) {__N__		return 1;__N__	} else {__N__		return 0;__N__	}__N__}__N____N__function marketplace_check_discount($id_product) {__N__    global $db;__N__    __N__    include_once DOL_DOCUMENT_ROOT . \'/categories/class/categorie.class.php\';__N____N__    $discount = 0;__N__    $mode = \"\";__N__    __N__    $canBeDiscounted = 1;__N__    // Check if this product is allowed for discount__N__    $noDiscountProductCat = getDolGlobalInt(\"MARKETPLACE_DISCOUNT_EXCLUDE_PRODUCTS_CATEGORY_ID\");__N__    if (!empty($noDiscountProductCat)) {__N__        $category = new Categorie($db);__N__        $prod_categories = $category->getListForItem($id_product, \'product\');__N____N__        foreach ($prod_categories as $prod_categorie) {__N__            if (!empty($prod_categorie[\'id\']) && $prod_categorie[\'id\'] == $noDiscountProductCat) {__N__                $canBeDiscounted = 0;__N__                break;__N__            }__N__        }__N__    }__N__    __N__    // Check discount for preferred members__N__    if ($canBeDiscounted == 1 && !empty($_SESSION[\'user\'][\'is_preferred_member\']) && $_SESSION[\'user\'][\'is_preferred_member\'] == 1) {__N__        $discountValue = getDolGlobalInt(\"MARKETPLACE_PROSPECTCUSTOMER_PREFERRED_DISCOUNT\");__N__        if (!empty($discountValue)) {__N__            $discount = $discountValue;__N__            $mode = \"percent\";__N__        }__N__    }__N__    __N__    // TODO Check discount for other cases__N__    __N__    return array(__N__        \'value\' => $discount,__N__        \'mode\' => $mode__N__    );__N__}__N____N__function marketplace_calculate_discounted_price($price, $discount) {__N__    $discounted_price = $price;__N__    if ($discount[\'value\'] && $discount[\'mode\']) {__N__        if ($discount[\'mode\'] === \"percent\") {__N__            $discounted_price = $price * ((1 - $discount[\'value\'] / 100));__N__        }__N__        __N__        if ($discount[\'mode\'] === \"amount\") {__N__            $discounted_price = $price - $discount[\'value\'];__N__        }__N__    }__N__    __N__    return $discounted_price;__N__}__N____N__function marketplaceNotifySellersBuyerByEmail ($order_id) {__N__	global $db, $website;__N____N__    dol_syslog(\"marketplaceNotifySellersBuyerByEmail: start\");__N__    __N__	// Get order__N__	require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N__	$order = new Commande($db);__N__	$result = $order->fetch($order_id);__N____N__	// Get customer__N__	$customer = new SocieteAccount($db);__N__	$result = $customer->fetch($_SESSION[\'user\'][\'id_user\']);__N__	__N__    // Get buyer__N__	$buyer = new Societe($db);__N__	$result = $buyer->fetch($customer->fk_soc);__N____N__	$products_list = \'<ol>\';__N____N__	// Find sellers__N__	$sql_get_order_products = \"select cd.fk_product, cd.qty from \".MAIN_DB_PREFIX.\"commandedet as cd where cd.fk_commande = \".((int) $order_id);__N__	__N__	if ($result_commande_det = $db->query($sql_get_order_products)) {__N__	    // Loop on each line of product__N__		while ($commande_det = $result_commande_det->fetch_object()) {__N__			// Get product__N__			$product = new Product($db);__N__			$result = $product->fetch($commande_det->fk_product);__N____N__			// Add product to list__N__			$products_list .= \'<li>[\'.$product->ref.\'] \'.$product->label.\' (x\'.$commande_det->qty.\')</li>\';__N____N__			// Get product seller__N__			$sql_get_seller_id = \"select lpfp.fk_soc from \".MAIN_DB_PREFIX.\"product_fournisseur_price lpfp where lpfp.fk_product =\".((int) $product->id). \" LIMIT 1\";__N__			$resql = $db->query($sql_get_seller_id);__N__			$objsql = $db->fetch_object($resql);__N__			__N__			if (!empty($objsql->fk_soc)) {__N__				// Get seller email__N__			    $sql_get_seller_email = \"SELECT lsa.login __N__                    FROM \".MAIN_DB_PREFIX.\"societe_account lsa __N__                    WHERE __N__                    lsa.fk_soc = \".$objsql->fk_soc.\"__N__                    AND lsa.site = \'dolibarr_website\' __N__                    AND lsa.fk_website = \" . $website->id;__N__                    __N__			    dol_syslog(\"marketplaceNotifySellersBuyerByEmail: Get seller email \".$sql_get_seller_email);__N__                    __N__                $resql = $db->query($sql_get_seller_email);__N__			    $objSocAccountEmail = $db->fetch_object($resql);__N__				__N__				if ($objSocAccountEmail) {__N__    				$seller_email = $objSocAccountEmail->login;__N__    __N__    				// Get seller name__N__    				$seller = new Societe($db);__N__    				$result = $seller->fetch($objsql->fk_soc);__N__    				$seller_name = $seller->name;__N__    				__N__    				$seller_lang = $seller->default_lang;__N__    				__N__    				if ($result > 0) {__N__    					$substitutionarray = array(__N__    						\'__SELLER_NAME__\' => $seller_name,__N__    						\'__BUYER_NAME__\' => strtoupper($_SESSION[\'user\'][\'pseudo\']),__N__    						\'__BUYER_EMAIL__\' => $_SESSION[\'user\'][\'email\'],__N__    						\'__BUYER_ADDRESS__\' => $buyer->address,__N__    						\'__BUYER_ZIP__\' => $buyer->zip,__N__    						\'__BUYER_TOWN__\' => $buyer->town,__N__    						\'__BUYER_COUNTRY__\' => $buyer->country_code,__N__    						\'__BUYER_IDPROF2__\' => $buyer->idprof2,__N__    						\'__BUYER_TVAINTRA__\' => $buyer->tva_intra,__N__    						\'__ORDER_REF__\' => $order->ref,__N__    						\'__ORDER_DATE__\' => dol_print_date($order->date, \'day\'),__N__    						\'__PRODUCTREF__\' => $product->ref,__N__    						\'__PRODUCT__\' => $product->label,__N__    						\'__QTY__\' => $commande_det->qty__N__    					);__N__    					__N__    					dol_syslog(\"marketplaceNotifySellersBuyerByEmail: send email MARKETPLACE_SELLERS_ORDER_CONFIRMATION_TEMPLATE to \".$seller_email);__N__    					__N__    					marketplace_send_email(getDolGlobalInt(\"MARKETPLACE_SELLERS_ORDER_CONFIRMATION_TEMPLATE\"), \'order_send\', $seller, $seller_email, $substitutionarray);__N__    				}__N__				}__N__			}__N__		}__N__	}__N__	$products_list .= \"</ol>\";__N__	__N__	__N__	// Send buyer email__N__	$substitutionarray = array(__N__		\'__BUYER_NAME__\' => strtoupper($_SESSION[\'user\'][\'pseudo\']),__N__		\'__ORDER_REF__\' => $order->ref,__N__		\'__ORDER_DATE__\' => dol_print_date($order->date, \'day\'),__N__		\'__PRODUCTS__\' => $products_list__N__	);__N__	//marketplace_send_email(151, $customer, $customer->login, $substitutionarray);__N__	return marketplace_send_email(getDolGlobalInt(\"MARKETPLACE_BUYER_ORDER_CONFIRMATION_TEMPLATE\"), \'order_send\', $customer, $customer->login, $substitutionarray);__N____N__    dol_syslog(\"marketplaceNotifySellersBuyerByEmail: end\");__N__}__N____N____N__function dolSlugify($string)__N__{__N__    // Convert special characters to their ASCII equivalents__N__    $slug = iconv(\'UTF-8\', \'ASCII//TRANSLIT//IGNORE\', $string);__N__    __N__    // Convert to lowercase__N__    $slug = strtolower($slug);__N__    __N__    // Replace non-alphanumeric characters with hyphens__N__    $slug = preg_replace(\'/[^a-z0-9]+/\', \'-\', $slug);__N__    __N__    // Remove leading and trailing hyphens__N__    $slug = trim($slug, \'-\');__N__    __N__    return $slug;__N__}__N____N__?>', '', 0);

-- Page ID 57__+MAX_llx_website_page__ - Aliases _service_download --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(57__+MAX_llx_website_page__, null, __WEBSITE_ID__, '_service_download', '', 'download', '', '', '', '', '1', '2025-01-08 16:43:53', '2025-01-09 19:31:41', null, '', 'service', '', '<?php__N____N__include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\"/commande/class/commande.class.php\";__N__include_once DOL_DOCUMENT_ROOT.\'/ecm/class/ecmfiles.class.php\';__N__require_once DOL_DOCUMENT_ROOT.\'/core/lib/security2.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/lib/date.lib.php\';__N____N__$type = GETPOST(\'t\', \'alpha\');__N__$order_ref = GETPOST(\'r\', \'alpha\');__N__$id_produit = GETPOST(\'p\', \'alpha\');__N__$user_id = GETPOST(\'u\', \'alpha\');__N____N__// Link for paied modules __N__if ($type == \"paied\") {__N__    if (!empty($order_ref) && !empty($id_produit) && !empty($user_id)) {__N__    __N__        // Get Account ID.__N__        $customer_account = new SocieteAccount($db);__N__        $result = $customer_account->fetch($user_id);__N__        $customer_id = $customer_account->fk_soc;__N__    __N__        // Check given informations__N__        $sql_find_order = \"SELECT c.rowid, c.ref, c.fk_statut, c.fk_soc, c.date_creation, c.module_source \";__N__        $sql_find_order .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__        $sql_find_order .= \"WHERE c.fk_soc = \" . $customer_id . \" and c.ref = \'\" . $order_ref . \"\' and c.fk_statut= 1 and (c.facture = 1 OR c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__        $sql_find_order .= \"LIMIT 1\";__N__        $find_order = $db->query($sql_find_order);__N__        $obj_order = $db->fetch_object($find_order);__N__        __N__        if (empty($obj_order)) {__N__            http_response_code(404);__N__            echo $weblangs->trans(\"unfoundedOrder\");__N__            exit;__N__        }__N__    __N__        $order_ref = $obj_order->ref;__N__        $order_object = new Commande($db);__N__        $result = $order_object->fetch(\'\', $order_ref);__N__        if ($result < 0) {__N__            http_response_code(404);__N__            echo $weblangs->trans(\"unfoundedOrder\");__N__            exit;__N__        }__N__    __N__        $one_year_ago = dol_time_plus_duree(dol_now(), -1, \'y\');__N__        if ($order_object->date < $one_year_ago) {__N__            http_response_code(410);__N__            echo $weblangs->trans(\"invalidLink\");__N__            exit;__N__        }__N__    __N__        $lines = $order_object->lines;__N__        $check_product = false;__N__        foreach ($lines as $line) {__N__            if ($line->fk_product == $id_produit) {__N__                $check_product = true;__N__                break;__N__            }__N__        }__N__    __N__        if (!$check_product) {__N__            http_response_code(403);__N__            echo $weblangs->trans(\"productNotFoundInOrder\");__N__            exit;__N__        }__N__    __N__        $product = new Product($db);__N__        $ret = $product->fetch($line->fk_product);__N____N__        $sql_file = \"SELECT rowid, ref, share, filename, filepath, cover, position\";__N__    	$sql_file .= \" FROM \".MAIN_DB_PREFIX.\"ecm_files\";__N__    	$sql_file .= \" WHERE entity IN (\".getEntity($product->element).\")\";__N__    	$sql_file .= \" AND src_object_type = \'\".$db->escape($product->element).\"\' AND src_object_id = \".((int) $product->id).\" AND position = 100 \";__N__    	$sql_file .= $db->order(\"date_c\", \"DESC\");__N__    	$sql_file .= $db->plimit(1);__N__    	$fileQuery = $db->query($sql_file);__N__        $fileDetails = $db->fetch_object($fileQuery);__N__        $file_path = DOL_DATA_ROOT . \"/\" . $fileDetails->filepath . \"/\" .$fileDetails->filename;__N__    __N__        if (!empty($file_path)) {__N__            $type = dol_mimetype($fileDetails->filename);__N__            header(\'Content-Type: \'.$type);__N__            header(\'Content-Description: File Transfer\');__N__            header(\'Content-Disposition: attachment; filename=\"\' . $fileDetails->filename . \'\"\');__N__            readfile($file_path);__N__            exit;__N__        }__N__        else {__N__            http_response_code(404);__N__            echo $weblangs->trans(\"FileNotFound\");__N__            exit;__N__        }__N__    }__N__}__N____N__// Link for free modules __N__if ($type == \"free\") {__N__    if (!empty ($id_produit)) {__N__        $product = new Product($db);__N__        $ret = $product->fetch($id_produit);__N__        __N__        if ($product->price_ttc == 0) {__N__            $sql_file = \"SELECT rowid, ref, share, filename, filepath, cover, position\";__N__        	$sql_file .= \" FROM \".MAIN_DB_PREFIX.\"ecm_files\";__N__        	$sql_file .= \" WHERE entity IN (\".getEntity($product->element).\")\";__N__        	$sql_file .= \" AND src_object_type = \'\".$db->escape($product->element).\"\' AND src_object_id = \".((int) $product->id).\" AND position = 100 \";__N__        	$sql_file .= $db->order(\"date_c\", \"DESC\");__N__        	$sql_file .= $db->plimit(1);__N__        	$fileQuery = $db->query($sql_file);__N__            $fileDetails = $db->fetch_object($fileQuery);__N__            $file_path = DOL_DATA_ROOT . \"/\" . $fileDetails->filepath . \"/\" .$fileDetails->filename;__N__            __N__            if (!empty($file_path)) {__N__                $type = dol_mimetype($fileDetails->filename);__N__                header(\'Content-Type: \'.$type);__N__                header(\'Content-Description: File Transfer\');__N__                header(\'Content-Disposition: attachment; filename=\"\' . $fileDetails->filename . \'\"\');__N__                header(\'Cache-Control: no-cache\');__N__                readfile($file_path);__N__                exit;__N__            }__N__            else {__N__                http_response_code(404);__N__                echo $weblangs->trans(\"FileNotFound\");__N__                exit;__N__            }__N__        } else {__N__            echo $weblangs->trans(\"paiedProduct\");__N__        }__N__    }__N__}__N____N__?>__N__', '', 0);

-- Page ID 58__+MAX_llx_website_page__ - Aliases _service_page_ajax --;
INSERT INTO llx_website_page(rowid, fk_page, fk_website, pageurl, aliasalt, title, description, lang, image, keywords, status, date_creation, tms, import_key, grabbed_from, type_container, htmlheader, content, author_alias, allowed_in_frames) VALUES(58__+MAX_llx_website_page__, null, __WEBSITE_ID__, '_service_page_ajax', '', 'ajax', '', '', '', '', '1', '2024-05-22 11:20:07', '2025-01-14 11:08:21', null, '', 'service', '', '<?php__N__/* Copyright (C) 2008-2011  Laurent Destailleur     <eldy@users.sourceforge.net>__N__ *__N__ * This program is free software; you can redistribute it and/or modify__N__ * it under the terms of the GNU General Public License as published by__N__ * the Free Software Foundation; either version 3 of the License, or__N__ * (at your option) any later version.__N__ *__N__ * This program is distributed in the hope that it will be useful,__N__ * but WITHOUT ANY WARRANTY; without even the implied warranty of__N__ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the__N__ * GNU General Public License for more details.__N__ *__N__ * You should have received a copy of the GNU General Public License__N__ * along with this program. If not, see <https://www.gnu.org/licenses/>.__N__ * or see https://www.gnu.org/__N__ */__N____N__session_start(); // start session__N__/*print \'<pre>\';__N__print_r($website);__N__print \'</pre>\';__N__exit;*/__N__//require \"../../master.inc.php\";__N__include_once DOL_DOCUMENT_ROOT.\'/product/class/product.class.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/website/class/website.class.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/lib/website.lib.php\';__N__include_once DOL_DOCUMENT_ROOT.\'/core/lib/files.lib.php\';__N__includeContainer(\'_library_page_lib.php\', 1);__N__setSessionLang();__N____N__$website_id = getDolGlobalInt(\"MARKETPLACE_WEBSITE_ID\");__N____N__$weblangs->load(\"marketplace@marketplace\");__N____N__$website_object = new Website($db);__N__$this_website = $website_object->fetch($website_id);__N__if (!defined(\'USEDOLIBARRSERVER\')) {__N__	$order_page_url = \"order.php\";__N__} else {__N__	$order_page_url = \"index.php?website=\".$website->ref.\"&pageref=order\";__N__}__N____N__$product_id = GETPOST(\'product_id\', \'int\');__N__$product_thumb = GETPOST(\'product_thumb\');__N__$product_qty = GETPOST(\'product_quantity\', \'int\');__N____N__if ($product_id && $product_qty) {__N____N__	$object = new Product($db);__N__	$get_product = $object->fetch($product_id);__N__	__N__	// check discount and calculate discounted price__N__    $discount = marketplace_check_discount($object->id);__N__    $discounted_price = marketplace_calculate_discounted_price($object->price_ttc, $discount);__N__    __N__    if ($discounted_price != $object->price_ttc) {__N__        $price_to_display = $discounted_price;__N__    } else {__N__        $price_to_display = $object->price_ttc;__N__    }__N____N__    $new_product[\'product_id\'] = $object->id;__N__    $new_product[\'product_thumb\'] = $product_thumb;__N__    $new_product[\'product_name\'] = $object->label;__N__    $new_product[\'product_ref\'] = $object->ref;__N__    $new_product[\'product_price\'] = $price_to_display;__N__    $new_product[\'product_qty\'] = $product_qty;__N____N__        if(isset($_SESSION[\'products\'])){  //if session var already exist__N____N__            if(isset($_SESSION[\'products\'][$new_product[\'product_id\']])) //check item exist in products array__N__            {__N__                unset($_SESSION[\'products\'][$new_product[\'product_id\']]); //unset old item__N__            }__N__        }__N____N__        $_SESSION[\'products\'][$new_product[\'product_id\']] = $new_product;	//update products with new item array__N____N__    $total_items = count($_SESSION[\'products\']); //count total items__N____N__    $popup_product_html = \'__N__        <span class=\"cross\" title=\"Close window\"></span>__N__        <h2>__N__            <i class=\"icon-ok\"></i>\'.$weblangs->trans(\"ProductAddedSuccessfully\").\'__N__        </h2>__N__        <div class=\"product-image-container layer_cart_img\">__N__            <img class=\"layer_cart_img img-responsive\" src=\"\'.$product_thumb.\'\" alt=\"\'.$object->label.\'\" title=\"\'.$object->label.\'\">__N__        </div>__N__        <div id=\"layer_cart_product_info\">__N__            <span id=\"layer_cart_product_title\" class=\"product-name\">\'.$object->label.\'</span>__N__            <span id=\"layer_cart_product_attributes\"></span>__N__            <div>__N__            <strong class=\"dark\">\'.$weblangs->trans(\"Quantity\").\' : </strong>__N__            <span id=\"layer_cart_product_quantity\">\'.$product_qty.\'</span>__N__            </div>__N__            <div>__N__            <strong class=\"dark\">\'.$weblangs->trans(\"total\").\' : </strong>__N__            <span id=\"layer_cart_product_price\">(\'.($product_qty * $price_to_display).\' €)</span>__N__            </div>__N__        </div>\';__N____N__    die(json_encode(array(\'items\'=>$total_items,\'popup_product_html\'=>$popup_product_html))); //output json__N____N__}__N____N__if (GETPOST(\'load_cart\') && GETPOST(\'load_cart\') == 1) {__N__    if (isset($_SESSION[\'products\']) && count($_SESSION[\'products\']) > 0) { //if we have session variable__N__    __N__    __N__        $cart_box = \'__N__        <p class=\"cart-buttons\">__N__            <a id=\"button_order_cart\" class=\"btn btn-default button button-small\" href=\"\' . $order_page_url . \'\" title=\"Check out\" rel=\"nofollow\">__N__                <span> \'.$weblangs->trans(\"cartCheckout\").\' <i class=\"icon-chevron-right right\"></i>__N__                </span>__N__            </a>__N__        </p>__N__        \';__N__        __N__        $total = 0;__N__        foreach($_SESSION[\'products\'] as $cart_product){ //loop though items and prepare html content__N____N__            $cart_box .= \"<dl class=\\\"products\\\">__N__                <dt class=\\\"item\\\" data-id=\\\"cart_block_product_\" . $cart_product[\'product_id\'] . \"\\\" style=\\\"display: block;\\\">__N__                    <a class=\\\"cart-images\\\" href=\\\"product.php?id=\" . $cart_product[\'product_id\'] . \"\\\" title=\\\"\" . $cart_product[\'product_name\'] . \"\\\"><img src=\\\"\" . $cart_product[\'product_thumb\'] . \"\\\" alt=\\\"\" . $cart_product[\'product_name\'] . \"\\\"></a>__N__                    <div class=\\\"cart-info\\\">__N__                        <div class=\\\"product-name\\\"><span class=\\\"quantity-formated\\\"><span class=\\\"quantity\\\">\" . $cart_product[\'product_qty\'] . \"</span>&nbsp;x&nbsp;</span><a href=\\\"product.php?id=\" . $cart_product[\'product_id\'] . \"\\\" title=\\\"\" . $cart_product[\'product_name\'] . \"\\\" class=\\\"cart_block_product_name truncate3\\\">\" . $cart_product[\'product_name\'] . \"</a></div>__N__                        <span class=\\\"price\\\">\" . price($cart_product[\'product_price\']) . \" €</span>__N__                    </div>__N__                    <span class=\\\"remove_link\\\"><a rel=\\\"nofollow\\\" class=\\\"ajax_cart_block_remove_link\\\" href=\\\"\\\" data-code=\\\"\" . $cart_product[\'product_id\'] . \"\\\"> </a></span>__N__                </dt>__N__            </dl>\";__N____N__            $subtotal = ($cart_product[\'product_price\'] * $cart_product[\'product_qty\']);__N__            $total = ($total + $subtotal);__N__        }__N__        $cart_box .= \'__N__        <div class=\"cart-prices\">__N__            <div class=\"cart-prices-line first-line last-line\">__N__                <span class=\"price cart_block_total ajax_block_cart_total\">\' . $total . \' €</span>__N__                <span>\'.$weblangs->trans(\"Total\").\'</span>__N__            </div>__N__            <p> \'.$weblangs->trans(\"priceDependCountry\").\' </p>__N__        </div>__N__        \';__N__        die($cart_box); //exit and output content__N__    }else{__N__        die(\"<p class=\'cart_block_no_products\'> No products </p>\"); //we have empty cart__N__    }__N__}__N____N__if (GETPOST(\'load_popup_products_html\') && GETPOST(\'load_popup_products_html\') == 1) {__N__    if(isset($_SESSION[\'products\']) && count($_SESSION[\'products\'])>0){ //if we have session variable__N__        $total = 0;__N__        foreach($_SESSION[\'products\'] as $cart_product){ //loop though items and prepare html content__N__            $subtotal = ($cart_product[\'product_price\'] * $cart_product[\'product_qty\']);__N__            $total = ($total + $subtotal);__N__        }__N__        if(count($_SESSION[\'products\']) == 1){__N__            $title = \'<span class=\"ajax_cart_product_txt\"> \'.$weblangs->trans(\"OneItemInCart\").\' </span>\';__N__        }else{__N__            $title = \'<span class=\"ajax_cart_product_txt_s\"> \'.$weblangs->trans(\"NbreProductsInCart\", count($_SESSION[\"products\"])).\' </span>\';__N__        }__N__        $popup_products_html = \'__N__        <h2>\'.$title.\'</h2>__N__        <div class=\"layer_cart_row\">__N__            <strong class=\"dark\"> \'.$weblangs->trans(\"TotalProductsInCart\").\' </strong>__N__            <span class=\"ajax_block_products_total\">\'.$total.\' €</span>__N__        </div>__N__        <div class=\"button-container\">__N__            <span class=\"continue btn btn-default button exclusive-medium\" title=\"\'.$weblangs->trans(\"ContinueShopping\").\'\">__N__            <span>__N__                <i class=\"icon-chevron-left left\"></i>\'.$weblangs->trans(\"ContinueShopping\").\' </span>__N__            </span>__N__            <a class=\"btn btn-default button button-medium\" href=\"\' . $order_page_url . \'\" title=\"\'.$weblangs->trans(\"ProceedToCheckout\").\'\" rel=\"nofollow\">__N__            <span> \'.$weblangs->trans(\"ProceedToCheckout\").\' <i class=\"icon-chevron-right right\"></i>__N__            </span>__N__            </a>__N__        </div>\';__N____N__        die($popup_products_html); //exit and output content__N__    }__N__}__N____N____N__// Remove item from shopping cart__N__if (GETPOST(\'remove_code\') && isset($_SESSION[\'products\'])) {__N__    $product_code   = GETPOST(\'remove_code\'); //get the product code to remove__N____N__    if(isset($_SESSION[\'products\'][$product_code]))__N__    {__N__        unset($_SESSION[\'products\'][$product_code]);__N__    }__N____N__    $total_items = count($_SESSION[\'products\']);__N__    die(json_encode(array(\'items\'=>$total_items)));__N__}__N____N__if (GETPOST(\'action\') && GETPOST(\'action\') == \"update_order\" && GETPOST(\'order\')) {__N__    include_once DOL_DOCUMENT_ROOT . \'/ecm/class/ecmfiles.class.php\';__N__    $error = 0;__N__    foreach (GETPOST(\'order\') as $id_image => $position_image) {__N__        $ecmfile = new EcmFiles($db);__N__        $result_get_ecmfile = $ecmfile->fetch($id_image);__N__        $ecmfile->position = $db->escape($position_image);__N__        $result_update_ecmfile = $ecmfile->update($user);__N__        if ($result_update_ecmfile < 0) {__N__		    $error++;__N__    	}__N__    }    __N__    if ($error > 0) {__N__        die(json_encode(array(\'success\' => false, \'message\' => $weblangs->trans(\'errorOccurred\'))));__N__	} else {__N__		die(json_encode(array(\'success\' => true, \'message\' => $weblangs->trans(\'orderChanged\'))));__N__	}__N____N__}__N____N__if ($_SERVER[\'REQUEST_METHOD\'] == \'POST\' && GETPOST(\'action\') == \'add_product_image\' && GETPOST(\'position\') && GETPOST(\'product_id\') && isset($_FILES[\'file\'][\'name\'])) {__N__    $error = 0;__N__    $error_messages = \'\';__N__    $product = new Product($db);__N__	$ret = $product->fetch(GETPOST(\'product_id\', \'int\'));__N__	if ($ret < 0) {__N__		$error++;__N__	}__N__    __N__    if ($error == 0) {__N__        $checkImage = checkImage($_FILES[\'file\']);__N__        if ($checkImage != false) {__N__            $error++;__N__    	    $error_messages = $checkImage;__N__        }__N__    }__N__    __N__    if ($error == 0){__N__        $upload_dir = $conf->product->multidir_output[1] . \'/\' . get_exdir(0, 0, 0, 1, $product, \'product\');__N__        $img = $upload_dir . \'/\' . $product->ref . \'-image_\' . GETPOST(\'position\', \'int\') . \'.jpg\';__N__        if (move_uploaded_file($_FILES[\'file\'][\'tmp_name\'], $img) != true){__N__            $error++;__N__            $error_messages = $weblangs->trans(\'fileCopyError\');__N__        } else {__N__            // Add thumb__N__            $product->addThumbs($img);__N____N__            // Add index to db__N__            $filename = basename($product->ref . \'-image_\' . GETPOST(\'position\', \'int\')  . \'.jpg\');__N__    		addFileIntoDatabaseIndex($upload_dir, $filename, \'MARKETPLACE\', \'uploaded\', 1, $product);__N__    __N__    		// Update index to put position__N__    		$rel_dir = preg_replace(\'/^\' . preg_quote(DOL_DATA_ROOT, \'/\') . \'/\', \'\', $upload_dir);__N__    		$rel_dir = preg_replace(\'/^[\\\\/]/\', \'\', $rel_dir);__N__    		$ref = dol_hash($rel_dir . \'/\' . $filename, 3);__N__    __N__    		$ecmfile = new EcmFiles($db);__N__    		$result_get_ecmfile = $ecmfile->fetch(\'\', $ref);__N__    __N__    		$ecmfile->position = GETPOST(\'position\', \'int\');__N__    		__N__    		$result_update_ecmfile = $ecmfile->update($user);__N__    __N__    		if ($result_update_ecmfile < 0) {__N__    			$error++;__N__    		    $error_messages = $weblangs->trans(\'fileCopyError\');__N__    	    }__N__    	}__N__    }__N__    __N__    if ($error > 0) {__N__        die(json_encode(array(\'success\' => false, \'message\' => $error_messages)));__N__	} else {__N__		die(json_encode(array(\'success\' => true, \'message\' => $weblangs->trans(\'imageAdded\'))));__N__	}__N__}__N____N__if (GETPOST(\'action\') == \"delete_image\" && GETPOST(\'id_image\')) {__N__    include_once DOL_DOCUMENT_ROOT . \'/ecm/class/ecmfiles.class.php\';__N__    $id_image = GETPOSTINT(\'id_image\');__N__    $error = 0;__N__    $ecmfile = new EcmFiles($db);__N__    $result_get_ecmfile = $ecmfile->fetch($id_image);__N__    $result_delete_ecmfile = $ecmfile->delete($user);__N__    if ($result_delete_ecmfile < 0) {__N__	    $error++;__N__	}__N__	__N__    if ($error > 0) {__N__        die(json_encode(array(\'success\' => false, \'message\' => $weblangs->trans(\'errorOccurred\'))));__N__	} else {__N__		die(json_encode(array(\'success\' => true, \'message\' => $weblangs->trans(\'imageDeleted\'))));__N__	}__N____N__}__N____N__// Generate CVS of sells history__N__if (GETPOST(\'sells_history\') && GETPOST(\'sells_history\') == 1) {__N____N__    // Get Account ID.__N__    include_once DOL_DOCUMENT_ROOT.\'/societe/class/societeaccount.class.php\';__N__    $user_id = $_SESSION[\'user\'][\'id_user\'];__N__    $customer_account = new SocieteAccount($db);__N__    $result = $customer_account->fetch($user_id);__N__    $customer_id = $customer_account->fk_soc;__N__    __N__    // Render a CSV of another customer__N__    if (!empty(GETPOST(\'id_customer\')) && GETPOST(\'id_customer\') != $customer_id) {__N__        // Only for members with a specific role__N__        require_once DOL_DOCUMENT_ROOT.\"/adherents/class/adherent.class.php\";__N__        $membre = new Adherent($db);__N__        $result = $membre->fetch(\'\', 0, $customer_id);__N__        __N__        $adminsCat = new Categorie($db);__N__    	$adminsCat->fetch(1);__N__    	__N__    	$result = $adminsCat->containsObject(\'member\', $membre->id);__N__    	if ($result > 0) {__N__            $customer_id = GETPOST(\'id_customer\');__N__    	}__N__    }__N____N____N__    // Get liste of products__N__    $products_ids = array();__N__    $sql = \'SELECT fk_product, MIN(datec) AS first_date FROM \'.MAIN_DB_PREFIX.\"product_fournisseur_price WHERE fk_soc = \".((int) $customer_id). \" GROUP BY fk_product ORDER BY first_date DESC\";__N__    if ($result_products = $db->query($sql)) {__N__    	while ($product_id = $result_products->fetch_object()) {__N__            $products_ids[] = $product_id->fk_product;__N__    	}__N__    }__N__    $products_ids_str = implode(\',\', $products_ids);__N__    __N____N__    /*$data_for_csv = \"SELECT s.nom as customer, c.date_commande as registred_on, sp.email, sc.label as country, c.date_commande, p.rowid as product_id ,p.label ,p.ref, d.total_ht as total_earned, d.total_ht as total_origin, c.fk_statut \";__N__    $data_for_csv .= \"FROM \".MAIN_DB_PREFIX.\"commande as c, \".MAIN_DB_PREFIX.\"commandedet as d , \".MAIN_DB_PREFIX.\"product as p , \".MAIN_DB_PREFIX.\"societe as s , \".MAIN_DB_PREFIX.\"socpeople as sp , \".MAIN_DB_PREFIX.\"c_country as sc \";__N__    $data_for_csv .= \"WHERE p.rowid = d.fk_product AND s.rowid = c.fk_soc AND sp.fk_soc = s.rowid AND sp.fk_pays = sc.rowid AND c.rowid = d.fk_commande and d.fk_product IN (\" . $products_ids_str . \") and d.total_ht != 0 and c.fk_statut IN (1,3) and (c.facture = 1 || c.ref_ext IS NOT NULL) and c.module_source = \'Marketplace\' \";__N__    $data_for_csv .= \"ORDER BY c.date_commande DESC\";*/__N__    __N__    $data_for_csv = \"SELECT c.rowid as c_id, d.rowid as d_id, s.nom as customer, s.datec as registred_on, sp.email, sc.label as country, c.date_commande, \";__N__    $data_for_csv .= \"p.rowid as product_id, p.label, p.ref, d.total_ht as total_earned, d.total_ht as total_origin, c.fk_statut \";__N__    $data_for_csv .= \"FROM \".MAIN_DB_PREFIX.\"commande as c \";__N__    $data_for_csv .= \"JOIN \".MAIN_DB_PREFIX.\"commandedet as d ON c.rowid = d.fk_commande \";__N__    $data_for_csv .= \"JOIN \".MAIN_DB_PREFIX.\"product as p ON p.rowid = d.fk_product \";__N__    $data_for_csv .= \"JOIN \".MAIN_DB_PREFIX.\"societe as s ON s.rowid = c.fk_soc \";__N__    $data_for_csv .= \"JOIN \".MAIN_DB_PREFIX.\"societe_account as sa ON s.rowid = sa.fk_soc \";__N__    $data_for_csv .= \"JOIN \".MAIN_DB_PREFIX.\"socpeople as sp ON sp.fk_soc = s.rowid  AND sp.ref_ext = sa.rowid \";__N__    $data_for_csv .= \"JOIN \".MAIN_DB_PREFIX.\"c_country as sc ON sp.fk_pays = sc.rowid \";__N__    $data_for_csv .= \"WHERE d.fk_product IN (\" . $products_ids_str . \") \";__N__    $data_for_csv .= \"AND d.total_ht != 0 \";__N__    $data_for_csv .= \"AND c.fk_statut IN (1,3) \";__N__    $data_for_csv .= \"AND (c.facture = 1 OR c.ref_ext IS NOT NULL) \";__N__    $data_for_csv .= \"AND c.module_source = \'Marketplace\' \";__N__    $data_for_csv .= \"ORDER BY c.date_commande DESC\";__N__    //print $data_for_csv;__N__    __N__    //print $data_for_csv;__N____N__    if ($result_data_for_csv = $db->query($data_for_csv)) {__N__        $row_no = 1;__N__        $data = [__N__            [\'#\', \'Customer\', \'Customer date creation\', \'Customer email\', \'Customer country\', \'Date sell\', \'Product id\', \'Product label\', \'Product ref\', \'Amount earned\', \'Amount origin\', \'Note\']__N__        ];__N__        $current_date = new DateTime();__N__        while ($row = $result_data_for_csv->fetch_object()) {__N____N__            $date_commande = new DateTime($row->date_commande);__N__        __N__            $interval = $current_date->diff($date_commande);__N__            $days_diff = $interval->days;__N__            __N__            if ($days_diff > 30) {__N__                $status = \'validated\';__N__            } else {__N__                $status = \'\';__N__            }__N__            __N__            $data[] = [__N__                $row_no++,__N__                $row->customer,__N__                $row->registred_on,__N__                $row->email,__N__                $row->country,__N__                $row->date_commande,__N__                $row->product_id,__N__                $row->label,__N__                $row->ref,__N__                /*price($row->total_earned),__N__                price($row->total_origin),*/__N__                number_format($row->total_earned, 2, \'.\', \'\'),__N__                number_format($row->total_origin, 2, \'.\', \'\'),__N__                $status__N__            ];__N__        }__N__    }__N____N__    $filepath = \'export_\' . date(\'Ymd\') . \'.csv\';__N____N__    $fp = fopen($filepath, \'w\');__N____N__    foreach ($data as $row) {__N__        fputcsv($fp, $row, \';\');__N__    }__N____N__    fclose($fp);__N__    __N__    __N__    print json_encode([\'filepath\' => $filepath]);__N__    exit();__N__}__N____N____N__if (GETPOST(\'filepath\') && GETPOST(\'action\') === \'remove_csv\') {__N__    $filepath = GETPOST(\'filepath\');__N__    if (file_exists($filepath)) {__N__        unlink($filepath);__N__        echo json_encode([\'status\' => \'success\', \'message\' => \'File deleted\']);__N__    } else {__N__        echo json_encode([\'status\' => \'error\', \'message\' => \'file not found\']);__N__    }__N__}__N____N____N____N____N__?>__N__', '', 0);


-- For Dolibarr v14+ --;
UPDATE llx_website SET lang = 'en' WHERE rowid = __WEBSITE_ID__;
UPDATE llx_website SET otherlang = 'fr,de,it,es' WHERE rowid = __WEBSITE_ID__;

